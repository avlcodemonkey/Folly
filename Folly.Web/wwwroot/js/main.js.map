{"version":3,"file":"main.js","mappings":"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","sources":["webpack://folly/./Assets/js/lib/htmx.org/htmx.js","webpack://folly/webpack/bootstrap","webpack://folly/webpack/runtime/global","webpack://folly/./Assets/js/lib/alpinejs/scheduler.js","webpack://folly/./Assets/js/lib/alpinejs/reactivity.js","webpack://folly/./Assets/js/lib/alpinejs/mutation.js","webpack://folly/./Assets/js/lib/alpinejs/scope.js","webpack://folly/./Assets/js/lib/alpinejs/interceptor.js","webpack://folly/./Assets/js/lib/alpinejs/magics.js","webpack://folly/./Assets/js/lib/alpinejs/utils/error.js","webpack://folly/./Assets/js/lib/alpinejs/evaluator.js","webpack://folly/./Assets/js/lib/alpinejs/directives.js","webpack://folly/./Assets/js/lib/alpinejs/utils/dispatch.js","webpack://folly/./Assets/js/lib/alpinejs/utils/walk.js","webpack://folly/./Assets/js/lib/alpinejs/utils/warn.js","webpack://folly/./Assets/js/lib/alpinejs/lifecycle.js","webpack://folly/./Assets/js/lib/alpinejs/nextTick.js","webpack://folly/./Assets/js/lib/alpinejs/utils/classes.js","webpack://folly/./Assets/js/lib/alpinejs/utils/styles.js","webpack://folly/./Assets/js/lib/alpinejs/utils/once.js","webpack://folly/./Assets/js/lib/alpinejs/directives/x-transition.js","webpack://folly/./Assets/js/lib/alpinejs/clone.js","webpack://folly/./Assets/js/lib/alpinejs/utils/bind.js","webpack://folly/./Assets/js/lib/alpinejs/utils/debounce.js","webpack://folly/./Assets/js/lib/alpinejs/utils/throttle.js","webpack://folly/./Assets/js/lib/alpinejs/store.js","webpack://folly/./Assets/js/lib/alpinejs/binds.js","webpack://folly/./Assets/js/lib/alpinejs/datas.js","webpack://folly/./Assets/js/lib/alpinejs/alpine.js","webpack://folly/./Assets/js/lib/alpinejs/plugin.js","webpack://folly/./node_modules/@vue/shared/dist/shared.esm-bundler.js","webpack://folly/./node_modules/@vue/reactivity/dist/reactivity.esm-bundler.js","webpack://folly/./Assets/js/lib/alpinejs/magics/$nextTick.js","webpack://folly/./Assets/js/lib/alpinejs/magics/$dispatch.js","webpack://folly/./Assets/js/lib/alpinejs/magics/$watch.js","webpack://folly/./Assets/js/lib/alpinejs/magics/$store.js","webpack://folly/./Assets/js/lib/alpinejs/magics/$data.js","webpack://folly/./Assets/js/lib/alpinejs/magics/$root.js","webpack://folly/./Assets/js/lib/alpinejs/magics/$refs.js","webpack://folly/./Assets/js/lib/alpinejs/ids.js","webpack://folly/./Assets/js/lib/alpinejs/magics/index.js","webpack://folly/./Assets/js/lib/alpinejs/entangle.js","webpack://folly/./Assets/js/lib/alpinejs/magics/$id.js","webpack://folly/./Assets/js/lib/alpinejs/magics/$el.js","webpack://folly/./Assets/js/lib/alpinejs/directives/x-modelable.js","webpack://folly/./Assets/js/lib/alpinejs/directives/x-teleport.js","webpack://folly/./Assets/js/lib/alpinejs/directives/x-ignore.js","webpack://folly/./Assets/js/lib/alpinejs/utils/on.js","webpack://folly/./Assets/js/lib/alpinejs/directives/x-model.js","webpack://folly/./Assets/js/lib/alpinejs/directives/x-for.js","webpack://folly/./Assets/js/lib/alpinejs/directives/x-ref.js","webpack://folly/./Assets/js/lib/alpinejs/directives/index.js","webpack://folly/./Assets/js/lib/alpinejs/directives/x-effect.js","webpack://folly/./Assets/js/lib/alpinejs/directives/x-cloak.js","webpack://folly/./Assets/js/lib/alpinejs/directives/x-init.js","webpack://folly/./Assets/js/lib/alpinejs/directives/x-text.js","webpack://folly/./Assets/js/lib/alpinejs/directives/x-html.js","webpack://folly/./Assets/js/lib/alpinejs/directives/x-bind.js","webpack://folly/./Assets/js/lib/alpinejs/directives/x-data.js","webpack://folly/./Assets/js/lib/alpinejs/directives/x-show.js","webpack://folly/./Assets/js/lib/alpinejs/directives/x-if.js","webpack://folly/./Assets/js/lib/alpinejs/directives/x-id.js","webpack://folly/./Assets/js/lib/alpinejs/directives/x-on.js","webpack://folly/./Assets/js/lib/alpinejs/index.js","webpack://folly/./Assets/js/alpine-table.js","webpack://folly/./Assets/vendor/dialog/index.js","webpack://folly/./Assets/js/main.js","webpack://folly/./Assets/js/eventHandlers/onSidebarToggled.js","webpack://folly/./Assets/js/eventHandlers/onTableUpdated.js","webpack://folly/./Assets/js/eventHandlers/onHtmxConfirm.js"],"sourcesContent":["// UMD insanity\r\n// This code sets up support for (in order) AMD, ES6 modules, and globals.\r\n(function (root, factory) {\r\n    //@ts-ignore\r\n    if (typeof define === 'function' && define.amd) {\r\n        // AMD. Register as an anonymous module.\r\n        //@ts-ignore\r\n        define([], factory);\r\n    } else if (typeof module === 'object' && module.exports) {\r\n        // Node. Does not work with strict CommonJS, but\r\n        // only CommonJS-like environments that support module.exports,\r\n        // like Node.\r\n        module.exports = factory();\r\n    } else {\r\n        // Browser globals\r\n        root.htmx = root.htmx || factory();\r\n    }\r\n}(typeof self !== 'undefined' ? self : this, function () {\r\nreturn (function () {\r\n        'use strict';\r\n\r\n        // Public API\r\n        //** @type {import(\"./htmx\").HtmxApi} */\r\n        // TODO: list all methods in public API\r\n        var htmx = {\r\n            onLoad: onLoadHelper,\r\n            process: processNode,\r\n            on: addEventListenerImpl,\r\n            off: removeEventListenerImpl,\r\n            trigger : triggerEvent,\r\n            ajax : ajaxHelper,\r\n            find : find,\r\n            findAll : findAll,\r\n            closest : closest,\r\n            values : function(elt, type){\r\n                var inputValues = getInputValues(elt, type || \"post\");\r\n                return inputValues.values;\r\n            },\r\n            remove : removeElement,\r\n            addClass : addClassToElement,\r\n            removeClass : removeClassFromElement,\r\n            toggleClass : toggleClassOnElement,\r\n            takeClass : takeClassForElement,\r\n            defineExtension : defineExtension,\r\n            removeExtension : removeExtension,\r\n            logAll : logAll,\r\n            logger : null,\r\n            config : {\r\n                historyEnabled:true,\r\n                historyCacheSize:10,\r\n                refreshOnHistoryMiss:false,\r\n                defaultSwapStyle:'innerHTML',\r\n                defaultSwapDelay:0,\r\n                defaultSettleDelay:20,\r\n                includeIndicatorStyles:true,\r\n                indicatorClass:'htmx-indicator',\r\n                requestClass:'htmx-request',\r\n                addedClass:'htmx-added',\r\n                settlingClass:'htmx-settling',\r\n                swappingClass:'htmx-swapping',\r\n                allowEval:true,\r\n                inlineScriptNonce:'',\r\n                attributesToSettle:[\"class\", \"style\", \"width\", \"height\"],\r\n                withCredentials:false,\r\n                timeout:0,\r\n                wsReconnectDelay: 'full-jitter',\r\n                wsBinaryType: 'blob',\r\n                disableSelector: \"[hx-disable], [data-hx-disable]\",\r\n                useTemplateFragments: false,\r\n                scrollBehavior: 'smooth',\r\n                defaultFocusScroll: false,\r\n                getCacheBusterParam: false,\r\n            },\r\n            parseInterval:parseInterval,\r\n            _:internalEval,\r\n            createEventSource: function(url){\r\n                return new EventSource(url, {withCredentials:true})\r\n            },\r\n            createWebSocket: function(url){\r\n                var sock = new WebSocket(url, []);\r\n                sock.binaryType = htmx.config.wsBinaryType;\r\n                return sock;\r\n            },\r\n            version: \"1.8.6\"\r\n        };\r\n\r\n        /** @type {import(\"./htmx\").HtmxInternalApi} */\r\n        var internalAPI = {\r\n            addTriggerHandler: addTriggerHandler,\r\n            bodyContains: bodyContains,\r\n            canAccessLocalStorage: canAccessLocalStorage,\r\n            filterValues: filterValues,\r\n            hasAttribute: hasAttribute,\r\n            getAttributeValue: getAttributeValue,\r\n            getClosestMatch: getClosestMatch,\r\n            getExpressionVars: getExpressionVars,\r\n            getHeaders: getHeaders,\r\n            getInputValues: getInputValues,\r\n            getInternalData: getInternalData,\r\n            getSwapSpecification: getSwapSpecification,\r\n            getTriggerSpecs: getTriggerSpecs,\r\n            getTarget: getTarget,\r\n            makeFragment: makeFragment,\r\n            mergeObjects: mergeObjects,\r\n            makeSettleInfo: makeSettleInfo,\r\n            oobSwap: oobSwap,\r\n            selectAndSwap: selectAndSwap,\r\n            settleImmediately: settleImmediately,\r\n            shouldCancel: shouldCancel,\r\n            triggerEvent: triggerEvent,\r\n            triggerErrorEvent: triggerErrorEvent,\r\n            withExtensions: withExtensions,\r\n        }\r\n\r\n        var VERBS = ['get', 'post', 'put', 'delete', 'patch'];\r\n        var VERB_SELECTOR = VERBS.map(function(verb){\r\n            return \"[hx-\" + verb + \"], [data-hx-\" + verb + \"]\"\r\n        }).join(\", \");\r\n\r\n        //====================================================================\r\n        // Utilities\r\n        //====================================================================\r\n\r\n        function parseInterval(str) {\r\n            if (str == undefined)  {\r\n                return undefined\r\n            }\r\n            if (str.slice(-2) == \"ms\") {\r\n                return parseFloat(str.slice(0,-2)) || undefined\r\n            }\r\n            if (str.slice(-1) == \"s\") {\r\n                return (parseFloat(str.slice(0,-1)) * 1000) || undefined\r\n            }\r\n            if (str.slice(-1) == \"m\") {\r\n                return (parseFloat(str.slice(0,-1)) * 1000 * 60) || undefined\r\n            }\r\n            return parseFloat(str) || undefined\r\n        }\r\n\r\n        /**\r\n         * @param {HTMLElement} elt\r\n         * @param {string} name\r\n         * @returns {(string | null)}\r\n         */\r\n        function getRawAttribute(elt, name) {\r\n            return elt.getAttribute && elt.getAttribute(name);\r\n        }\r\n\r\n        // resolve with both hx and data-hx prefixes\r\n        function hasAttribute(elt, qualifiedName) {\r\n            return elt.hasAttribute && (elt.hasAttribute(qualifiedName) ||\r\n                elt.hasAttribute(\"data-\" + qualifiedName));\r\n        }\r\n\r\n        /**\r\n         *\r\n         * @param {HTMLElement} elt\r\n         * @param {string} qualifiedName\r\n         * @returns {(string | null)}\r\n         */\r\n        function getAttributeValue(elt, qualifiedName) {\r\n            return getRawAttribute(elt, qualifiedName) || getRawAttribute(elt, \"data-\" + qualifiedName);\r\n        }\r\n\r\n        /**\r\n         * @param {HTMLElement} elt\r\n         * @returns {HTMLElement | null}\r\n         */\r\n        function parentElt(elt) {\r\n            return elt.parentElement;\r\n        }\r\n\r\n        /**\r\n         * @returns {Document}\r\n         */\r\n        function getDocument() {\r\n            return document;\r\n        }\r\n\r\n        /**\r\n         * @param {HTMLElement} elt\r\n         * @param {(e:HTMLElement) => boolean} condition\r\n         * @returns {HTMLElement | null}\r\n         */\r\n        function getClosestMatch(elt, condition) {\r\n            while (elt && !condition(elt)) {\r\n                elt = parentElt(elt);\r\n            }\r\n\r\n            return elt ? elt : null;\r\n        }\r\n\r\n        function getAttributeValueWithDisinheritance(initialElement, ancestor, attributeName){\r\n            var attributeValue = getAttributeValue(ancestor, attributeName);\r\n            var disinherit = getAttributeValue(ancestor, \"hx-disinherit\");\r\n            if (initialElement !== ancestor && disinherit && (disinherit === \"*\" || disinherit.split(\" \").indexOf(attributeName) >= 0)) {\r\n                return \"unset\";\r\n            } else {\r\n                return attributeValue\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @param {HTMLElement} elt\r\n         * @param {string} attributeName\r\n         * @returns {string | null}\r\n         */\r\n        function getClosestAttributeValue(elt, attributeName) {\r\n            var closestAttr = null;\r\n            getClosestMatch(elt, function (e) {\r\n                return closestAttr = getAttributeValueWithDisinheritance(elt, e, attributeName);\r\n            });\r\n            if (closestAttr !== \"unset\") {\r\n                return closestAttr;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @param {HTMLElement} elt\r\n         * @param {string} selector\r\n         * @returns {boolean}\r\n         */\r\n        function matches(elt, selector) {\r\n            // @ts-ignore: non-standard properties for browser compatability\r\n            // noinspection JSUnresolvedVariable\r\n            var matchesFunction = elt.matches || elt.matchesSelector || elt.msMatchesSelector || elt.mozMatchesSelector || elt.webkitMatchesSelector || elt.oMatchesSelector;\r\n            return matchesFunction && matchesFunction.call(elt, selector);\r\n        }\r\n\r\n        /**\r\n         * @param {string} str\r\n         * @returns {string}\r\n         */\r\n        function getStartTag(str) {\r\n            var tagMatcher = /<([a-z][^\\/\\0>\\x20\\t\\r\\n\\f]*)/i\r\n            var match = tagMatcher.exec( str );\r\n            if (match) {\r\n                return match[1].toLowerCase();\r\n            } else {\r\n                return \"\";\r\n            }\r\n        }\r\n\r\n        /**\r\n         *\r\n         * @param {string} resp\r\n         * @param {number} depth\r\n         * @returns {Element}\r\n         */\r\n        function parseHTML(resp, depth) {\r\n            var parser = new DOMParser();\r\n            var responseDoc = parser.parseFromString(resp, \"text/html\");\r\n\r\n            /** @type {Element} */\r\n            var responseNode = responseDoc.body;\r\n            while (depth > 0) {\r\n                depth--;\r\n                // @ts-ignore\r\n                responseNode = responseNode.firstChild;\r\n            }\r\n            if (responseNode == null) {\r\n                // @ts-ignore\r\n                responseNode = getDocument().createDocumentFragment();\r\n            }\r\n            return responseNode;\r\n        }\r\n\r\n        /**\r\n         *\r\n         * @param {string} resp\r\n         * @returns {Element}\r\n         */\r\n        function makeFragment(resp) {\r\n            if (htmx.config.useTemplateFragments) {\r\n                var documentFragment = parseHTML(\"<body><template>\" + resp + \"</template></body>\", 0);\r\n                // @ts-ignore type mismatch between DocumentFragment and Element.\r\n                // TODO: Are these close enough for htmx to use interchangably?\r\n                return documentFragment.querySelector('template').content;\r\n            } else {\r\n                var startTag = getStartTag(resp);\r\n                switch (startTag) {\r\n                    case \"thead\":\r\n                    case \"tbody\":\r\n                    case \"tfoot\":\r\n                    case \"colgroup\":\r\n                    case \"caption\":\r\n                        return parseHTML(\"<table>\" + resp + \"</table>\", 1);\r\n                    case \"col\":\r\n                        return parseHTML(\"<table><colgroup>\" + resp + \"</colgroup></table>\", 2);\r\n                    case \"tr\":\r\n                        return parseHTML(\"<table><tbody>\" + resp + \"</tbody></table>\", 2);\r\n                    case \"td\":\r\n                    case \"th\":\r\n                        return parseHTML(\"<table><tbody><tr>\" + resp + \"</tr></tbody></table>\", 3);\r\n                    case \"script\":\r\n                        return parseHTML(\"<div>\" + resp + \"</div>\", 1);\r\n                    default:\r\n                        return parseHTML(resp, 0);\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @param {Function} func\r\n         */\r\n        function maybeCall(func){\r\n            if(func) {\r\n                func();\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @param {any} o\r\n         * @param {string} type\r\n         * @returns\r\n         */\r\n        function isType(o, type) {\r\n            return Object.prototype.toString.call(o) === \"[object \" + type + \"]\";\r\n        }\r\n\r\n        /**\r\n         * @param {*} o\r\n         * @returns {o is Function}\r\n         */\r\n        function isFunction(o) {\r\n            return isType(o, \"Function\");\r\n        }\r\n\r\n        /**\r\n         * @param {*} o\r\n         * @returns {o is Object}\r\n         */\r\n        function isRawObject(o) {\r\n            return isType(o, \"Object\");\r\n        }\r\n\r\n        /**\r\n         * getInternalData retrieves \"private\" data stored by htmx within an element\r\n         * @param {HTMLElement} elt\r\n         * @returns {*}\r\n         */\r\n        function getInternalData(elt) {\r\n            var dataProp = 'htmx-internal-data';\r\n            var data = elt[dataProp];\r\n            if (!data) {\r\n                data = elt[dataProp] = {};\r\n            }\r\n            return data;\r\n        }\r\n\r\n        /**\r\n         * toArray converts an ArrayLike object into a real array.\r\n         * @param {ArrayLike} arr\r\n         * @returns {any[]}\r\n         */\r\n        function toArray(arr) {\r\n            var returnArr = [];\r\n            if (arr) {\r\n                for (var i = 0; i < arr.length; i++) {\r\n                    returnArr.push(arr[i]);\r\n                }\r\n            }\r\n            return returnArr\r\n        }\r\n\r\n        function forEach(arr, func) {\r\n            if (arr) {\r\n                for (var i = 0; i < arr.length; i++) {\r\n                    func(arr[i]);\r\n                }\r\n            }\r\n        }\r\n\r\n        function isScrolledIntoView(el) {\r\n            var rect = el.getBoundingClientRect();\r\n            var elemTop = rect.top;\r\n            var elemBottom = rect.bottom;\r\n            return elemTop < window.innerHeight && elemBottom >= 0;\r\n        }\r\n\r\n        function bodyContains(elt) {\r\n            // IE Fix\r\n            if (elt.getRootNode && elt.getRootNode() instanceof ShadowRoot) {\r\n                return getDocument().body.contains(elt.getRootNode().host);\r\n            } else {\r\n                return getDocument().body.contains(elt);\r\n            }\r\n        }\r\n\r\n        function splitOnWhitespace(trigger) {\r\n            return trigger.trim().split(/\\s+/);\r\n        }\r\n\r\n        /**\r\n         * mergeObjects takes all of the keys from\r\n         * obj2 and duplicates them into obj1\r\n         * @param {Object} obj1\r\n         * @param {Object} obj2\r\n         * @returns {Object}\r\n         */\r\n        function mergeObjects(obj1, obj2) {\r\n            for (var key in obj2) {\r\n                if (obj2.hasOwnProperty(key)) {\r\n                    obj1[key] = obj2[key];\r\n                }\r\n            }\r\n            return obj1;\r\n        }\r\n\r\n        function parseJSON(jString) {\r\n            try {\r\n                return JSON.parse(jString);\r\n            } catch(error) {\r\n                logError(error);\r\n                return null;\r\n            }\r\n        }\r\n\r\n        function canAccessLocalStorage() {\r\n            var test = 'htmx:localStorageTest';\r\n            try {\r\n                localStorage.setItem(test, test);\r\n                localStorage.removeItem(test);\r\n                return true;\r\n            } catch(e) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        //==========================================================================================\r\n        // public API\r\n        //==========================================================================================\r\n\r\n        function internalEval(str){\r\n            return maybeEval(getDocument().body, function () {\r\n                return eval(str);\r\n            });\r\n        }\r\n\r\n        function onLoadHelper(callback) {\r\n            var value = htmx.on(\"htmx:load\", function(evt) {\r\n                callback(evt.detail.elt);\r\n            });\r\n            return value;\r\n        }\r\n\r\n        function logAll(){\r\n            htmx.logger = function(elt, event, data) {\r\n                if(console) {\r\n                    console.log(event, elt, data);\r\n                }\r\n            }\r\n        }\r\n\r\n        function find(eltOrSelector, selector) {\r\n            if (selector) {\r\n                return eltOrSelector.querySelector(selector);\r\n            } else {\r\n                return find(getDocument(), eltOrSelector);\r\n            }\r\n        }\r\n\r\n        function findAll(eltOrSelector, selector) {\r\n            if (selector) {\r\n                return eltOrSelector.querySelectorAll(selector);\r\n            } else {\r\n                return findAll(getDocument(), eltOrSelector);\r\n            }\r\n        }\r\n\r\n        function removeElement(elt, delay) {\r\n            elt = resolveTarget(elt);\r\n            if (delay) {\r\n                setTimeout(function(){removeElement(elt);}, delay)\r\n            } else {\r\n                elt.parentElement.removeChild(elt);\r\n            }\r\n        }\r\n\r\n        function addClassToElement(elt, clazz, delay) {\r\n            elt = resolveTarget(elt);\r\n            if (delay) {\r\n                setTimeout(function(){addClassToElement(elt, clazz);}, delay)\r\n            } else {\r\n                elt.classList && elt.classList.add(clazz);\r\n            }\r\n        }\r\n\r\n        function removeClassFromElement(elt, clazz, delay) {\r\n            elt = resolveTarget(elt);\r\n            if (delay) {\r\n                setTimeout(function(){removeClassFromElement(elt, clazz);}, delay)\r\n            } else {\r\n                if (elt.classList) {\r\n                    elt.classList.remove(clazz);\r\n                    // if there are no classes left, remove the class attribute\r\n                    if (elt.classList.length === 0) {\r\n                        elt.removeAttribute(\"class\");\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        function toggleClassOnElement(elt, clazz) {\r\n            elt = resolveTarget(elt);\r\n            elt.classList.toggle(clazz);\r\n        }\r\n\r\n        function takeClassForElement(elt, clazz) {\r\n            elt = resolveTarget(elt);\r\n            forEach(elt.parentElement.children, function(child){\r\n                removeClassFromElement(child, clazz);\r\n            })\r\n            addClassToElement(elt, clazz);\r\n        }\r\n\r\n        function closest(elt, selector) {\r\n            elt = resolveTarget(elt);\r\n            if (elt.closest) {\r\n                return elt.closest(selector);\r\n            } else {\r\n                // TODO remove when IE goes away\r\n                do{\r\n                    if (elt == null || matches(elt, selector)){\r\n                        return elt;\r\n                    }\r\n                }\r\n                while (elt = elt && parentElt(elt));\r\n                return null;\r\n            }\r\n        }\r\n\r\n        function querySelectorAllExt(elt, selector) {\r\n            if (selector.indexOf(\"closest \") === 0) {\r\n                return [closest(elt, selector.substr(8))];\r\n            } else if (selector.indexOf(\"find \") === 0) {\r\n                return [find(elt, selector.substr(5))];\r\n            } else if (selector.indexOf(\"next \") === 0) {\r\n                return [scanForwardQuery(elt, selector.substr(5))];\r\n            } else if (selector.indexOf(\"previous \") === 0) {\r\n                return [scanBackwardsQuery(elt, selector.substr(9))];\r\n            } else if (selector === 'document') {\r\n                return [document];\r\n            } else if (selector === 'window') {\r\n                return [window];\r\n            } else {\r\n                return getDocument().querySelectorAll(selector);\r\n            }\r\n        }\r\n\r\n        var scanForwardQuery = function(start, match) {\r\n            var results = getDocument().querySelectorAll(match);\r\n            for (var i = 0; i < results.length; i++) {\r\n                var elt = results[i];\r\n                if (elt.compareDocumentPosition(start) === Node.DOCUMENT_POSITION_PRECEDING) {\r\n                    return elt;\r\n                }\r\n            }\r\n        }\r\n\r\n        var scanBackwardsQuery = function(start, match) {\r\n            var results = getDocument().querySelectorAll(match);\r\n            for (var i = results.length - 1; i >= 0; i--) {\r\n                var elt = results[i];\r\n                if (elt.compareDocumentPosition(start) === Node.DOCUMENT_POSITION_FOLLOWING) {\r\n                    return elt;\r\n                }\r\n            }\r\n        }\r\n\r\n        function querySelectorExt(eltOrSelector, selector) {\r\n            if (selector) {\r\n                return querySelectorAllExt(eltOrSelector, selector)[0];\r\n            } else {\r\n                return querySelectorAllExt(getDocument().body, eltOrSelector)[0];\r\n            }\r\n        }\r\n\r\n        function resolveTarget(arg2) {\r\n            if (isType(arg2, 'String')) {\r\n                return find(arg2);\r\n            } else {\r\n                return arg2;\r\n            }\r\n        }\r\n\r\n        function processEventArgs(arg1, arg2, arg3) {\r\n            if (isFunction(arg2)) {\r\n                return {\r\n                    target: getDocument().body,\r\n                    event: arg1,\r\n                    listener: arg2\r\n                }\r\n            } else {\r\n                return {\r\n                    target: resolveTarget(arg1),\r\n                    event: arg2,\r\n                    listener: arg3\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        function addEventListenerImpl(arg1, arg2, arg3) {\r\n            ready(function(){\r\n                var eventArgs = processEventArgs(arg1, arg2, arg3);\r\n                eventArgs.target.addEventListener(eventArgs.event, eventArgs.listener);\r\n            })\r\n            var b = isFunction(arg2);\r\n            return b ? arg2 : arg3;\r\n        }\r\n\r\n        function removeEventListenerImpl(arg1, arg2, arg3) {\r\n            ready(function(){\r\n                var eventArgs = processEventArgs(arg1, arg2, arg3);\r\n                eventArgs.target.removeEventListener(eventArgs.event, eventArgs.listener);\r\n            })\r\n            return isFunction(arg2) ? arg2 : arg3;\r\n        }\r\n\r\n        //====================================================================\r\n        // Node processing\r\n        //====================================================================\r\n\r\n        var DUMMY_ELT = getDocument().createElement(\"output\"); // dummy element for bad selectors\r\n        function findAttributeTargets(elt, attrName) {\r\n            var attrTarget = getClosestAttributeValue(elt, attrName);\r\n            if (attrTarget) {\r\n                if (attrTarget === \"this\") {\r\n                    return [findThisElement(elt, attrName)];\r\n                } else {\r\n                    var result = querySelectorAllExt(elt, attrTarget);\r\n                    if (result.length === 0) {\r\n                        logError('The selector \"' + attrTarget + '\" on ' + attrName + \" returned no matches!\");\r\n                        return [DUMMY_ELT]\r\n                    } else {\r\n                        return result;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        function findThisElement(elt, attribute){\r\n            return getClosestMatch(elt, function (elt) {\r\n                return getAttributeValue(elt, attribute) != null;\r\n            })\r\n        }\r\n\r\n        function getTarget(elt) {\r\n            var targetStr = getClosestAttributeValue(elt, \"hx-target\");\r\n            if (targetStr) {\r\n                if (targetStr === \"this\") {\r\n                    return findThisElement(elt,'hx-target');\r\n                } else {\r\n                    return querySelectorExt(elt, targetStr)\r\n                }\r\n            } else {\r\n                var data = getInternalData(elt);\r\n                if (data.boosted) {\r\n                    return getDocument().body;\r\n                } else {\r\n                    return elt;\r\n                }\r\n            }\r\n        }\r\n\r\n        function shouldSettleAttribute(name) {\r\n            var attributesToSettle = htmx.config.attributesToSettle;\r\n            for (var i = 0; i < attributesToSettle.length; i++) {\r\n                if (name === attributesToSettle[i]) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n\r\n        function cloneAttributes(mergeTo, mergeFrom) {\r\n            forEach(mergeTo.attributes, function (attr) {\r\n                if (!mergeFrom.hasAttribute(attr.name) && shouldSettleAttribute(attr.name)) {\r\n                    mergeTo.removeAttribute(attr.name)\r\n                }\r\n            });\r\n            forEach(mergeFrom.attributes, function (attr) {\r\n                if (shouldSettleAttribute(attr.name)) {\r\n                    mergeTo.setAttribute(attr.name, attr.value);\r\n                }\r\n            });\r\n        }\r\n\r\n        function isInlineSwap(swapStyle, target) {\r\n            var extensions = getExtensions(target);\r\n            for (var i = 0; i < extensions.length; i++) {\r\n                var extension = extensions[i];\r\n                try {\r\n                    if (extension.isInlineSwap(swapStyle)) {\r\n                        return true;\r\n                    }\r\n                } catch(e) {\r\n                    logError(e);\r\n                }\r\n            }\r\n            return swapStyle === \"outerHTML\";\r\n        }\r\n\r\n        /**\r\n         *\r\n         * @param {string} oobValue\r\n         * @param {HTMLElement} oobElement\r\n         * @param {*} settleInfo\r\n         * @returns\r\n         */\r\n        function oobSwap(oobValue, oobElement, settleInfo) {\r\n            var selector = \"#\" + oobElement.id;\r\n            var swapStyle = \"outerHTML\";\r\n            if (oobValue === \"true\") {\r\n                // do nothing\r\n            } else if (oobValue.indexOf(\":\") > 0) {\r\n                swapStyle = oobValue.substr(0, oobValue.indexOf(\":\"));\r\n                selector  = oobValue.substr(oobValue.indexOf(\":\") + 1, oobValue.length);\r\n            } else {\r\n                swapStyle = oobValue;\r\n            }\r\n\r\n            var targets = getDocument().querySelectorAll(selector);\r\n            if (targets) {\r\n                forEach(\r\n                    targets,\r\n                    function (target) {\r\n                        var fragment;\r\n                        var oobElementClone = oobElement.cloneNode(true);\r\n                        fragment = getDocument().createDocumentFragment();\r\n                        fragment.appendChild(oobElementClone);\r\n                        if (!isInlineSwap(swapStyle, target)) {\r\n                            fragment = oobElementClone; // if this is not an inline swap, we use the content of the node, not the node itself\r\n                        }\r\n\r\n                        var beforeSwapDetails = {shouldSwap: true, target: target, fragment:fragment };\r\n                        if (!triggerEvent(target, 'htmx:oobBeforeSwap', beforeSwapDetails)) return;\r\n\r\n                        target = beforeSwapDetails.target; // allow re-targeting\r\n                        if (beforeSwapDetails['shouldSwap']){\r\n                            swap(swapStyle, target, target, fragment, settleInfo);\r\n                        }\r\n                        forEach(settleInfo.elts, function (elt) {\r\n                            triggerEvent(elt, 'htmx:oobAfterSwap', beforeSwapDetails);\r\n                        });\r\n                    }\r\n                );\r\n                oobElement.parentNode.removeChild(oobElement);\r\n            } else {\r\n                oobElement.parentNode.removeChild(oobElement);\r\n                triggerErrorEvent(getDocument().body, \"htmx:oobErrorNoTarget\", {content: oobElement});\r\n            }\r\n            return oobValue;\r\n        }\r\n\r\n        function handleOutOfBandSwaps(elt, fragment, settleInfo) {\r\n            var oobSelects = getClosestAttributeValue(elt, \"hx-select-oob\");\r\n            if (oobSelects) {\r\n                var oobSelectValues = oobSelects.split(\",\");\r\n                for (let i = 0; i < oobSelectValues.length; i++) {\r\n                    var oobSelectValue = oobSelectValues[i].split(\":\", 2);\r\n                    var id = oobSelectValue[0];\r\n                    if (id.indexOf(\"#\") === 0) {\r\n                        id = id.substring(1);\r\n                    }\r\n                    var oobValue = oobSelectValue[1] || \"true\";\r\n                    var oobElement = fragment.querySelector(\"#\" + id);\r\n                    if (oobElement) {\r\n                        oobSwap(oobValue, oobElement, settleInfo);\r\n                    }\r\n                }\r\n            }\r\n            forEach(findAll(fragment, '[hx-swap-oob], [data-hx-swap-oob]'), function (oobElement) {\r\n                var oobValue = getAttributeValue(oobElement, \"hx-swap-oob\");\r\n                if (oobValue != null) {\r\n                    oobSwap(oobValue, oobElement, settleInfo);\r\n                }\r\n            });\r\n        }\r\n\r\n        function handlePreservedElements(fragment) {\r\n            forEach(findAll(fragment, '[hx-preserve], [data-hx-preserve]'), function (preservedElt) {\r\n                var id = getAttributeValue(preservedElt, \"id\");\r\n                var oldElt = getDocument().getElementById(id);\r\n                if (oldElt != null) {\r\n                    preservedElt.parentNode.replaceChild(oldElt, preservedElt);\r\n                }\r\n            });\r\n        }\r\n\r\n        function handleAttributes(parentNode, fragment, settleInfo) {\r\n            forEach(fragment.querySelectorAll(\"[id]\"), function (newNode) {\r\n                if (newNode.id && newNode.id.length > 0) {\r\n                    var normalizedId = newNode.id.replace(\"'\", \"\\\\'\");\r\n                    var oldNode = parentNode.querySelector(newNode.tagName + \"[id='\" + normalizedId + \"']\");\r\n                    if (oldNode && oldNode !== parentNode) {\r\n                        var newAttributes = newNode.cloneNode();\r\n                        cloneAttributes(newNode, oldNode);\r\n                        settleInfo.tasks.push(function () {\r\n                            cloneAttributes(newNode, newAttributes);\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        function makeAjaxLoadTask(child) {\r\n            return function () {\r\n                removeClassFromElement(child, htmx.config.addedClass);\r\n                processNode(child);\r\n                processScripts(child);\r\n                processFocus(child)\r\n                triggerEvent(child, 'htmx:load');\r\n            };\r\n        }\r\n\r\n        function processFocus(child) {\r\n            var autofocus = \"[autofocus]\";\r\n            var autoFocusedElt = matches(child, autofocus) ? child : child.querySelector(autofocus)\r\n            if (autoFocusedElt != null) {\r\n                autoFocusedElt.focus();\r\n            }\r\n        }\r\n\r\n        function insertNodesBefore(parentNode, insertBefore, fragment, settleInfo) {\r\n            handleAttributes(parentNode, fragment, settleInfo);\r\n            while(fragment.childNodes.length > 0){\r\n                var child = fragment.firstChild;\r\n                addClassToElement(child, htmx.config.addedClass);\r\n                parentNode.insertBefore(child, insertBefore);\r\n                if (child.nodeType !== Node.TEXT_NODE && child.nodeType !== Node.COMMENT_NODE) {\r\n                    settleInfo.tasks.push(makeAjaxLoadTask(child));\r\n                }\r\n            }\r\n        }\r\n\r\n        // based on https://gist.github.com/hyamamoto/fd435505d29ebfa3d9716fd2be8d42f0,\r\n        // derived from Java's string hashcode implementation\r\n        function stringHash(string, hash) {\r\n            var char = 0;\r\n            while (char < string.length){\r\n                hash = (hash << 5) - hash + string.charCodeAt(char++) | 0; // bitwise or ensures we have a 32-bit int\r\n            }\r\n            return hash;\r\n        }\r\n\r\n        function attributeHash(elt) {\r\n            var hash = 0;\r\n            // IE fix\r\n            if (elt.attributes) {\r\n                for (var i = 0; i < elt.attributes.length; i++) {\r\n                    var attribute = elt.attributes[i];\r\n                    if(attribute.value){ // only include attributes w/ actual values (empty is same as non-existent)\r\n                        hash = stringHash(attribute.name, hash);\r\n                        hash = stringHash(attribute.value, hash);\r\n                    }\r\n                }\r\n            }\r\n            return hash;\r\n        }\r\n\r\n        function deInitNode(element) {\r\n            var internalData = getInternalData(element);\r\n            if (internalData.webSocket) {\r\n                internalData.webSocket.close();\r\n            }\r\n            if (internalData.sseEventSource) {\r\n                internalData.sseEventSource.close();\r\n            }\r\n            if (internalData.listenerInfos) {\r\n                forEach(internalData.listenerInfos, function (info) {\r\n                    if (info.on) {\r\n                        info.on.removeEventListener(info.trigger, info.listener);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        function cleanUpElement(element) {\r\n            triggerEvent(element, \"htmx:beforeCleanupElement\")\r\n            deInitNode(element);\r\n            if (element.children) { // IE\r\n                forEach(element.children, function(child) { cleanUpElement(child) });\r\n            }\r\n        }\r\n\r\n        function swapOuterHTML(target, fragment, settleInfo) {\r\n            if (target.tagName === \"BODY\") {\r\n                return swapInnerHTML(target, fragment, settleInfo);\r\n            } else {\r\n                // @type {HTMLElement}\r\n                var newElt\r\n                var eltBeforeNewContent = target.previousSibling;\r\n                insertNodesBefore(parentElt(target), target, fragment, settleInfo);\r\n                if (eltBeforeNewContent == null) {\r\n                    newElt = parentElt(target).firstChild;\r\n                } else {\r\n                    newElt = eltBeforeNewContent.nextSibling;\r\n                }\r\n                getInternalData(target).replacedWith = newElt; // tuck away so we can fire events on it later\r\n                settleInfo.elts = [] // clear existing elements\r\n                while(newElt && newElt !== target) {\r\n                    if (newElt.nodeType === Node.ELEMENT_NODE) {\r\n                        settleInfo.elts.push(newElt);\r\n                    }\r\n                    newElt = newElt.nextElementSibling;\r\n                }\r\n                cleanUpElement(target);\r\n                parentElt(target).removeChild(target);\r\n            }\r\n        }\r\n\r\n        function swapAfterBegin(target, fragment, settleInfo) {\r\n            return insertNodesBefore(target, target.firstChild, fragment, settleInfo);\r\n        }\r\n\r\n        function swapBeforeBegin(target, fragment, settleInfo) {\r\n            return insertNodesBefore(parentElt(target), target, fragment, settleInfo);\r\n        }\r\n\r\n        function swapBeforeEnd(target, fragment, settleInfo) {\r\n            return insertNodesBefore(target, null, fragment, settleInfo);\r\n        }\r\n\r\n        function swapAfterEnd(target, fragment, settleInfo) {\r\n            return insertNodesBefore(parentElt(target), target.nextSibling, fragment, settleInfo);\r\n        }\r\n        function swapDelete(target, fragment, settleInfo) {\r\n            cleanUpElement(target);\r\n            return parentElt(target).removeChild(target);\r\n        }\r\n\r\n        function swapInnerHTML(target, fragment, settleInfo) {\r\n            var firstChild = target.firstChild;\r\n            insertNodesBefore(target, firstChild, fragment, settleInfo);\r\n            if (firstChild) {\r\n                while (firstChild.nextSibling) {\r\n                    cleanUpElement(firstChild.nextSibling)\r\n                    target.removeChild(firstChild.nextSibling);\r\n                }\r\n                cleanUpElement(firstChild)\r\n                target.removeChild(firstChild);\r\n            }\r\n        }\r\n\r\n        function maybeSelectFromResponse(elt, fragment) {\r\n            var selector = getClosestAttributeValue(elt, \"hx-select\");\r\n            if (selector) {\r\n                var newFragment = getDocument().createDocumentFragment();\r\n                forEach(fragment.querySelectorAll(selector), function (node) {\r\n                    newFragment.appendChild(node);\r\n                });\r\n                fragment = newFragment;\r\n            }\r\n            return fragment;\r\n        }\r\n\r\n        function swap(swapStyle, elt, target, fragment, settleInfo) {\r\n            switch (swapStyle) {\r\n                case \"none\":\r\n                    return;\r\n                case \"outerHTML\":\r\n                    swapOuterHTML(target, fragment, settleInfo);\r\n                    return;\r\n                case \"afterbegin\":\r\n                    swapAfterBegin(target, fragment, settleInfo);\r\n                    return;\r\n                case \"beforebegin\":\r\n                    swapBeforeBegin(target, fragment, settleInfo);\r\n                    return;\r\n                case \"beforeend\":\r\n                    swapBeforeEnd(target, fragment, settleInfo);\r\n                    return;\r\n                case \"afterend\":\r\n                    swapAfterEnd(target, fragment, settleInfo);\r\n                    return;\r\n                case \"delete\":\r\n                    swapDelete(target, fragment, settleInfo);\r\n                    return;\r\n                default:\r\n                    var extensions = getExtensions(elt);\r\n                    for (var i = 0; i < extensions.length; i++) {\r\n                        var ext = extensions[i];\r\n                        try {\r\n                            var newElements = ext.handleSwap(swapStyle, target, fragment, settleInfo);\r\n                            if (newElements) {\r\n                                if (typeof newElements.length !== 'undefined') {\r\n                                    // if handleSwap returns an array (like) of elements, we handle them\r\n                                    for (var j = 0; j < newElements.length; j++) {\r\n                                        var child = newElements[j];\r\n                                        if (child.nodeType !== Node.TEXT_NODE && child.nodeType !== Node.COMMENT_NODE) {\r\n                                            settleInfo.tasks.push(makeAjaxLoadTask(child));\r\n                                        }\r\n                                    }\r\n                                }\r\n                                return;\r\n                            }\r\n                        } catch (e) {\r\n                            logError(e);\r\n                        }\r\n                    }\r\n                    if (swapStyle === \"innerHTML\") {\r\n                        swapInnerHTML(target, fragment, settleInfo);\r\n                    } else {\r\n                        swap(htmx.config.defaultSwapStyle, elt, target, fragment, settleInfo);\r\n                    }\r\n            }\r\n        }\r\n\r\n        function findTitle(content) {\r\n            if (content.indexOf('<title') > -1) {\r\n                var contentWithSvgsRemoved = content.replace(/<svg(\\s[^>]*>|>)([\\s\\S]*?)<\\/svg>/gim, '');\r\n                var result = contentWithSvgsRemoved.match(/<title(\\s[^>]*>|>)([\\s\\S]*?)<\\/title>/im);\r\n\r\n                if (result) {\r\n                    return result[2];\r\n                }\r\n            }\r\n        }\r\n\r\n        function selectAndSwap(swapStyle, target, elt, responseText, settleInfo) {\r\n            settleInfo.title = findTitle(responseText);\r\n            var fragment = makeFragment(responseText);\r\n            if (fragment) {\r\n                handleOutOfBandSwaps(elt, fragment, settleInfo);\r\n                fragment = maybeSelectFromResponse(elt, fragment);\r\n                handlePreservedElements(fragment);\r\n                return swap(swapStyle, elt, target, fragment, settleInfo);\r\n            }\r\n        }\r\n\r\n        function handleTrigger(xhr, header, elt) {\r\n            var triggerBody = xhr.getResponseHeader(header);\r\n            if (triggerBody.indexOf(\"{\") === 0) {\r\n                var triggers = parseJSON(triggerBody);\r\n                for (var eventName in triggers) {\r\n                    if (triggers.hasOwnProperty(eventName)) {\r\n                        var detail = triggers[eventName];\r\n                        if (!isRawObject(detail)) {\r\n                            detail = {\"value\": detail}\r\n                        }\r\n                        triggerEvent(elt, eventName, detail);\r\n                    }\r\n                }\r\n            } else {\r\n                triggerEvent(elt, triggerBody, []);\r\n            }\r\n        }\r\n\r\n        var WHITESPACE = /\\s/;\r\n        var WHITESPACE_OR_COMMA = /[\\s,]/;\r\n        var SYMBOL_START = /[_$a-zA-Z]/;\r\n        var SYMBOL_CONT = /[_$a-zA-Z0-9]/;\r\n        var STRINGISH_START = ['\"', \"'\", \"/\"];\r\n        var NOT_WHITESPACE = /[^\\s]/;\r\n        function tokenizeString(str) {\r\n            var tokens = [];\r\n            var position = 0;\r\n            while (position < str.length) {\r\n                if(SYMBOL_START.exec(str.charAt(position))) {\r\n                    var startPosition = position;\r\n                    while (SYMBOL_CONT.exec(str.charAt(position + 1))) {\r\n                        position++;\r\n                    }\r\n                    tokens.push(str.substr(startPosition, position - startPosition + 1));\r\n                } else if (STRINGISH_START.indexOf(str.charAt(position)) !== -1) {\r\n                    var startChar = str.charAt(position);\r\n                    var startPosition = position;\r\n                    position++;\r\n                    while (position < str.length && str.charAt(position) !== startChar ) {\r\n                        if (str.charAt(position) === \"\\\\\") {\r\n                            position++;\r\n                        }\r\n                        position++;\r\n                    }\r\n                    tokens.push(str.substr(startPosition, position - startPosition + 1));\r\n                } else {\r\n                    var symbol = str.charAt(position);\r\n                    tokens.push(symbol);\r\n                }\r\n                position++;\r\n            }\r\n            return tokens;\r\n        }\r\n\r\n        function isPossibleRelativeReference(token, last, paramName) {\r\n            return SYMBOL_START.exec(token.charAt(0)) &&\r\n                token !== \"true\" &&\r\n                token !== \"false\" &&\r\n                token !== \"this\" &&\r\n                token !== paramName &&\r\n                last !== \".\";\r\n        }\r\n\r\n        function maybeGenerateConditional(elt, tokens, paramName) {\r\n            if (tokens[0] === '[') {\r\n                tokens.shift();\r\n                var bracketCount = 1;\r\n                var conditionalSource = \" return (function(\" + paramName + \"){ return (\";\r\n                var last = null;\r\n                while (tokens.length > 0) {\r\n                    var token = tokens[0];\r\n                    if (token === \"]\") {\r\n                        bracketCount--;\r\n                        if (bracketCount === 0) {\r\n                            if (last === null) {\r\n                                conditionalSource = conditionalSource + \"true\";\r\n                            }\r\n                            tokens.shift();\r\n                            conditionalSource += \")})\";\r\n                            try {\r\n                                var conditionFunction = maybeEval(elt,function () {\r\n                                    return Function(conditionalSource)();\r\n                                    },\r\n                                    function(){return true})\r\n                                conditionFunction.source = conditionalSource;\r\n                                return conditionFunction;\r\n                            } catch (e) {\r\n                                triggerErrorEvent(getDocument().body, \"htmx:syntax:error\", {error:e, source:conditionalSource})\r\n                                return null;\r\n                            }\r\n                        }\r\n                    } else if (token === \"[\") {\r\n                        bracketCount++;\r\n                    }\r\n                    if (isPossibleRelativeReference(token, last, paramName)) {\r\n                            conditionalSource += \"((\" + paramName + \".\" + token + \") ? (\" + paramName + \".\" + token + \") : (window.\" + token + \"))\";\r\n                    } else {\r\n                        conditionalSource = conditionalSource + token;\r\n                    }\r\n                    last = tokens.shift();\r\n                }\r\n            }\r\n        }\r\n\r\n        function consumeUntil(tokens, match) {\r\n            var result = \"\";\r\n            while (tokens.length > 0 && !tokens[0].match(match)) {\r\n                result += tokens.shift();\r\n            }\r\n            return result;\r\n        }\r\n\r\n        var INPUT_SELECTOR = 'input, textarea, select';\r\n\r\n        /**\r\n         * @param {HTMLElement} elt\r\n         * @returns {import(\"./htmx\").HtmxTriggerSpecification[]}\r\n         */\r\n        function getTriggerSpecs(elt) {\r\n            var explicitTrigger = getAttributeValue(elt, 'hx-trigger');\r\n            var triggerSpecs = [];\r\n            if (explicitTrigger) {\r\n                var tokens = tokenizeString(explicitTrigger);\r\n                do {\r\n                    consumeUntil(tokens, NOT_WHITESPACE);\r\n                    var initialLength = tokens.length;\r\n                    var trigger = consumeUntil(tokens, /[,\\[\\s]/);\r\n                    if (trigger !== \"\") {\r\n                        if (trigger === \"every\") {\r\n                            var every = {trigger: 'every'};\r\n                            consumeUntil(tokens, NOT_WHITESPACE);\r\n                            every.pollInterval = parseInterval(consumeUntil(tokens, /[,\\[\\s]/));\r\n                            consumeUntil(tokens, NOT_WHITESPACE);\r\n                            var eventFilter = maybeGenerateConditional(elt, tokens, \"event\");\r\n                            if (eventFilter) {\r\n                                every.eventFilter = eventFilter;\r\n                            }\r\n                            triggerSpecs.push(every);\r\n                        } else if (trigger.indexOf(\"sse:\") === 0) {\r\n                            triggerSpecs.push({trigger: 'sse', sseEvent: trigger.substr(4)});\r\n                        } else {\r\n                            var triggerSpec = {trigger: trigger};\r\n                            var eventFilter = maybeGenerateConditional(elt, tokens, \"event\");\r\n                            if (eventFilter) {\r\n                                triggerSpec.eventFilter = eventFilter;\r\n                            }\r\n                            while (tokens.length > 0 && tokens[0] !== \",\") {\r\n                                consumeUntil(tokens, NOT_WHITESPACE)\r\n                                var token = tokens.shift();\r\n                                if (token === \"changed\") {\r\n                                    triggerSpec.changed = true;\r\n                                } else if (token === \"once\") {\r\n                                    triggerSpec.once = true;\r\n                                } else if (token === \"consume\") {\r\n                                    triggerSpec.consume = true;\r\n                                } else if (token === \"delay\" && tokens[0] === \":\") {\r\n                                    tokens.shift();\r\n                                    triggerSpec.delay = parseInterval(consumeUntil(tokens, WHITESPACE_OR_COMMA));\r\n                                } else if (token === \"from\" && tokens[0] === \":\") {\r\n                                    tokens.shift();\r\n                                    var from_arg = consumeUntil(tokens, WHITESPACE_OR_COMMA);\r\n                                    if (from_arg === \"closest\" || from_arg === \"find\" || from_arg === \"next\" || from_arg === \"previous\") {\r\n                                        tokens.shift();\r\n                                        from_arg +=\r\n                                            \" \" +\r\n                                            consumeUntil(\r\n                                                tokens,\r\n                                                WHITESPACE_OR_COMMA\r\n                                            );\r\n                                    }\r\n                                    triggerSpec.from = from_arg;\r\n                                } else if (token === \"target\" && tokens[0] === \":\") {\r\n                                    tokens.shift();\r\n                                    triggerSpec.target = consumeUntil(tokens, WHITESPACE_OR_COMMA);\r\n                                } else if (token === \"throttle\" && tokens[0] === \":\") {\r\n                                    tokens.shift();\r\n                                    triggerSpec.throttle = parseInterval(consumeUntil(tokens, WHITESPACE_OR_COMMA));\r\n                                } else if (token === \"queue\" && tokens[0] === \":\") {\r\n                                    tokens.shift();\r\n                                    triggerSpec.queue = consumeUntil(tokens, WHITESPACE_OR_COMMA);\r\n                                } else if ((token === \"root\" || token === \"threshold\") && tokens[0] === \":\") {\r\n                                    tokens.shift();\r\n                                    triggerSpec[token] = consumeUntil(tokens, WHITESPACE_OR_COMMA);\r\n                                } else {\r\n                                    triggerErrorEvent(elt, \"htmx:syntax:error\", {token:tokens.shift()});\r\n                                }\r\n                            }\r\n                            triggerSpecs.push(triggerSpec);\r\n                        }\r\n                    }\r\n                    if (tokens.length === initialLength) {\r\n                        triggerErrorEvent(elt, \"htmx:syntax:error\", {token:tokens.shift()});\r\n                    }\r\n                    consumeUntil(tokens, NOT_WHITESPACE);\r\n                } while (tokens[0] === \",\" && tokens.shift())\r\n            }\r\n\r\n            if (triggerSpecs.length > 0) {\r\n                return triggerSpecs;\r\n            } else if (matches(elt, 'form')) {\r\n                return [{trigger: 'submit'}];\r\n            } else if (matches(elt, 'input[type=\"button\"]')){\r\n                return [{trigger: 'click'}];\r\n            } else if (matches(elt, INPUT_SELECTOR)) {\r\n                return [{trigger: 'change'}];\r\n            } else {\r\n                return [{trigger: 'click'}];\r\n            }\r\n        }\r\n\r\n        function cancelPolling(elt) {\r\n            getInternalData(elt).cancelled = true;\r\n        }\r\n\r\n        function processPolling(elt, handler, spec) {\r\n            var nodeData = getInternalData(elt);\r\n            nodeData.timeout = setTimeout(function () {\r\n                if (bodyContains(elt) && nodeData.cancelled !== true) {\r\n                    if (!maybeFilterEvent(spec, makeEvent('hx:poll:trigger', {triggerSpec:spec, target:elt}))) {\r\n                        handler(elt);\r\n                    }\r\n                    processPolling(elt, handler, spec);\r\n                }\r\n            }, spec.pollInterval);\r\n        }\r\n\r\n        function isLocalLink(elt) {\r\n            return location.hostname === elt.hostname &&\r\n                getRawAttribute(elt,'href') &&\r\n                getRawAttribute(elt,'href').indexOf(\"#\") !== 0;\r\n        }\r\n\r\n        function boostElement(elt, nodeData, triggerSpecs) {\r\n            if ((elt.tagName === \"A\" && isLocalLink(elt) && (elt.target === \"\" || elt.target === \"_self\")) || elt.tagName === \"FORM\") {\r\n                nodeData.boosted = true;\r\n                var verb, path;\r\n                if (elt.tagName === \"A\") {\r\n                    verb = \"get\";\r\n                    path = getRawAttribute(elt, 'href');\r\n                } else {\r\n                    var rawAttribute = getRawAttribute(elt, \"method\");\r\n                    verb = rawAttribute ? rawAttribute.toLowerCase() : \"get\";\r\n                    if (verb === \"get\") {\r\n                    }\r\n                    path = getRawAttribute(elt, 'action');\r\n                }\r\n                triggerSpecs.forEach(function(triggerSpec) {\r\n                    addEventListener(elt, function(elt, evt) {\r\n                        issueAjaxRequest(verb, path, elt, evt)\r\n                    }, nodeData, triggerSpec, true);\r\n                });\r\n            }\r\n        }\r\n\r\n        /**\r\n         *\r\n         * @param {Event} evt\r\n         * @param {HTMLElement} elt\r\n         * @returns\r\n         */\r\n        function shouldCancel(evt, elt) {\r\n            if (evt.type === \"submit\" || evt.type === \"click\") {\r\n                if (elt.tagName === \"FORM\") {\r\n                    return true;\r\n                }\r\n                if (matches(elt, 'input[type=\"submit\"], button') && closest(elt, 'form') !== null) {\r\n                    return true;\r\n                }\r\n                if (elt.tagName === \"A\" && elt.href &&\r\n                    (elt.getAttribute('href') === '#' || elt.getAttribute('href').indexOf(\"#\") !== 0)) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n\r\n        function ignoreBoostedAnchorCtrlClick(elt, evt) {\r\n            return getInternalData(elt).boosted && elt.tagName === \"A\" && evt.type === \"click\" && (evt.ctrlKey || evt.metaKey);\r\n        }\r\n\r\n        function maybeFilterEvent(triggerSpec, evt) {\r\n            var eventFilter = triggerSpec.eventFilter;\r\n            if(eventFilter){\r\n                try {\r\n                    return eventFilter(evt) !== true;\r\n                } catch(e) {\r\n                    triggerErrorEvent(getDocument().body, \"htmx:eventFilter:error\", {error: e, source:eventFilter.source});\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n\r\n        function addEventListener(elt, handler, nodeData, triggerSpec, explicitCancel) {\r\n            var elementData = getInternalData(elt);\r\n            var eltsToListenOn;\r\n            if (triggerSpec.from) {\r\n                eltsToListenOn = querySelectorAllExt(elt, triggerSpec.from);\r\n            } else {\r\n                eltsToListenOn = [elt];\r\n            }\r\n            // store the initial value of the element so we can tell if it changes\r\n            if (triggerSpec.changed) {\r\n                elementData.lastValue = elt.value;\r\n            }\r\n            forEach(eltsToListenOn, function (eltToListenOn) {\r\n                var eventListener = function (evt) {\r\n                    if (!bodyContains(elt)) {\r\n                        eltToListenOn.removeEventListener(triggerSpec.trigger, eventListener);\r\n                        return;\r\n                    }\r\n                    if (ignoreBoostedAnchorCtrlClick(elt, evt)) {\r\n                        return;\r\n                    }\r\n                    if (explicitCancel || shouldCancel(evt, elt)) {\r\n                        evt.preventDefault();\r\n                    }\r\n                    if (maybeFilterEvent(triggerSpec, evt)) {\r\n                        return;\r\n                    }\r\n                    var eventData = getInternalData(evt);\r\n                    eventData.triggerSpec = triggerSpec;\r\n                    if (eventData.handledFor == null) {\r\n                        eventData.handledFor = [];\r\n                    }\r\n                    if (eventData.handledFor.indexOf(elt) < 0) {\r\n                        eventData.handledFor.push(elt);\r\n                        if (triggerSpec.consume) {\r\n                            evt.stopPropagation();\r\n                        }\r\n                        if (triggerSpec.target && evt.target) {\r\n                            if (!matches(evt.target, triggerSpec.target)) {\r\n                                return;\r\n                            }\r\n                        }\r\n                        if (triggerSpec.once) {\r\n                            if (elementData.triggeredOnce) {\r\n                                return;\r\n                            } else {\r\n                                elementData.triggeredOnce = true;\r\n                            }\r\n                        }\r\n                        if (triggerSpec.changed) {\r\n                            if (elementData.lastValue === elt.value) {\r\n                                return;\r\n                            } else {\r\n                                elementData.lastValue = elt.value;\r\n                            }\r\n                        }\r\n                        if (elementData.delayed) {\r\n                            clearTimeout(elementData.delayed);\r\n                        }\r\n                        if (elementData.throttle) {\r\n                            return;\r\n                        }\r\n\r\n                        if (triggerSpec.throttle) {\r\n                            if (!elementData.throttle) {\r\n                                handler(elt, evt);\r\n                                elementData.throttle = setTimeout(function () {\r\n                                    elementData.throttle = null;\r\n                                }, triggerSpec.throttle);\r\n                            }\r\n                        } else if (triggerSpec.delay) {\r\n                            elementData.delayed = setTimeout(function() { handler(elt, evt) }, triggerSpec.delay);\r\n                        } else {\r\n                            handler(elt, evt);\r\n                        }\r\n                    }\r\n                };\r\n                if (nodeData.listenerInfos == null) {\r\n                    nodeData.listenerInfos = [];\r\n                }\r\n                nodeData.listenerInfos.push({\r\n                    trigger: triggerSpec.trigger,\r\n                    listener: eventListener,\r\n                    on: eltToListenOn\r\n                })\r\n                eltToListenOn.addEventListener(triggerSpec.trigger, eventListener);\r\n            });\r\n        }\r\n\r\n        var windowIsScrolling = false // used by initScrollHandler\r\n        var scrollHandler = null;\r\n        function initScrollHandler() {\r\n            if (!scrollHandler) {\r\n                scrollHandler = function() {\r\n                    windowIsScrolling = true\r\n                };\r\n                window.addEventListener(\"scroll\", scrollHandler)\r\n                setInterval(function() {\r\n                    if (windowIsScrolling) {\r\n                        windowIsScrolling = false;\r\n                        forEach(getDocument().querySelectorAll(\"[hx-trigger='revealed'],[data-hx-trigger='revealed']\"), function (elt) {\r\n                            maybeReveal(elt);\r\n                        })\r\n                    }\r\n                }, 200);\r\n            }\r\n        }\r\n\r\n        function maybeReveal(elt) {\r\n            if (!hasAttribute(elt,'data-hx-revealed') && isScrolledIntoView(elt)) {\r\n                elt.setAttribute('data-hx-revealed', 'true');\r\n                var nodeData = getInternalData(elt);\r\n                if (nodeData.initHash) {\r\n                    triggerEvent(elt, 'revealed');\r\n                } else {\r\n                    // if the node isn't initialized, wait for it before triggering the request\r\n                    elt.addEventListener(\"htmx:afterProcessNode\", function(evt) { triggerEvent(elt, 'revealed') }, {once: true});\r\n                }\r\n            }\r\n        }\r\n\r\n        //====================================================================\r\n        // Web Sockets\r\n        //====================================================================\r\n\r\n        function processWebSocketInfo(elt, nodeData, info) {\r\n            var values = splitOnWhitespace(info);\r\n            for (var i = 0; i < values.length; i++) {\r\n                var value = values[i].split(/:(.+)/);\r\n                if (value[0] === \"connect\") {\r\n                    ensureWebSocket(elt, value[1], 0);\r\n                }\r\n                if (value[0] === \"send\") {\r\n                    processWebSocketSend(elt);\r\n                }\r\n            }\r\n        }\r\n\r\n        function ensureWebSocket(elt, wssSource, retryCount) {\r\n            if (!bodyContains(elt)) {\r\n                return;  // stop ensuring websocket connection when socket bearing element ceases to exist\r\n            }\r\n\r\n            if (wssSource.indexOf(\"/\") == 0) {  // complete absolute paths only\r\n                var base_part = location.hostname + (location.port ? ':'+location.port: '');\r\n                if (location.protocol == 'https:') {\r\n                    wssSource = \"wss://\" + base_part + wssSource;\r\n                } else if (location.protocol == 'http:') {\r\n                    wssSource = \"ws://\" + base_part + wssSource;\r\n                }\r\n            }\r\n            var socket = htmx.createWebSocket(wssSource);\r\n            socket.onerror = function (e) {\r\n                triggerErrorEvent(elt, \"htmx:wsError\", {error:e, socket:socket});\r\n                maybeCloseWebSocketSource(elt);\r\n            };\r\n\r\n            socket.onclose = function (e) {\r\n                if ([1006, 1012, 1013].indexOf(e.code) >= 0) {  // Abnormal Closure/Service Restart/Try Again Later\r\n                    var delay = getWebSocketReconnectDelay(retryCount);\r\n                    setTimeout(function() {\r\n                        ensureWebSocket(elt, wssSource, retryCount+1);  // creates a websocket with a new timeout\r\n                    }, delay);\r\n                }\r\n            };\r\n            socket.onopen = function (e) {\r\n                retryCount = 0;\r\n            }\r\n\r\n            getInternalData(elt).webSocket = socket;\r\n            socket.addEventListener('message', function (event) {\r\n                if (maybeCloseWebSocketSource(elt)) {\r\n                    return;\r\n                }\r\n\r\n                var response = event.data;\r\n                withExtensions(elt, function(extension){\r\n                    response = extension.transformResponse(response, null, elt);\r\n                });\r\n\r\n                var settleInfo = makeSettleInfo(elt);\r\n                var fragment = makeFragment(response);\r\n                var children = toArray(fragment.children);\r\n                for (var i = 0; i < children.length; i++) {\r\n                    var child = children[i];\r\n                    oobSwap(getAttributeValue(child, \"hx-swap-oob\") || \"true\", child, settleInfo);\r\n                }\r\n\r\n                settleImmediately(settleInfo.tasks);\r\n            });\r\n        }\r\n\r\n        function maybeCloseWebSocketSource(elt) {\r\n            if (!bodyContains(elt)) {\r\n                getInternalData(elt).webSocket.close();\r\n                return true;\r\n            }\r\n        }\r\n\r\n        function processWebSocketSend(elt) {\r\n            var webSocketSourceElt = getClosestMatch(elt, function (parent) {\r\n                return getInternalData(parent).webSocket != null;\r\n            });\r\n            if (webSocketSourceElt) {\r\n                elt.addEventListener(getTriggerSpecs(elt)[0].trigger, function (evt) {\r\n                    var webSocket = getInternalData(webSocketSourceElt).webSocket;\r\n                    var headers = getHeaders(elt, webSocketSourceElt);\r\n                    var results = getInputValues(elt, 'post');\r\n                    var errors = results.errors;\r\n                    var rawParameters = results.values;\r\n                    var expressionVars = getExpressionVars(elt);\r\n                    var allParameters = mergeObjects(rawParameters, expressionVars);\r\n                    var filteredParameters = filterValues(allParameters, elt);\r\n                    filteredParameters['HEADERS'] = headers;\r\n                    if (errors && errors.length > 0) {\r\n                        triggerEvent(elt, 'htmx:validation:halted', errors);\r\n                        return;\r\n                    }\r\n                    webSocket.send(JSON.stringify(filteredParameters));\r\n                    if(shouldCancel(evt, elt)){\r\n                        evt.preventDefault();\r\n                    }\r\n                });\r\n            } else {\r\n                triggerErrorEvent(elt, \"htmx:noWebSocketSourceError\");\r\n            }\r\n        }\r\n\r\n        function getWebSocketReconnectDelay(retryCount) {\r\n            var delay = htmx.config.wsReconnectDelay;\r\n            if (typeof delay === 'function') {\r\n                // @ts-ignore\r\n                return delay(retryCount);\r\n            }\r\n            if (delay === 'full-jitter') {\r\n                var exp = Math.min(retryCount, 6);\r\n                var maxDelay = 1000 * Math.pow(2, exp);\r\n                return maxDelay * Math.random();\r\n            }\r\n            logError('htmx.config.wsReconnectDelay must either be a function or the string \"full-jitter\"');\r\n        }\r\n\r\n        //====================================================================\r\n        // Server Sent Events\r\n        //====================================================================\r\n\r\n        function processSSEInfo(elt, nodeData, info) {\r\n            var values = splitOnWhitespace(info);\r\n            for (var i = 0; i < values.length; i++) {\r\n                var value = values[i].split(/:(.+)/);\r\n                if (value[0] === \"connect\") {\r\n                    processSSESource(elt, value[1]);\r\n                }\r\n\r\n                if ((value[0] === \"swap\")) {\r\n                    processSSESwap(elt, value[1])\r\n                }\r\n            }\r\n        }\r\n\r\n        function processSSESource(elt, sseSrc) {\r\n            var source = htmx.createEventSource(sseSrc);\r\n            source.onerror = function (e) {\r\n                triggerErrorEvent(elt, \"htmx:sseError\", {error:e, source:source});\r\n                maybeCloseSSESource(elt);\r\n            };\r\n            getInternalData(elt).sseEventSource = source;\r\n        }\r\n\r\n        function processSSESwap(elt, sseEventName) {\r\n            var sseSourceElt = getClosestMatch(elt, hasEventSource);\r\n            if (sseSourceElt) {\r\n                var sseEventSource = getInternalData(sseSourceElt).sseEventSource;\r\n                var sseListener = function (event) {\r\n                    if (maybeCloseSSESource(sseSourceElt)) {\r\n                        sseEventSource.removeEventListener(sseEventName, sseListener);\r\n                        return;\r\n                    }\r\n\r\n                    ///////////////////////////\r\n                    // TODO: merge this code with AJAX and WebSockets code in the future.\r\n\r\n                    var response = event.data;\r\n                    withExtensions(elt, function(extension){\r\n                        response = extension.transformResponse(response, null, elt);\r\n                    });\r\n\r\n                    var swapSpec = getSwapSpecification(elt)\r\n                    var target = getTarget(elt)\r\n                    var settleInfo = makeSettleInfo(elt);\r\n\r\n                    selectAndSwap(swapSpec.swapStyle, elt, target, response, settleInfo)\r\n                    settleImmediately(settleInfo.tasks)\r\n                    triggerEvent(elt, \"htmx:sseMessage\", event)\r\n                };\r\n\r\n                getInternalData(elt).sseListener = sseListener;\r\n                sseEventSource.addEventListener(sseEventName, sseListener);\r\n            } else {\r\n                triggerErrorEvent(elt, \"htmx:noSSESourceError\");\r\n            }\r\n        }\r\n\r\n        function processSSETrigger(elt, handler, sseEventName) {\r\n            var sseSourceElt = getClosestMatch(elt, hasEventSource);\r\n            if (sseSourceElt) {\r\n                var sseEventSource = getInternalData(sseSourceElt).sseEventSource;\r\n                var sseListener = function () {\r\n                    if (!maybeCloseSSESource(sseSourceElt)) {\r\n                        if (bodyContains(elt)) {\r\n                            handler(elt);\r\n                        } else {\r\n                            sseEventSource.removeEventListener(sseEventName, sseListener);\r\n                        }\r\n                    }\r\n                };\r\n                getInternalData(elt).sseListener = sseListener;\r\n                sseEventSource.addEventListener(sseEventName, sseListener);\r\n            } else {\r\n                triggerErrorEvent(elt, \"htmx:noSSESourceError\");\r\n            }\r\n        }\r\n\r\n        function maybeCloseSSESource(elt) {\r\n            if (!bodyContains(elt)) {\r\n                getInternalData(elt).sseEventSource.close();\r\n                return true;\r\n            }\r\n        }\r\n\r\n        function hasEventSource(node) {\r\n            return getInternalData(node).sseEventSource != null;\r\n        }\r\n\r\n        //====================================================================\r\n\r\n        function loadImmediately(elt, handler, nodeData, delay) {\r\n            var load = function(){\r\n                if (!nodeData.loaded) {\r\n                    nodeData.loaded = true;\r\n                    handler(elt);\r\n                }\r\n            }\r\n            if (delay) {\r\n                setTimeout(load, delay);\r\n            } else {\r\n                load();\r\n            }\r\n        }\r\n\r\n        function processVerbs(elt, nodeData, triggerSpecs) {\r\n            var explicitAction = false;\r\n            forEach(VERBS, function (verb) {\r\n                if (hasAttribute(elt,'hx-' + verb)) {\r\n                    var path = getAttributeValue(elt, 'hx-' + verb);\r\n                    explicitAction = true;\r\n                    nodeData.path = path;\r\n                    nodeData.verb = verb;\r\n                    triggerSpecs.forEach(function(triggerSpec) {\r\n                        addTriggerHandler(elt, triggerSpec, nodeData, function (elt, evt) {\r\n                            issueAjaxRequest(verb, path, elt, evt)\r\n                        })\r\n                    });\r\n                }\r\n            });\r\n            return explicitAction;\r\n        }\r\n\r\n        function addTriggerHandler(elt, triggerSpec, nodeData, handler) {\r\n            if (triggerSpec.sseEvent) {\r\n                processSSETrigger(elt, handler, triggerSpec.sseEvent);\r\n            } else if (triggerSpec.trigger === \"revealed\") {\r\n                initScrollHandler();\r\n                addEventListener(elt, handler, nodeData, triggerSpec);\r\n                maybeReveal(elt);\r\n            } else if (triggerSpec.trigger === \"intersect\") {\r\n                var observerOptions = {};\r\n                if (triggerSpec.root) {\r\n                    observerOptions.root = querySelectorExt(elt, triggerSpec.root)\r\n                }\r\n                if (triggerSpec.threshold) {\r\n                    observerOptions.threshold = parseFloat(triggerSpec.threshold);\r\n                }\r\n                var observer = new IntersectionObserver(function (entries) {\r\n                    for (var i = 0; i < entries.length; i++) {\r\n                        var entry = entries[i];\r\n                        if (entry.isIntersecting) {\r\n                            triggerEvent(elt, \"intersect\");\r\n                            break;\r\n                        }\r\n                    }\r\n                }, observerOptions);\r\n                observer.observe(elt);\r\n                addEventListener(elt, handler, nodeData, triggerSpec);\r\n            } else if (triggerSpec.trigger === \"load\") {\r\n                if (!maybeFilterEvent(triggerSpec, makeEvent(\"load\", {elt:elt}))) {\r\n                                loadImmediately(elt, handler, nodeData, triggerSpec.delay);\r\n                            }\r\n            } else if (triggerSpec.pollInterval) {\r\n                nodeData.polling = true;\r\n                processPolling(elt, handler, triggerSpec);\r\n            } else {\r\n                addEventListener(elt, handler, nodeData, triggerSpec);\r\n            }\r\n        }\r\n\r\n        function evalScript(script) {\r\n            if (script.type === \"text/javascript\" || script.type === \"module\" || script.type === \"\") {\r\n                var newScript = getDocument().createElement(\"script\");\r\n                forEach(script.attributes, function (attr) {\r\n                    newScript.setAttribute(attr.name, attr.value);\r\n                });\r\n                newScript.textContent = script.textContent;\r\n                newScript.async = false;\r\n                if (htmx.config.inlineScriptNonce) {\r\n                    newScript.nonce = htmx.config.inlineScriptNonce;\r\n                }\r\n                var parent = script.parentElement;\r\n\r\n                try {\r\n                    parent.insertBefore(newScript, script);\r\n                } catch (e) {\r\n                    logError(e);\r\n                } finally {\r\n                    // remove old script element, but only if it is still in DOM\r\n                    if (script.parentElement) {\r\n                        script.parentElement.removeChild(script);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        function processScripts(elt) {\r\n            if (matches(elt, \"script\")) {\r\n                evalScript(elt);\r\n            }\r\n            forEach(findAll(elt, \"script\"), function (script) {\r\n                evalScript(script);\r\n            });\r\n        }\r\n\r\n        function hasChanceOfBeingBoosted() {\r\n            return document.querySelector(\"[hx-boost], [data-hx-boost]\");\r\n        }\r\n\r\n        function findElementsToProcess(elt) {\r\n            if (elt.querySelectorAll) {\r\n                var boostedElts = hasChanceOfBeingBoosted() ? \", a, form\" : \"\";\r\n                var results = elt.querySelectorAll(VERB_SELECTOR + boostedElts + \", [hx-sse], [data-hx-sse], [hx-ws],\" +\r\n                    \" [data-hx-ws], [hx-ext], [data-hx-ext]\");\r\n                return results;\r\n            } else {\r\n                return [];\r\n            }\r\n        }\r\n\r\n        function initButtonTracking(form){\r\n            var maybeSetLastButtonClicked = function(evt){\r\n                var elt = closest(evt.target, \"button, input[type='submit']\");\r\n                if (elt !== null) {\r\n                    var internalData = getInternalData(form);\r\n                    internalData.lastButtonClicked = elt;\r\n                }\r\n            };\r\n\r\n            // need to handle both click and focus in:\r\n            //   focusin - in case someone tabs in to a button and hits the space bar\r\n            //   click - on OSX buttons do not focus on click see https://bugs.webkit.org/show_bug.cgi?id=13724\r\n\r\n            form.addEventListener('click', maybeSetLastButtonClicked)\r\n            form.addEventListener('focusin', maybeSetLastButtonClicked)\r\n            form.addEventListener('focusout', function(evt){\r\n                var internalData = getInternalData(form);\r\n                internalData.lastButtonClicked = null;\r\n            })\r\n        }\r\n\r\n        function initNode(elt) {\r\n            if (elt.closest && elt.closest(htmx.config.disableSelector)) {\r\n                return;\r\n            }\r\n            var nodeData = getInternalData(elt);\r\n            if (nodeData.initHash !== attributeHash(elt)) {\r\n\r\n                nodeData.initHash = attributeHash(elt);\r\n\r\n                // clean up any previously processed info\r\n                deInitNode(elt);\r\n\r\n                triggerEvent(elt, \"htmx:beforeProcessNode\")\r\n\r\n                if (elt.value) {\r\n                    nodeData.lastValue = elt.value;\r\n                }\r\n\r\n                var triggerSpecs = getTriggerSpecs(elt);\r\n                var explicitAction = processVerbs(elt, nodeData, triggerSpecs);\r\n\r\n                if (!explicitAction && getClosestAttributeValue(elt, \"hx-boost\") === \"true\") {\r\n                    boostElement(elt, nodeData, triggerSpecs);\r\n                }\r\n\r\n                if (elt.tagName === \"FORM\") {\r\n                    initButtonTracking(elt);\r\n                }\r\n\r\n                var sseInfo = getAttributeValue(elt, 'hx-sse');\r\n                if (sseInfo) {\r\n                    processSSEInfo(elt, nodeData, sseInfo);\r\n                }\r\n\r\n                var wsInfo = getAttributeValue(elt, 'hx-ws');\r\n                if (wsInfo) {\r\n                    processWebSocketInfo(elt, nodeData, wsInfo);\r\n                }\r\n                triggerEvent(elt, \"htmx:afterProcessNode\");\r\n            }\r\n        }\r\n\r\n        function processNode(elt) {\r\n            elt = resolveTarget(elt);\r\n            initNode(elt);\r\n            forEach(findElementsToProcess(elt), function(child) { initNode(child) });\r\n        }\r\n\r\n        //====================================================================\r\n        // Event/Log Support\r\n        //====================================================================\r\n\r\n        function kebabEventName(str) {\r\n            return str.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase();\r\n        }\r\n\r\n        function makeEvent(eventName, detail) {\r\n            var evt;\r\n            if (window.CustomEvent && typeof window.CustomEvent === 'function') {\r\n                evt = new CustomEvent(eventName, {bubbles: true, cancelable: true, detail: detail});\r\n            } else {\r\n                evt = getDocument().createEvent('CustomEvent');\r\n                evt.initCustomEvent(eventName, true, true, detail);\r\n            }\r\n            return evt;\r\n        }\r\n\r\n        function triggerErrorEvent(elt, eventName, detail) {\r\n            triggerEvent(elt, eventName, mergeObjects({error:eventName}, detail));\r\n        }\r\n\r\n        function ignoreEventForLogging(eventName) {\r\n            return eventName === \"htmx:afterProcessNode\"\r\n        }\r\n\r\n        /**\r\n         * `withExtensions` locates all active extensions for a provided element, then\r\n         * executes the provided function using each of the active extensions.  It should\r\n         * be called internally at every extendable execution point in htmx.\r\n         *\r\n         * @param {HTMLElement} elt\r\n         * @param {(extension:import(\"./htmx\").HtmxExtension) => void} toDo\r\n         * @returns void\r\n         */\r\n        function withExtensions(elt, toDo) {\r\n            forEach(getExtensions(elt), function(extension){\r\n                try {\r\n                    toDo(extension);\r\n                } catch (e) {\r\n                    logError(e);\r\n                }\r\n            });\r\n        }\r\n\r\n        function logError(msg) {\r\n            if(console.error) {\r\n                console.error(msg);\r\n            } else if (console.log) {\r\n                console.log(\"ERROR: \", msg);\r\n            }\r\n        }\r\n\r\n        function triggerEvent(elt, eventName, detail) {\r\n            elt = resolveTarget(elt);\r\n            if (detail == null) {\r\n                detail = {};\r\n            }\r\n            detail[\"elt\"] = elt;\r\n            var event = makeEvent(eventName, detail);\r\n            if (htmx.logger && !ignoreEventForLogging(eventName)) {\r\n                htmx.logger(elt, eventName, detail);\r\n            }\r\n            if (detail.error) {\r\n                logError(detail.error);\r\n                triggerEvent(elt, \"htmx:error\", {errorInfo:detail})\r\n            }\r\n            var eventResult = elt.dispatchEvent(event);\r\n            var kebabName = kebabEventName(eventName);\r\n            if (eventResult && kebabName !== eventName) {\r\n                var kebabedEvent = makeEvent(kebabName, event.detail);\r\n                eventResult = eventResult && elt.dispatchEvent(kebabedEvent)\r\n            }\r\n            withExtensions(elt, function (extension) {\r\n                eventResult = eventResult && (extension.onEvent(eventName, event) !== false)\r\n            });\r\n            return eventResult;\r\n        }\r\n\r\n        //====================================================================\r\n        // History Support\r\n        //====================================================================\r\n        var currentPathForHistory = location.pathname+location.search;\r\n\r\n        function getHistoryElement() {\r\n            var historyElt = getDocument().querySelector('[hx-history-elt],[data-hx-history-elt]');\r\n            return historyElt || getDocument().body;\r\n        }\r\n\r\n        function saveToHistoryCache(url, content, title, scroll) {\r\n            if (!canAccessLocalStorage()) {\r\n                return;\r\n            }\r\n\r\n            var historyCache = parseJSON(localStorage.getItem(\"htmx-history-cache\")) || [];\r\n            for (var i = 0; i < historyCache.length; i++) {\r\n                if (historyCache[i].url === url) {\r\n                    historyCache.splice(i, 1);\r\n                    break;\r\n                }\r\n            }\r\n            var newHistoryItem = {url:url, content: content, title:title, scroll:scroll};\r\n            triggerEvent(getDocument().body, \"htmx:historyItemCreated\", {item:newHistoryItem, cache: historyCache})\r\n            historyCache.push(newHistoryItem)\r\n            while (historyCache.length > htmx.config.historyCacheSize) {\r\n                historyCache.shift();\r\n            }\r\n            while(historyCache.length > 0){\r\n                try {\r\n                    localStorage.setItem(\"htmx-history-cache\", JSON.stringify(historyCache));\r\n                    break;\r\n                } catch (e) {\r\n                    triggerErrorEvent(getDocument().body, \"htmx:historyCacheError\", {cause:e, cache: historyCache})\r\n                    historyCache.shift(); // shrink the cache and retry\r\n                }\r\n            }\r\n        }\r\n\r\n        function getCachedHistory(url) {\r\n            if (!canAccessLocalStorage()) {\r\n                return null;\r\n            }\r\n\r\n            var historyCache = parseJSON(localStorage.getItem(\"htmx-history-cache\")) || [];\r\n            for (var i = 0; i < historyCache.length; i++) {\r\n                if (historyCache[i].url === url) {\r\n                    return historyCache[i];\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n\r\n        function cleanInnerHtmlForHistory(elt) {\r\n            var className = htmx.config.requestClass;\r\n            var clone = elt.cloneNode(true);\r\n            forEach(findAll(clone, \".\" + className), function(child){\r\n                removeClassFromElement(child, className);\r\n            });\r\n            return clone.innerHTML;\r\n        }\r\n\r\n        function saveCurrentPageToHistory() {\r\n            var elt = getHistoryElement();\r\n            var path = currentPathForHistory || location.pathname+location.search;\r\n\r\n            // Allow history snapshot feature to be disabled where hx-history=\"false\"\r\n            // is present *anywhere* in the current document we're about to save,\r\n            // so we can prevent privileged data entering the cache.\r\n            // The page will still be reachable as a history entry, but htmx will fetch it\r\n            // live from the server onpopstate rather than look in the localStorage cache\r\n            var disableHistoryCache = getDocument().querySelector('[hx-history=\"false\" i],[data-hx-history=\"false\" i]');\r\n            if (!disableHistoryCache) {\r\n                triggerEvent(getDocument().body, \"htmx:beforeHistorySave\", {path: path, historyElt: elt});\r\n                saveToHistoryCache(path, cleanInnerHtmlForHistory(elt), getDocument().title, window.scrollY);\r\n            }\r\n\r\n            if (htmx.config.historyEnabled) history.replaceState({htmx: true}, getDocument().title, window.location.href);\r\n        }\r\n\r\n        function pushUrlIntoHistory(path) {\r\n            // remove the cache buster parameter, if any\r\n            if (htmx.config.getCacheBusterParam) {\r\n                path = path.replace(/org\\.htmx\\.cache-buster=[^&]*&?/, '')\r\n                if (path.endsWith('&') || path.endsWith(\"?\")) {\r\n                    path = path.slice(0, -1);\r\n                }\r\n            }\r\n            if(htmx.config.historyEnabled) {\r\n                history.pushState({htmx:true}, \"\", path);\r\n            }\r\n            currentPathForHistory = path;\r\n        }\r\n\r\n        function replaceUrlInHistory(path) {\r\n            if(htmx.config.historyEnabled)  history.replaceState({htmx:true}, \"\", path);\r\n            currentPathForHistory = path;\r\n        }\r\n\r\n        function settleImmediately(tasks) {\r\n            forEach(tasks, function (task) {\r\n                task.call();\r\n            });\r\n        }\r\n\r\n        function loadHistoryFromServer(path) {\r\n            var request = new XMLHttpRequest();\r\n            var details = {path: path, xhr:request};\r\n            triggerEvent(getDocument().body, \"htmx:historyCacheMiss\", details);\r\n            request.open('GET', path, true);\r\n            request.setRequestHeader(\"HX-History-Restore-Request\", \"true\");\r\n            request.onload = function () {\r\n                if (this.status >= 200 && this.status < 400) {\r\n                    triggerEvent(getDocument().body, \"htmx:historyCacheMissLoad\", details);\r\n                    var fragment = makeFragment(this.response);\r\n                    // @ts-ignore\r\n                    fragment = fragment.querySelector('[hx-history-elt],[data-hx-history-elt]') || fragment;\r\n                    var historyElement = getHistoryElement();\r\n                    var settleInfo = makeSettleInfo(historyElement);\r\n                    var title = findTitle(this.response);\r\n                    if (title) {\r\n                        var titleElt = find(\"title\");\r\n                        if (titleElt) {\r\n                            titleElt.innerHTML = title;\r\n                        } else {\r\n                            window.document.title = title;\r\n                        }\r\n                    }\r\n                    // @ts-ignore\r\n                    swapInnerHTML(historyElement, fragment, settleInfo)\r\n                    settleImmediately(settleInfo.tasks);\r\n                    currentPathForHistory = path;\r\n                    triggerEvent(getDocument().body, \"htmx:historyRestore\", {path: path, cacheMiss:true, serverResponse:this.response});\r\n                } else {\r\n                    triggerErrorEvent(getDocument().body, \"htmx:historyCacheMissLoadError\", details);\r\n                }\r\n            };\r\n            request.send();\r\n        }\r\n\r\n        function restoreHistory(path) {\r\n            saveCurrentPageToHistory();\r\n            path = path || location.pathname+location.search;\r\n            var cached = getCachedHistory(path);\r\n            if (cached) {\r\n                var fragment = makeFragment(cached.content);\r\n                var historyElement = getHistoryElement();\r\n                var settleInfo = makeSettleInfo(historyElement);\r\n                swapInnerHTML(historyElement, fragment, settleInfo)\r\n                settleImmediately(settleInfo.tasks);\r\n                document.title = cached.title;\r\n                window.scrollTo(0, cached.scroll);\r\n                currentPathForHistory = path;\r\n                triggerEvent(getDocument().body, \"htmx:historyRestore\", {path:path, item:cached});\r\n            } else {\r\n                if (htmx.config.refreshOnHistoryMiss) {\r\n\r\n                    // @ts-ignore: optional parameter in reload() function throws error\r\n                    window.location.reload(true);\r\n                } else {\r\n                    loadHistoryFromServer(path);\r\n                }\r\n            }\r\n        }\r\n\r\n        function addRequestIndicatorClasses(elt) {\r\n            var indicators = findAttributeTargets(elt, 'hx-indicator');\r\n            if (indicators == null) {\r\n                indicators = [elt];\r\n            }\r\n            forEach(indicators, function (ic) {\r\n                var internalData = getInternalData(ic);\r\n                internalData.requestCount = (internalData.requestCount || 0) + 1;\r\n                ic.classList[\"add\"].call(ic.classList, htmx.config.requestClass);\r\n            });\r\n            return indicators;\r\n        }\r\n\r\n        function removeRequestIndicatorClasses(indicators) {\r\n            forEach(indicators, function (ic) {\r\n                var internalData = getInternalData(ic);\r\n                internalData.requestCount = (internalData.requestCount || 0) - 1;\r\n                if (internalData.requestCount === 0) {\r\n                    ic.classList[\"remove\"].call(ic.classList, htmx.config.requestClass);\r\n                }\r\n            });\r\n        }\r\n\r\n        //====================================================================\r\n        // Input Value Processing\r\n        //====================================================================\r\n\r\n        function haveSeenNode(processed, elt) {\r\n            for (var i = 0; i < processed.length; i++) {\r\n                var node = processed[i];\r\n                if (node.isSameNode(elt)) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n\r\n        function shouldInclude(elt) {\r\n            if(elt.name === \"\" || elt.name == null || elt.disabled) {\r\n                return false;\r\n            }\r\n            // ignore \"submitter\" types (see jQuery src/serialize.js)\r\n            if (elt.type === \"button\" || elt.type === \"submit\" || elt.tagName === \"image\" || elt.tagName === \"reset\" || elt.tagName === \"file\" ) {\r\n                return false;\r\n            }\r\n            if (elt.type === \"checkbox\" || elt.type === \"radio\" ) {\r\n                return elt.checked;\r\n            }\r\n            return true;\r\n        }\r\n\r\n        function processInputValue(processed, values, errors, elt, validate) {\r\n            if (elt == null || haveSeenNode(processed, elt)) {\r\n                return;\r\n            } else {\r\n                processed.push(elt);\r\n            }\r\n            if (shouldInclude(elt)) {\r\n                var name = getRawAttribute(elt,\"name\");\r\n                var value = elt.value;\r\n                if (elt.multiple) {\r\n                    value = toArray(elt.querySelectorAll(\"option:checked\")).map(function (e) { return e.value });\r\n                }\r\n                // include file inputs\r\n                if (elt.files) {\r\n                    value = toArray(elt.files);\r\n                }\r\n                // This is a little ugly because both the current value of the named value in the form\r\n                // and the new value could be arrays, so we have to handle all four cases :/\r\n                if (name != null && value != null) {\r\n                    var current = values[name];\r\n                    if (current !== undefined) {\r\n                        if (Array.isArray(current)) {\r\n                            if (Array.isArray(value)) {\r\n                                values[name] = current.concat(value);\r\n                            } else {\r\n                                current.push(value);\r\n                            }\r\n                        } else {\r\n                            if (Array.isArray(value)) {\r\n                                values[name] = [current].concat(value);\r\n                            } else {\r\n                                values[name] = [current, value];\r\n                            }\r\n                        }\r\n                    } else {\r\n                        values[name] = value;\r\n                    }\r\n                }\r\n                if (validate) {\r\n                    validateElement(elt, errors);\r\n                }\r\n            }\r\n            if (matches(elt, 'form')) {\r\n                var inputs = elt.elements;\r\n                forEach(inputs, function(input) {\r\n                    processInputValue(processed, values, errors, input, validate);\r\n                });\r\n            }\r\n        }\r\n\r\n        function validateElement(element, errors) {\r\n            if (element.willValidate) {\r\n                triggerEvent(element, \"htmx:validation:validate\")\r\n                if (!element.checkValidity()) {\r\n                    errors.push({elt: element, message:element.validationMessage, validity:element.validity});\r\n                    triggerEvent(element, \"htmx:validation:failed\", {message:element.validationMessage, validity:element.validity})\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @param {HTMLElement} elt\r\n         * @param {string} verb\r\n         */\r\n        function getInputValues(elt, verb) {\r\n            var processed = [];\r\n            var values = {};\r\n            var formValues = {};\r\n            var errors = [];\r\n            var internalData = getInternalData(elt);\r\n\r\n            // only validate when form is directly submitted and novalidate or formnovalidate are not set\r\n            // or if the element has an explicit hx-validate=\"true\" on it\r\n            var validate = (matches(elt, 'form') && elt.noValidate !== true) || getAttributeValue(elt, \"hx-validate\") === \"true\";\r\n            if (internalData.lastButtonClicked) {\r\n                validate = validate && internalData.lastButtonClicked.formNoValidate !== true;\r\n            }\r\n\r\n            // for a non-GET include the closest form\r\n            if (verb !== 'get') {\r\n                processInputValue(processed, formValues, errors, closest(elt, 'form'), validate);\r\n            }\r\n\r\n            // include the element itself\r\n            processInputValue(processed, values, errors, elt, validate);\r\n\r\n            // if a button or submit was clicked last, include its value\r\n            if (internalData.lastButtonClicked) {\r\n                var name = getRawAttribute(internalData.lastButtonClicked,\"name\");\r\n                if (name) {\r\n                    values[name] = internalData.lastButtonClicked.value;\r\n                }\r\n            }\r\n\r\n            // include any explicit includes\r\n            var includes = findAttributeTargets(elt, \"hx-include\");\r\n            forEach(includes, function(node) {\r\n                processInputValue(processed, values, errors, node, validate);\r\n                // if a non-form is included, include any input values within it\r\n                if (!matches(node, 'form')) {\r\n                    forEach(node.querySelectorAll(INPUT_SELECTOR), function (descendant) {\r\n                        processInputValue(processed, values, errors, descendant, validate);\r\n                    })\r\n                }\r\n            });\r\n\r\n            // form values take precedence, overriding the regular values\r\n            values = mergeObjects(values, formValues);\r\n\r\n            return {errors:errors, values:values};\r\n        }\r\n\r\n        function appendParam(returnStr, name, realValue) {\r\n            if (returnStr !== \"\") {\r\n                returnStr += \"&\";\r\n            }\r\n            if (String(realValue) === \"[object Object]\") {\r\n                realValue = JSON.stringify(realValue);\r\n            }\r\n            var s = encodeURIComponent(realValue);\r\n            returnStr += encodeURIComponent(name) + \"=\" + s;\r\n            return returnStr;\r\n        }\r\n\r\n        function urlEncode(values) {\r\n            var returnStr = \"\";\r\n            for (var name in values) {\r\n                if (values.hasOwnProperty(name)) {\r\n                    var value = values[name];\r\n                    if (Array.isArray(value)) {\r\n                        forEach(value, function(v) {\r\n                            returnStr = appendParam(returnStr, name, v);\r\n                        });\r\n                    } else {\r\n                        returnStr = appendParam(returnStr, name, value);\r\n                    }\r\n                }\r\n            }\r\n            return returnStr;\r\n        }\r\n\r\n        function makeFormData(values) {\r\n            var formData = new FormData();\r\n            for (var name in values) {\r\n                if (values.hasOwnProperty(name)) {\r\n                    var value = values[name];\r\n                    if (Array.isArray(value)) {\r\n                        forEach(value, function(v) {\r\n                            formData.append(name, v);\r\n                        });\r\n                    } else {\r\n                        formData.append(name, value);\r\n                    }\r\n                }\r\n            }\r\n            return formData;\r\n        }\r\n\r\n        //====================================================================\r\n        // Ajax\r\n        //====================================================================\r\n\r\n        /**\r\n         * @param {HTMLElement} elt\r\n         * @param {HTMLElement} target\r\n         * @param {string} prompt\r\n         * @returns {Object} // TODO: Define/Improve HtmxHeaderSpecification\r\n         */\r\n        function getHeaders(elt, target, prompt) {\r\n            var headers = {\r\n                \"HX-Request\" : \"true\",\r\n                \"HX-Trigger\" : getRawAttribute(elt, \"id\"),\r\n                \"HX-Trigger-Name\" : getRawAttribute(elt, \"name\"),\r\n                \"HX-Target\" : getAttributeValue(target, \"id\"),\r\n                \"HX-Current-URL\" : getDocument().location.href,\r\n            }\r\n            getValuesForElement(elt, \"hx-headers\", false, headers)\r\n            if (prompt !== undefined) {\r\n                headers[\"HX-Prompt\"] = prompt;\r\n            }\r\n            if (getInternalData(elt).boosted) {\r\n                headers[\"HX-Boosted\"] = \"true\";\r\n            }\r\n            return headers;\r\n        }\r\n\r\n        /**\r\n         * filterValues takes an object containing form input values\r\n         * and returns a new object that only contains keys that are\r\n         * specified by the closest \"hx-params\" attribute\r\n         * @param {Object} inputValues\r\n         * @param {HTMLElement} elt\r\n         * @returns {Object}\r\n         */\r\n        function filterValues(inputValues, elt) {\r\n            var paramsValue = getClosestAttributeValue(elt, \"hx-params\");\r\n            if (paramsValue) {\r\n                if (paramsValue === \"none\") {\r\n                    return {};\r\n                } else if (paramsValue === \"*\") {\r\n                    return inputValues;\r\n                } else if(paramsValue.indexOf(\"not \") === 0) {\r\n                    forEach(paramsValue.substr(4).split(\",\"), function (name) {\r\n                        name = name.trim();\r\n                        delete inputValues[name];\r\n                    });\r\n                    return inputValues;\r\n                } else {\r\n                    var newValues = {}\r\n                    forEach(paramsValue.split(\",\"), function (name) {\r\n                        name = name.trim();\r\n                        newValues[name] = inputValues[name];\r\n                    });\r\n                    return newValues;\r\n                }\r\n            } else {\r\n                return inputValues;\r\n            }\r\n        }\r\n\r\n        function isAnchorLink(elt) {\r\n          return getRawAttribute(elt, 'href') && getRawAttribute(elt, 'href').indexOf(\"#\") >=0\r\n        }\r\n\r\n        /**\r\n         *\r\n         * @param {HTMLElement} elt\r\n         * @param {string} swapInfoOverride\r\n         * @returns {import(\"./htmx\").HtmxSwapSpecification}\r\n         */\r\n        function getSwapSpecification(elt, swapInfoOverride) {\r\n            var swapInfo = swapInfoOverride ? swapInfoOverride : getClosestAttributeValue(elt, \"hx-swap\");\r\n            var swapSpec = {\r\n                \"swapStyle\" : getInternalData(elt).boosted ? 'innerHTML' : htmx.config.defaultSwapStyle,\r\n                \"swapDelay\" : htmx.config.defaultSwapDelay,\r\n                \"settleDelay\" : htmx.config.defaultSettleDelay\r\n            }\r\n            if (getInternalData(elt).boosted && !isAnchorLink(elt)) {\r\n              swapSpec[\"show\"] = \"top\"\r\n            }\r\n            if (swapInfo) {\r\n                var split = splitOnWhitespace(swapInfo);\r\n                if (split.length > 0) {\r\n                    swapSpec[\"swapStyle\"] = split[0];\r\n                    for (var i = 1; i < split.length; i++) {\r\n                        var modifier = split[i];\r\n                        if (modifier.indexOf(\"swap:\") === 0) {\r\n                            swapSpec[\"swapDelay\"] = parseInterval(modifier.substr(5));\r\n                        }\r\n                        if (modifier.indexOf(\"settle:\") === 0) {\r\n                            swapSpec[\"settleDelay\"] = parseInterval(modifier.substr(7));\r\n                        }\r\n                        if (modifier.indexOf(\"scroll:\") === 0) {\r\n                            var scrollSpec = modifier.substr(7);\r\n                            var splitSpec = scrollSpec.split(\":\");\r\n                            var scrollVal = splitSpec.pop();\r\n                            var selectorVal = splitSpec.length > 0 ? splitSpec.join(\":\") : null;\r\n                            swapSpec[\"scroll\"] = scrollVal;\r\n                            swapSpec[\"scrollTarget\"] = selectorVal;\r\n                        }\r\n                        if (modifier.indexOf(\"show:\") === 0) {\r\n                            var showSpec = modifier.substr(5);\r\n                            var splitSpec = showSpec.split(\":\");\r\n                            var showVal = splitSpec.pop();\r\n                            var selectorVal = splitSpec.length > 0 ? splitSpec.join(\":\") : null;\r\n                            swapSpec[\"show\"] = showVal;\r\n                            swapSpec[\"showTarget\"] = selectorVal;\r\n                        }\r\n                        if (modifier.indexOf(\"focus-scroll:\") === 0) {\r\n                            var focusScrollVal = modifier.substr(\"focus-scroll:\".length);\r\n                            swapSpec[\"focusScroll\"] = focusScrollVal == \"true\";\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return swapSpec;\r\n        }\r\n\r\n        function usesFormData(elt) {\r\n            return getClosestAttributeValue(elt, \"hx-encoding\") === \"multipart/form-data\" ||\r\n                (matches(elt, \"form\") && getRawAttribute(elt, 'enctype') === \"multipart/form-data\");\r\n        }\r\n\r\n        function encodeParamsForBody(xhr, elt, filteredParameters) {\r\n            var encodedParameters = null;\r\n            withExtensions(elt, function (extension) {\r\n                if (encodedParameters == null) {\r\n                    encodedParameters = extension.encodeParameters(xhr, filteredParameters, elt);\r\n                }\r\n            });\r\n            if (encodedParameters != null) {\r\n                return encodedParameters;\r\n            } else {\r\n                if (usesFormData(elt)) {\r\n                    return makeFormData(filteredParameters);\r\n                } else {\r\n                    return urlEncode(filteredParameters);\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         *\r\n         * @param {Element} target\r\n         * @returns {import(\"./htmx\").HtmxSettleInfo}\r\n         */\r\n        function makeSettleInfo(target) {\r\n            return {tasks: [], elts: [target]};\r\n        }\r\n\r\n        function updateScrollState(content, swapSpec) {\r\n            var first = content[0];\r\n            var last = content[content.length - 1];\r\n            if (swapSpec.scroll) {\r\n                var target = null;\r\n                if (swapSpec.scrollTarget) {\r\n                    target = querySelectorExt(first, swapSpec.scrollTarget);\r\n                }\r\n                if (swapSpec.scroll === \"top\" && (first || target)) {\r\n                    target = target || first;\r\n                    target.scrollTop = 0;\r\n                }\r\n                if (swapSpec.scroll === \"bottom\" && (last || target)) {\r\n                    target = target || last;\r\n                    target.scrollTop = target.scrollHeight;\r\n                }\r\n            }\r\n            if (swapSpec.show) {\r\n                var target = null;\r\n                if (swapSpec.showTarget) {\r\n                    var targetStr = swapSpec.showTarget;\r\n                    if (swapSpec.showTarget === \"window\") {\r\n                        targetStr = \"body\";\r\n                    }\r\n                    target = querySelectorExt(first, targetStr);\r\n                }\r\n                if (swapSpec.show === \"top\" && (first || target)) {\r\n                    target = target || first;\r\n                    target.scrollIntoView({block:'start', behavior: htmx.config.scrollBehavior});\r\n                }\r\n                if (swapSpec.show === \"bottom\" && (last || target)) {\r\n                    target = target || last;\r\n                    target.scrollIntoView({block:'end', behavior: htmx.config.scrollBehavior});\r\n                }\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @param {HTMLElement} elt\r\n         * @param {string} attr\r\n         * @param {boolean=} evalAsDefault\r\n         * @param {Object=} values\r\n         * @returns {Object}\r\n         */\r\n        function getValuesForElement(elt, attr, evalAsDefault, values) {\r\n            if (values == null) {\r\n                values = {};\r\n            }\r\n            if (elt == null) {\r\n                return values;\r\n            }\r\n            var attributeValue = getAttributeValue(elt, attr);\r\n            if (attributeValue) {\r\n                var str = attributeValue.trim();\r\n                var evaluateValue = evalAsDefault;\r\n                if (str === \"unset\") {\r\n                    return null;\r\n                }\r\n                if (str.indexOf(\"javascript:\") === 0) {\r\n                    str = str.substr(11);\r\n                    evaluateValue = true;\r\n                } else if (str.indexOf(\"js:\") === 0) {\r\n                    str = str.substr(3);\r\n                    evaluateValue = true;\r\n                }\r\n                if (str.indexOf('{') !== 0) {\r\n                    str = \"{\" + str + \"}\";\r\n                }\r\n                var varsValues;\r\n                if (evaluateValue) {\r\n                    varsValues = maybeEval(elt,function () {return Function(\"return (\" + str + \")\")();}, {});\r\n                } else {\r\n                    varsValues = parseJSON(str);\r\n                }\r\n                for (var key in varsValues) {\r\n                    if (varsValues.hasOwnProperty(key)) {\r\n                        if (values[key] == null) {\r\n                            values[key] = varsValues[key];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return getValuesForElement(parentElt(elt), attr, evalAsDefault, values);\r\n        }\r\n\r\n        function maybeEval(elt, toEval, defaultVal) {\r\n            if (htmx.config.allowEval) {\r\n                return toEval();\r\n            } else {\r\n                triggerErrorEvent(elt, 'htmx:evalDisallowedError');\r\n                return defaultVal;\r\n            }\r\n        }\r\n\r\n        /**\r\n         * @param {HTMLElement} elt\r\n         * @param {*} expressionVars\r\n         * @returns\r\n         */\r\n        function getHXVarsForElement(elt, expressionVars) {\r\n            return getValuesForElement(elt, \"hx-vars\", true, expressionVars);\r\n        }\r\n\r\n        /**\r\n         * @param {HTMLElement} elt\r\n         * @param {*} expressionVars\r\n         * @returns\r\n         */\r\n        function getHXValsForElement(elt, expressionVars) {\r\n            return getValuesForElement(elt, \"hx-vals\", false, expressionVars);\r\n        }\r\n\r\n        /**\r\n         * @param {HTMLElement} elt\r\n         * @returns {Object}\r\n         */\r\n        function getExpressionVars(elt) {\r\n            return mergeObjects(getHXVarsForElement(elt), getHXValsForElement(elt));\r\n        }\r\n\r\n        function safelySetHeaderValue(xhr, header, headerValue) {\r\n            if (headerValue !== null) {\r\n                try {\r\n                    xhr.setRequestHeader(header, headerValue);\r\n                } catch (e) {\r\n                    // On an exception, try to set the header URI encoded instead\r\n                    xhr.setRequestHeader(header, encodeURIComponent(headerValue));\r\n                    xhr.setRequestHeader(header + \"-URI-AutoEncoded\", \"true\");\r\n                }\r\n            }\r\n        }\r\n\r\n        function getPathFromResponse(xhr) {\r\n            // NB: IE11 does not support this stuff\r\n            if (xhr.responseURL && typeof(URL) !== \"undefined\") {\r\n                try {\r\n                    var url = new URL(xhr.responseURL);\r\n                    return url.pathname + url.search;\r\n                } catch (e) {\r\n                    triggerErrorEvent(getDocument().body, \"htmx:badResponseUrl\", {url: xhr.responseURL});\r\n                }\r\n            }\r\n        }\r\n\r\n        function hasHeader(xhr, regexp) {\r\n            return xhr.getAllResponseHeaders().match(regexp);\r\n        }\r\n\r\n        function ajaxHelper(verb, path, context) {\r\n            verb = verb.toLowerCase();\r\n            if (context) {\r\n                if (context instanceof Element || isType(context, 'String')) {\r\n                    return issueAjaxRequest(verb, path, null, null, {\r\n                        targetOverride: resolveTarget(context),\r\n                        returnPromise: true\r\n                    });\r\n                } else {\r\n                    return issueAjaxRequest(verb, path, resolveTarget(context.source), context.event,\r\n                        {\r\n                            handler : context.handler,\r\n                            headers : context.headers,\r\n                            values : context.values,\r\n                            targetOverride: resolveTarget(context.target),\r\n                            swapOverride: context.swap,\r\n                            returnPromise: true\r\n                        });\r\n                }\r\n            } else {\r\n                return issueAjaxRequest(verb, path, null, null, {\r\n                        returnPromise: true\r\n                });\r\n            }\r\n        }\r\n\r\n        function hierarchyForElt(elt) {\r\n            var arr = [];\r\n            while (elt) {\r\n                arr.push(elt);\r\n                elt = elt.parentElement;\r\n            }\r\n            return arr;\r\n        }\r\n\r\n        function issueAjaxRequest(verb, path, elt, event, etc, confirmed) {\r\n            var resolve = null;\r\n            var reject = null;\r\n            etc = etc != null ? etc : {};\r\n            if(etc.returnPromise && typeof Promise !== \"undefined\"){\r\n                var promise = new Promise(function (_resolve, _reject) {\r\n                    resolve = _resolve;\r\n                    reject = _reject;\r\n                });\r\n            }\r\n            if(elt == null) {\r\n                elt = getDocument().body;\r\n            }\r\n            var responseHandler = etc.handler || handleAjaxResponse;\r\n\r\n            if (!bodyContains(elt)) {\r\n                return; // do not issue requests for elements removed from the DOM\r\n            }\r\n            var target = etc.targetOverride || getTarget(elt);\r\n            if (target == null || target == DUMMY_ELT) {\r\n                triggerErrorEvent(elt, 'htmx:targetError', {target: getAttributeValue(elt, \"hx-target\")});\r\n                return;\r\n            }\r\n\r\n            // allow event-based confirmation w/ a callback\r\n            if (!confirmed) {\r\n                var issueRequest = function() {\r\n                    return issueAjaxRequest(verb, path, elt, event, etc, true);\r\n                }\r\n                var confirmDetails = {target: target, elt: elt, path: path, verb: verb, triggeringEvent: event, etc: etc, issueRequest: issueRequest};\r\n                if (triggerEvent(elt, 'htmx:confirm', confirmDetails) === false) {\r\n                    return;\r\n                }\r\n            }\r\n\r\n            var syncElt = elt;\r\n            var eltData = getInternalData(elt);\r\n            var syncStrategy = getClosestAttributeValue(elt, \"hx-sync\");\r\n            var queueStrategy = null;\r\n            var abortable = false;\r\n            if (syncStrategy) {\r\n                var syncStrings = syncStrategy.split(\":\");\r\n                var selector = syncStrings[0].trim();\r\n                if (selector === \"this\") {\r\n                    syncElt = findThisElement(elt, 'hx-sync');\r\n                } else {\r\n                    syncElt = querySelectorExt(elt, selector);\r\n                }\r\n                // default to the drop strategy\r\n                syncStrategy = (syncStrings[1] || 'drop').trim();\r\n                eltData = getInternalData(syncElt);\r\n                if (syncStrategy === \"drop\" && eltData.xhr && eltData.abortable !== true) {\r\n                    return;\r\n                } else if (syncStrategy === \"abort\") {\r\n                    if (eltData.xhr) {\r\n                        return;\r\n                    } else {\r\n                        abortable = true;\r\n                    }\r\n                } else if (syncStrategy === \"replace\") {\r\n                    triggerEvent(syncElt, 'htmx:abort'); // abort the current request and continue\r\n                } else if (syncStrategy.indexOf(\"queue\") === 0) {\r\n                    var queueStrArray = syncStrategy.split(\" \");\r\n                    queueStrategy = (queueStrArray[1] || \"last\").trim();\r\n                }\r\n            }\r\n\r\n            if (eltData.xhr) {\r\n                if (eltData.abortable) {\r\n                    triggerEvent(syncElt, 'htmx:abort'); // abort the current request and continue\r\n                } else {\r\n                    if(queueStrategy == null){\r\n                        if (event) {\r\n                            var eventData = getInternalData(event);\r\n                            if (eventData && eventData.triggerSpec && eventData.triggerSpec.queue) {\r\n                                queueStrategy = eventData.triggerSpec.queue;\r\n                            }\r\n                        }\r\n                        if (queueStrategy == null) {\r\n                            queueStrategy = \"last\";\r\n                        }\r\n                    }\r\n                    if (eltData.queuedRequests == null) {\r\n                        eltData.queuedRequests = [];\r\n                    }\r\n                    if (queueStrategy === \"first\" && eltData.queuedRequests.length === 0) {\r\n                        eltData.queuedRequests.push(function () {\r\n                            issueAjaxRequest(verb, path, elt, event, etc)\r\n                        });\r\n                    } else if (queueStrategy === \"all\") {\r\n                        eltData.queuedRequests.push(function () {\r\n                            issueAjaxRequest(verb, path, elt, event, etc)\r\n                        });\r\n                    } else if (queueStrategy === \"last\") {\r\n                        eltData.queuedRequests = []; // dump existing queue\r\n                        eltData.queuedRequests.push(function () {\r\n                            issueAjaxRequest(verb, path, elt, event, etc)\r\n                        });\r\n                    }\r\n                    return;\r\n                }\r\n            }\r\n\r\n            var xhr = new XMLHttpRequest();\r\n            eltData.xhr = xhr;\r\n            eltData.abortable = abortable;\r\n            var endRequestLock = function(){\r\n                eltData.xhr = null;\r\n                eltData.abortable = false;\r\n                if (eltData.queuedRequests != null &&\r\n                    eltData.queuedRequests.length > 0) {\r\n                    var queuedRequest = eltData.queuedRequests.shift();\r\n                    queuedRequest();\r\n                }\r\n            }\r\n            var promptQuestion = getClosestAttributeValue(elt, \"hx-prompt\");\r\n            if (promptQuestion) {\r\n                var promptResponse = prompt(promptQuestion);\r\n                // prompt returns null if cancelled and empty string if accepted with no entry\r\n                if (promptResponse === null ||\r\n                    !triggerEvent(elt, 'htmx:prompt', {prompt: promptResponse, target:target})) {\r\n                    maybeCall(resolve);\r\n                    endRequestLock();\r\n                    return promise;\r\n                }\r\n            }\r\n\r\n            var confirmQuestion = getClosestAttributeValue(elt, \"hx-confirm\");\r\n            if (confirmQuestion) {\r\n                if(!confirm(confirmQuestion)) {\r\n                    maybeCall(resolve);\r\n                    endRequestLock()\r\n                    return promise;\r\n                }\r\n            }\r\n\r\n\r\n            var headers = getHeaders(elt, target, promptResponse);\r\n            if (etc.headers) {\r\n                headers = mergeObjects(headers, etc.headers);\r\n            }\r\n            var results = getInputValues(elt, verb);\r\n            var errors = results.errors;\r\n            var rawParameters = results.values;\r\n            if (etc.values) {\r\n                rawParameters = mergeObjects(rawParameters, etc.values);\r\n            }\r\n            var expressionVars = getExpressionVars(elt);\r\n            var allParameters = mergeObjects(rawParameters, expressionVars);\r\n            var filteredParameters = filterValues(allParameters, elt);\r\n\r\n            if (verb !== 'get' && !usesFormData(elt)) {\r\n                headers['Content-Type'] = 'application/x-www-form-urlencoded';\r\n            }\r\n\r\n            if (htmx.config.getCacheBusterParam && verb === 'get') {\r\n                filteredParameters['org.htmx.cache-buster'] = getRawAttribute(target, \"id\") || \"true\";\r\n            }\r\n\r\n            // behavior of anchors w/ empty href is to use the current URL\r\n            if (path == null || path === \"\") {\r\n                path = getDocument().location.href;\r\n            }\r\n\r\n\r\n            var requestAttrValues = getValuesForElement(elt, 'hx-request');\r\n\r\n            var eltIsBoosted = getInternalData(elt).boosted;\r\n            var requestConfig = {\r\n                boosted: eltIsBoosted,\r\n                parameters: filteredParameters,\r\n                unfilteredParameters: allParameters,\r\n                headers:headers,\r\n                target:target,\r\n                verb:verb,\r\n                errors:errors,\r\n                withCredentials: etc.credentials || requestAttrValues.credentials || htmx.config.withCredentials,\r\n                timeout:  etc.timeout || requestAttrValues.timeout || htmx.config.timeout,\r\n                path:path,\r\n                triggeringEvent:event\r\n            };\r\n\r\n            if(!triggerEvent(elt, 'htmx:configRequest', requestConfig)){\r\n                maybeCall(resolve);\r\n                endRequestLock();\r\n                return promise;\r\n            }\r\n\r\n            // copy out in case the object was overwritten\r\n            path = requestConfig.path;\r\n            verb = requestConfig.verb;\r\n            headers = requestConfig.headers;\r\n            filteredParameters = requestConfig.parameters;\r\n            errors = requestConfig.errors;\r\n\r\n            if(errors && errors.length > 0){\r\n                triggerEvent(elt, 'htmx:validation:halted', requestConfig)\r\n                maybeCall(resolve);\r\n                endRequestLock();\r\n                return promise;\r\n            }\r\n\r\n            var splitPath = path.split(\"#\");\r\n            var pathNoAnchor = splitPath[0];\r\n            var anchor = splitPath[1];\r\n            var finalPathForGet = null;\r\n            if (verb === 'get') {\r\n                finalPathForGet = pathNoAnchor;\r\n                var values = Object.keys(filteredParameters).length !== 0;\r\n                if (values) {\r\n                    if (finalPathForGet.indexOf(\"?\") < 0) {\r\n                        finalPathForGet += \"?\";\r\n                    } else {\r\n                        finalPathForGet += \"&\";\r\n                    }\r\n                    finalPathForGet += urlEncode(filteredParameters);\r\n                    if (anchor) {\r\n                        finalPathForGet += \"#\" + anchor;\r\n                    }\r\n                }\r\n                xhr.open('GET', finalPathForGet, true);\r\n            } else {\r\n                xhr.open(verb.toUpperCase(), path, true);\r\n            }\r\n\r\n            xhr.overrideMimeType(\"text/html\");\r\n            xhr.withCredentials = requestConfig.withCredentials;\r\n            xhr.timeout = requestConfig.timeout;\r\n\r\n            // request headers\r\n            if (requestAttrValues.noHeaders) {\r\n                // ignore all headers\r\n            } else {\r\n                for (var header in headers) {\r\n                    if (headers.hasOwnProperty(header)) {\r\n                        var headerValue = headers[header];\r\n                        safelySetHeaderValue(xhr, header, headerValue);\r\n                    }\r\n                }\r\n            }\r\n\r\n            var responseInfo = {\r\n                xhr: xhr, target: target, requestConfig: requestConfig, etc: etc, boosted: eltIsBoosted,\r\n                pathInfo: {\r\n                    requestPath: path,\r\n                    finalRequestPath: finalPathForGet || path,\r\n                    anchor: anchor\r\n                }\r\n            };\r\n\r\n            xhr.onload = function () {\r\n                try {\r\n                    var hierarchy = hierarchyForElt(elt);\r\n                    responseInfo.pathInfo.responsePath = getPathFromResponse(xhr);\r\n                    responseHandler(elt, responseInfo);\r\n                    removeRequestIndicatorClasses(indicators);\r\n                    triggerEvent(elt, 'htmx:afterRequest', responseInfo);\r\n                    triggerEvent(elt, 'htmx:afterOnLoad', responseInfo);\r\n                    // if the body no longer contains the element, trigger the event on the closest parent\r\n                    // remaining in the DOM\r\n                    if (!bodyContains(elt)) {\r\n                        var secondaryTriggerElt = null;\r\n                        while (hierarchy.length > 0 && secondaryTriggerElt == null) {\r\n                            var parentEltInHierarchy = hierarchy.shift();\r\n                            if (bodyContains(parentEltInHierarchy)) {\r\n                                secondaryTriggerElt = parentEltInHierarchy;\r\n                            }\r\n                        }\r\n                        if (secondaryTriggerElt) {\r\n                            triggerEvent(secondaryTriggerElt, 'htmx:afterRequest', responseInfo);\r\n                            triggerEvent(secondaryTriggerElt, 'htmx:afterOnLoad', responseInfo);\r\n                        }\r\n                    }\r\n                    maybeCall(resolve);\r\n                    endRequestLock();\r\n                } catch (e) {\r\n                    triggerErrorEvent(elt, 'htmx:onLoadError', mergeObjects({error:e}, responseInfo));\r\n                    throw e;\r\n                }\r\n            }\r\n            xhr.onerror = function () {\r\n                removeRequestIndicatorClasses(indicators);\r\n                triggerErrorEvent(elt, 'htmx:afterRequest', responseInfo);\r\n                triggerErrorEvent(elt, 'htmx:sendError', responseInfo);\r\n                maybeCall(reject);\r\n                endRequestLock();\r\n            }\r\n            xhr.onabort = function() {\r\n                removeRequestIndicatorClasses(indicators);\r\n                triggerErrorEvent(elt, 'htmx:afterRequest', responseInfo);\r\n                triggerErrorEvent(elt, 'htmx:sendAbort', responseInfo);\r\n                maybeCall(reject);\r\n                endRequestLock();\r\n            }\r\n            xhr.ontimeout = function() {\r\n                removeRequestIndicatorClasses(indicators);\r\n                triggerErrorEvent(elt, 'htmx:afterRequest', responseInfo);\r\n                triggerErrorEvent(elt, 'htmx:timeout', responseInfo);\r\n                maybeCall(reject);\r\n                endRequestLock();\r\n            }\r\n            if(!triggerEvent(elt, 'htmx:beforeRequest', responseInfo)){\r\n                maybeCall(resolve);\r\n                endRequestLock()\r\n                return promise\r\n            }\r\n            var indicators = addRequestIndicatorClasses(elt);\r\n\r\n            forEach(['loadstart', 'loadend', 'progress', 'abort'], function(eventName) {\r\n                forEach([xhr, xhr.upload], function (target) {\r\n                    target.addEventListener(eventName, function(event){\r\n                        triggerEvent(elt, \"htmx:xhr:\" + eventName, {\r\n                            lengthComputable:event.lengthComputable,\r\n                            loaded:event.loaded,\r\n                            total:event.total\r\n                        });\r\n                    })\r\n                });\r\n            });\r\n            triggerEvent(elt, 'htmx:beforeSend', responseInfo);\r\n            xhr.send(verb === 'get' ? null : encodeParamsForBody(xhr, elt, filteredParameters));\r\n            return promise;\r\n        }\r\n\r\n        function determineHistoryUpdates(elt, responseInfo) {\r\n\r\n            var xhr = responseInfo.xhr;\r\n\r\n            //===========================================\r\n            // First consult response headers\r\n            //===========================================\r\n            var pathFromHeaders = null;\r\n            var typeFromHeaders = null;\r\n            if (hasHeader(xhr,/HX-Push:/i)) {\r\n                pathFromHeaders = xhr.getResponseHeader(\"HX-Push\");\r\n                typeFromHeaders = \"push\";\r\n            } else if (hasHeader(xhr,/HX-Push-Url:/i)) {\r\n                pathFromHeaders = xhr.getResponseHeader(\"HX-Push-Url\");\r\n                typeFromHeaders = \"push\";\r\n            } else if (hasHeader(xhr,/HX-Replace-Url:/i)) {\r\n                pathFromHeaders = xhr.getResponseHeader(\"HX-Replace-Url\");\r\n                typeFromHeaders = \"replace\";\r\n            }\r\n\r\n            // if there was a response header, that has priority\r\n            if (pathFromHeaders) {\r\n                if (pathFromHeaders === \"false\") {\r\n                    return {}\r\n                } else {\r\n                    return {\r\n                        type: typeFromHeaders,\r\n                        path : pathFromHeaders\r\n                    }\r\n                }\r\n            }\r\n\r\n            //===========================================\r\n            // Next resolve via DOM values\r\n            //===========================================\r\n            var requestPath =  responseInfo.pathInfo.finalRequestPath;\r\n            var responsePath =  responseInfo.pathInfo.responsePath;\r\n\r\n            var pushUrl = getClosestAttributeValue(elt, \"hx-push-url\");\r\n            var replaceUrl = getClosestAttributeValue(elt, \"hx-replace-url\");\r\n            var elementIsBoosted = getInternalData(elt).boosted;\r\n\r\n            var saveType = null;\r\n            var path = null;\r\n\r\n            if (pushUrl) {\r\n                saveType = \"push\";\r\n                path = pushUrl;\r\n            } else if (replaceUrl) {\r\n                saveType = \"replace\";\r\n                path = replaceUrl;\r\n            } else if (elementIsBoosted) {\r\n                saveType = \"push\";\r\n                path = responsePath || requestPath; // if there is no response path, go with the original request path\r\n            }\r\n\r\n            if (path) {\r\n                // false indicates no push, return empty object\r\n                if (path === \"false\") {\r\n                    return {};\r\n                }\r\n\r\n                // true indicates we want to follow wherever the server ended up sending us\r\n                if (path === \"true\") {\r\n                    path = responsePath || requestPath; // if there is no response path, go with the original request path\r\n                }\r\n\r\n                // restore any anchor associated with the request\r\n                if (responseInfo.pathInfo.anchor &&\r\n                    path.indexOf(\"#\") === -1) {\r\n                    path = path + \"#\" + responseInfo.pathInfo.anchor;\r\n                }\r\n\r\n                return {\r\n                    type:saveType,\r\n                    path: path\r\n                }\r\n            } else {\r\n                return {};\r\n            }\r\n        }\r\n\r\n        function handleAjaxResponse(elt, responseInfo) {\r\n            var xhr = responseInfo.xhr;\r\n            var target = responseInfo.target;\r\n            var etc = responseInfo.etc;\r\n\r\n            if (!triggerEvent(elt, 'htmx:beforeOnLoad', responseInfo)) return;\r\n\r\n            if (hasHeader(xhr, /HX-Trigger:/i)) {\r\n                handleTrigger(xhr, \"HX-Trigger\", elt);\r\n            }\r\n\r\n            if (hasHeader(xhr, /HX-Location:/i)) {\r\n                saveCurrentPageToHistory();\r\n                var redirectPath = xhr.getResponseHeader(\"HX-Location\");\r\n                var swapSpec;\r\n                if (redirectPath.indexOf(\"{\") === 0) {\r\n                    swapSpec = parseJSON(redirectPath);\r\n                    // what's the best way to throw an error if the user didn't include this\r\n                    redirectPath = swapSpec['path'];\r\n                    delete swapSpec['path'];\r\n                }\r\n                ajaxHelper('GET', redirectPath, swapSpec).then(function(){\r\n                    pushUrlIntoHistory(redirectPath);\r\n                });\r\n                return;\r\n            }\r\n\r\n            if (hasHeader(xhr, /HX-Redirect:/i)) {\r\n                location.href = xhr.getResponseHeader(\"HX-Redirect\");\r\n                return;\r\n            }\r\n\r\n            if (hasHeader(xhr,/HX-Refresh:/i)) {\r\n                if (\"true\" === xhr.getResponseHeader(\"HX-Refresh\")) {\r\n                    location.reload();\r\n                    return;\r\n                }\r\n            }\r\n\r\n            if (hasHeader(xhr,/HX-Retarget:/i)) {\r\n                responseInfo.target = getDocument().querySelector(xhr.getResponseHeader(\"HX-Retarget\"));\r\n            }\r\n\r\n            var historyUpdate = determineHistoryUpdates(elt, responseInfo);\r\n\r\n            // by default htmx only swaps on 200 return codes and does not swap\r\n            // on 204 'No Content'\r\n            // this can be ovverriden by responding to the htmx:beforeSwap event and\r\n            // overriding the detail.shouldSwap property\r\n            var shouldSwap = xhr.status >= 200 && xhr.status < 400 && xhr.status !== 204;\r\n            var serverResponse = xhr.response;\r\n            var isError = xhr.status >= 400;\r\n            var beforeSwapDetails = mergeObjects({shouldSwap: shouldSwap, serverResponse:serverResponse, isError:isError}, responseInfo);\r\n            if (!triggerEvent(target, 'htmx:beforeSwap', beforeSwapDetails)) return;\r\n\r\n            target = beforeSwapDetails.target; // allow re-targeting\r\n            serverResponse = beforeSwapDetails.serverResponse; // allow updating content\r\n            isError = beforeSwapDetails.isError; // allow updating error\r\n\r\n            responseInfo.target = target; // Make updated target available to response events\r\n            responseInfo.failed = isError; // Make failed property available to response events\r\n            responseInfo.successful = !isError; // Make successful property available to response events\r\n\r\n            if (beforeSwapDetails.shouldSwap) {\r\n                if (xhr.status === 286) {\r\n                    cancelPolling(elt);\r\n                }\r\n\r\n                withExtensions(elt, function (extension) {\r\n                    serverResponse = extension.transformResponse(serverResponse, xhr, elt);\r\n                });\r\n\r\n                // Save current page if there will be a history update\r\n                if (historyUpdate.type) {\r\n                    saveCurrentPageToHistory();\r\n                }\r\n\r\n                var swapOverride = etc.swapOverride;\r\n                if (hasHeader(xhr,/HX-Reswap:/i)) {\r\n                    swapOverride = xhr.getResponseHeader(\"HX-Reswap\");\r\n                }\r\n                var swapSpec = getSwapSpecification(elt, swapOverride);\r\n\r\n                target.classList.add(htmx.config.swappingClass);\r\n                var doSwap = function () {\r\n                    try {\r\n\r\n                        var activeElt = document.activeElement;\r\n                        var selectionInfo = {};\r\n                        try {\r\n                            selectionInfo = {\r\n                                elt: activeElt,\r\n                                // @ts-ignore\r\n                                start: activeElt ? activeElt.selectionStart : null,\r\n                                // @ts-ignore\r\n                                end: activeElt ? activeElt.selectionEnd : null\r\n                            };\r\n                        } catch (e) {\r\n                            // safari issue - see https://github.com/microsoft/playwright/issues/5894\r\n                        }\r\n\r\n                        var settleInfo = makeSettleInfo(target);\r\n                        selectAndSwap(swapSpec.swapStyle, target, elt, serverResponse, settleInfo);\r\n\r\n                        if (selectionInfo.elt &&\r\n                            !bodyContains(selectionInfo.elt) &&\r\n                            selectionInfo.elt.id) {\r\n                            var newActiveElt = document.getElementById(selectionInfo.elt.id);\r\n                            var focusOptions = { preventScroll: swapSpec.focusScroll !== undefined ? !swapSpec.focusScroll : !htmx.config.defaultFocusScroll };\r\n                            if (newActiveElt) {\r\n                                // @ts-ignore\r\n                                if (selectionInfo.start && newActiveElt.setSelectionRange) {\r\n                                    // @ts-ignore\r\n                                    try {\r\n                                        newActiveElt.setSelectionRange(selectionInfo.start, selectionInfo.end);\r\n                                    } catch (e) {\r\n                                        // the setSelectionRange method is present on fields that don't support it, so just let this fail\r\n                                    }\r\n                                }\r\n                                newActiveElt.focus(focusOptions);\r\n                            }\r\n                        }\r\n\r\n                        target.classList.remove(htmx.config.swappingClass);\r\n                        forEach(settleInfo.elts, function (elt) {\r\n                            if (elt.classList) {\r\n                                elt.classList.add(htmx.config.settlingClass);\r\n                            }\r\n                            triggerEvent(elt, 'htmx:afterSwap', responseInfo);\r\n                        });\r\n\r\n                        if (hasHeader(xhr, /HX-Trigger-After-Swap:/i)) {\r\n                            var finalElt = elt;\r\n                            if (!bodyContains(elt)) {\r\n                                finalElt = getDocument().body;\r\n                            }\r\n                            handleTrigger(xhr, \"HX-Trigger-After-Swap\", finalElt);\r\n                        }\r\n\r\n                        var doSettle = function () {\r\n                            forEach(settleInfo.tasks, function (task) {\r\n                                task.call();\r\n                            });\r\n                            forEach(settleInfo.elts, function (elt) {\r\n                                if (elt.classList) {\r\n                                    elt.classList.remove(htmx.config.settlingClass);\r\n                                }\r\n                                triggerEvent(elt, 'htmx:afterSettle', responseInfo);\r\n                            });\r\n\r\n                            // if we need to save history, do so\r\n                            if (historyUpdate.type) {\r\n                                if (historyUpdate.type === \"push\") {\r\n                                    pushUrlIntoHistory(historyUpdate.path);\r\n                                    triggerEvent(getDocument().body, 'htmx:pushedIntoHistory', {path: historyUpdate.path});\r\n                                } else {\r\n                                    replaceUrlInHistory(historyUpdate.path);\r\n                                    triggerEvent(getDocument().body, 'htmx:replacedInHistory', {path: historyUpdate.path});\r\n                                }\r\n                            }\r\n                            if (responseInfo.pathInfo.anchor) {\r\n                                var anchorTarget = find(\"#\" + responseInfo.pathInfo.anchor);\r\n                                if(anchorTarget) {\r\n                                    anchorTarget.scrollIntoView({block:'start', behavior: \"auto\"});\r\n                                }\r\n                            }\r\n\r\n                            if(settleInfo.title) {\r\n                                var titleElt = find(\"title\");\r\n                                if(titleElt) {\r\n                                    titleElt.innerHTML = settleInfo.title;\r\n                                } else {\r\n                                    window.document.title = settleInfo.title;\r\n                                }\r\n                            }\r\n\r\n                            updateScrollState(settleInfo.elts, swapSpec);\r\n\r\n                            if (hasHeader(xhr, /HX-Trigger-After-Settle:/i)) {\r\n                                var finalElt = elt;\r\n                                if (!bodyContains(elt)) {\r\n                                    finalElt = getDocument().body;\r\n                                }\r\n                                handleTrigger(xhr, \"HX-Trigger-After-Settle\", finalElt);\r\n                            }\r\n                        }\r\n\r\n                        if (swapSpec.settleDelay > 0) {\r\n                            setTimeout(doSettle, swapSpec.settleDelay)\r\n                        } else {\r\n                            doSettle();\r\n                        }\r\n                    } catch (e) {\r\n                        triggerErrorEvent(elt, 'htmx:swapError', responseInfo);\r\n                        throw e;\r\n                    }\r\n                };\r\n\r\n                if (swapSpec.swapDelay > 0) {\r\n                    setTimeout(doSwap, swapSpec.swapDelay)\r\n                } else {\r\n                    doSwap();\r\n                }\r\n            }\r\n            if (isError) {\r\n                triggerErrorEvent(elt, 'htmx:responseError', mergeObjects({error: \"Response Status Error Code \" + xhr.status + \" from \" + responseInfo.pathInfo.requestPath}, responseInfo));\r\n            }\r\n        }\r\n\r\n        //====================================================================\r\n        // Extensions API\r\n        //====================================================================\r\n\r\n        /** @type {Object<string, import(\"./htmx\").HtmxExtension>} */\r\n        var extensions = {};\r\n\r\n        /**\r\n         * extensionBase defines the default functions for all extensions.\r\n         * @returns {import(\"./htmx\").HtmxExtension}\r\n         */\r\n        function extensionBase() {\r\n            return {\r\n                init: function(api) {return null;},\r\n                onEvent : function(name, evt) {return true;},\r\n                transformResponse : function(text, xhr, elt) {return text;},\r\n                isInlineSwap : function(swapStyle) {return false;},\r\n                handleSwap : function(swapStyle, target, fragment, settleInfo) {return false;},\r\n                encodeParameters : function(xhr, parameters, elt) {return null;}\r\n            }\r\n        }\r\n\r\n        /**\r\n         * defineExtension initializes the extension and adds it to the htmx registry\r\n         *\r\n         * @param {string} name\r\n         * @param {import(\"./htmx\").HtmxExtension} extension\r\n         */\r\n        function defineExtension(name, extension) {\r\n            if(extension.init) {\r\n                extension.init(internalAPI)\r\n            }\r\n            extensions[name] = mergeObjects(extensionBase(), extension);\r\n        }\r\n\r\n        /**\r\n         * removeExtension removes an extension from the htmx registry\r\n         *\r\n         * @param {string} name\r\n         */\r\n        function removeExtension(name) {\r\n            delete extensions[name];\r\n        }\r\n\r\n        /**\r\n         * getExtensions searches up the DOM tree to return all extensions that can be applied to a given element\r\n         *\r\n         * @param {HTMLElement} elt\r\n         * @param {import(\"./htmx\").HtmxExtension[]=} extensionsToReturn\r\n         * @param {import(\"./htmx\").HtmxExtension[]=} extensionsToIgnore\r\n         */\r\n         function getExtensions(elt, extensionsToReturn, extensionsToIgnore) {\r\n\r\n            if (elt == undefined) {\r\n                return extensionsToReturn;\r\n            }\r\n            if (extensionsToReturn == undefined) {\r\n                extensionsToReturn = [];\r\n            }\r\n            if (extensionsToIgnore == undefined) {\r\n                extensionsToIgnore = [];\r\n            }\r\n            var extensionsForElement = getAttributeValue(elt, \"hx-ext\");\r\n            if (extensionsForElement) {\r\n                forEach(extensionsForElement.split(\",\"), function(extensionName){\r\n                    extensionName = extensionName.replace(/ /g, '');\r\n                    if (extensionName.slice(0, 7) == \"ignore:\") {\r\n                        extensionsToIgnore.push(extensionName.slice(7));\r\n                        return;\r\n                    }\r\n                    if (extensionsToIgnore.indexOf(extensionName) < 0) {\r\n                        var extension = extensions[extensionName];\r\n                        if (extension && extensionsToReturn.indexOf(extension) < 0) {\r\n                            extensionsToReturn.push(extension);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            return getExtensions(parentElt(elt), extensionsToReturn, extensionsToIgnore);\r\n        }\r\n\r\n        //====================================================================\r\n        // Initialization\r\n        //====================================================================\r\n\r\n        function ready(fn) {\r\n            if (getDocument().readyState !== 'loading') {\r\n                fn();\r\n            } else {\r\n                getDocument().addEventListener('DOMContentLoaded', fn);\r\n            }\r\n        }\r\n\r\n        function insertIndicatorStyles() {\r\n            if (htmx.config.includeIndicatorStyles !== false) {\r\n                getDocument().head.insertAdjacentHTML(\"beforeend\",\r\n                    \"<style>\\\r\n                      .\" + htmx.config.indicatorClass + \"{opacity:0;transition: opacity 200ms ease-in;}\\\r\n                      .\" + htmx.config.requestClass + \" .\" + htmx.config.indicatorClass + \"{opacity:1}\\\r\n                      .\" + htmx.config.requestClass + \".\" + htmx.config.indicatorClass + \"{opacity:1}\\\r\n                    </style>\");\r\n            }\r\n        }\r\n\r\n        function getMetaConfig() {\r\n            var element = getDocument().querySelector('meta[name=\"htmx-config\"]');\r\n            if (element) {\r\n                // @ts-ignore\r\n                return parseJSON(element.content);\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n\r\n        function mergeMetaConfig() {\r\n            var metaConfig = getMetaConfig();\r\n            if (metaConfig) {\r\n                htmx.config = mergeObjects(htmx.config , metaConfig)\r\n            }\r\n        }\r\n\r\n        // initialize the document\r\n        ready(function () {\r\n            mergeMetaConfig();\r\n            insertIndicatorStyles();\r\n            var body = getDocument().body;\r\n            processNode(body);\r\n            var restoredElts = getDocument().querySelectorAll(\r\n                \"[hx-trigger='restored'],[data-hx-trigger='restored']\"\r\n            );\r\n            body.addEventListener(\"htmx:abort\", function (evt) {\r\n                var target = evt.target;\r\n                var internalData = getInternalData(target);\r\n                if (internalData && internalData.xhr) {\r\n                    internalData.xhr.abort();\r\n                }\r\n            });\r\n            window.onpopstate = function (event) {\r\n                if (event.state && event.state.htmx) {\r\n                    restoreHistory();\r\n                    forEach(restoredElts, function(elt){\r\n                        triggerEvent(elt, 'htmx:restored', {\r\n                            'document': getDocument(),\r\n                            'triggerEvent': triggerEvent\r\n                        });\r\n                    });\r\n                }\r\n            };\r\n            setTimeout(function () {\r\n                triggerEvent(body, 'htmx:load', {}); // give ready handlers a chance to load up before firing this event\r\n            }, 0);\r\n        })\r\n\r\n        return htmx;\r\n    }\r\n)()\r\n}));\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","\r\nlet flushPending = false\r\nlet flushing = false\r\nlet queue = []\r\nlet lastFlushedIndex = -1\r\n\r\nexport function scheduler (callback) { queueJob(callback) }\r\n\r\nfunction queueJob(job) {\r\n    if (! queue.includes(job)) queue.push(job)\r\n\r\n    queueFlush()\r\n}\r\nexport function dequeueJob(job) {\r\n    let index = queue.indexOf(job)\r\n\r\n    if (index !== -1 && index > lastFlushedIndex) queue.splice(index, 1)\r\n}\r\n\r\nfunction queueFlush() {\r\n    if (! flushing && ! flushPending) {\r\n        flushPending = true\r\n\r\n        queueMicrotask(flushJobs)\r\n    }\r\n}\r\n\r\nexport function flushJobs() {\r\n    flushPending = false\r\n    flushing = true\r\n\r\n    for (let i = 0; i < queue.length; i++) {\r\n        queue[i]()\r\n        lastFlushedIndex = i\r\n    }\r\n\r\n    queue.length = 0\r\n    lastFlushedIndex = -1\r\n\r\n    flushing = false\r\n}\r\n","\r\nimport { scheduler } from './scheduler'\r\n\r\nlet reactive, effect, release, raw\r\n\r\nlet shouldSchedule = true\r\nexport function disableEffectScheduling(callback) {\r\n    shouldSchedule = false\r\n\r\n    callback()\r\n\r\n    shouldSchedule = true\r\n}\r\n\r\nexport function setReactivityEngine(engine) {\r\n    reactive = engine.reactive\r\n    release = engine.release\r\n    effect = (callback) => engine.effect(callback, { scheduler: task => {\r\n        if (shouldSchedule) {\r\n            scheduler(task)\r\n        } else {\r\n            task()\r\n        }\r\n    } })\r\n    raw = engine.raw\r\n}\r\n\r\nexport function overrideEffect(override) { effect = override }\r\n\r\nexport function elementBoundEffect(el) {\r\n    let cleanup = () => {}\r\n\r\n    let wrappedEffect = (callback) => {\r\n        let effectReference = effect(callback)\r\n\r\n        if (! el._x_effects) {\r\n            el._x_effects = new Set\r\n\r\n            // Livewire depends on el._x_runEffects.\r\n            el._x_runEffects = () => { el._x_effects.forEach(i => i()) }\r\n        }\r\n\r\n        el._x_effects.add(effectReference)\r\n\r\n        cleanup = () => {\r\n            if (effectReference === undefined) return\r\n\r\n            el._x_effects.delete(effectReference)\r\n\r\n            release(effectReference)\r\n        }\r\n\r\n        return effectReference\r\n    }\r\n\r\n    return [wrappedEffect, () => { cleanup() }]\r\n}\r\n\r\nexport {\r\n    release,\r\n    reactive,\r\n    effect,\r\n    raw,\r\n}\r\n","let onAttributeAddeds = []\r\nlet onElRemoveds = []\r\nlet onElAddeds = []\r\n\r\nexport function onElAdded(callback) {\r\n    onElAddeds.push(callback)\r\n}\r\n\r\nexport function onElRemoved(el, callback) {\r\n    if (typeof callback === 'function') {\r\n        if (! el._x_cleanups) el._x_cleanups = []\r\n        el._x_cleanups.push(callback)\r\n    } else {\r\n        callback = el\r\n        onElRemoveds.push(callback)\r\n    }\r\n}\r\n\r\nexport function onAttributesAdded(callback) {\r\n    onAttributeAddeds.push(callback)\r\n}\r\n\r\nexport function onAttributeRemoved(el, name, callback) {\r\n    if (! el._x_attributeCleanups) el._x_attributeCleanups = {}\r\n    if (! el._x_attributeCleanups[name]) el._x_attributeCleanups[name] = []\r\n\r\n    el._x_attributeCleanups[name].push(callback)\r\n}\r\n\r\nexport function cleanupAttributes(el, names) {\r\n    if (! el._x_attributeCleanups) return\r\n\r\n    Object.entries(el._x_attributeCleanups).forEach(([name, value]) => {\r\n        if (names === undefined || names.includes(name)) {\r\n            value.forEach(i => i())\r\n\r\n            delete el._x_attributeCleanups[name]\r\n        }\r\n    })\r\n}\r\n\r\nlet observer = new MutationObserver(onMutate)\r\n\r\nlet currentlyObserving = false\r\n\r\nexport function startObservingMutations() {\r\n    observer.observe(document, { subtree: true, childList: true, attributes: true, attributeOldValue: true })\r\n\r\n    currentlyObserving = true\r\n}\r\n\r\nexport function stopObservingMutations() {\r\n    flushObserver()\r\n\r\n    observer.disconnect()\r\n\r\n    currentlyObserving = false\r\n}\r\n\r\nlet recordQueue = []\r\nlet willProcessRecordQueue = false\r\n\r\nexport function flushObserver() {\r\n    recordQueue = recordQueue.concat(observer.takeRecords())\r\n\r\n    if (recordQueue.length && ! willProcessRecordQueue) {\r\n        willProcessRecordQueue = true\r\n\r\n        queueMicrotask(() => {\r\n            processRecordQueue()\r\n\r\n            willProcessRecordQueue = false\r\n        })\r\n    }\r\n}\r\n\r\nfunction processRecordQueue() {\r\n     onMutate(recordQueue)\r\n\r\n     recordQueue.length = 0\r\n}\r\n\r\nexport function mutateDom(callback) {\r\n    if (! currentlyObserving) return callback()\r\n\r\n    stopObservingMutations()\r\n\r\n    let result = callback()\r\n\r\n    startObservingMutations()\r\n\r\n    return result\r\n}\r\n\r\nlet isCollecting = false\r\nlet deferredMutations = []\r\n\r\nexport function deferMutations() {\r\n    isCollecting = true\r\n}\r\n\r\nexport function flushAndStopDeferringMutations() {\r\n    isCollecting = false\r\n\r\n    onMutate(deferredMutations)\r\n\r\n    deferredMutations = []\r\n}\r\n\r\nfunction onMutate(mutations) {\r\n    if (isCollecting) {\r\n        deferredMutations = deferredMutations.concat(mutations)\r\n\r\n        return\r\n    }\r\n\r\n    let addedNodes = []\r\n    let removedNodes = []\r\n    let addedAttributes = new Map\r\n    let removedAttributes = new Map\r\n\r\n    for (let i = 0; i < mutations.length; i++) {\r\n        if (mutations[i].target._x_ignoreMutationObserver) continue\r\n\r\n        if (mutations[i].type === 'childList') {\r\n            mutations[i].addedNodes.forEach(node => node.nodeType === 1 && addedNodes.push(node))\r\n            mutations[i].removedNodes.forEach(node => node.nodeType === 1 && removedNodes.push(node))\r\n        }\r\n\r\n        if (mutations[i].type === 'attributes') {\r\n            let el = mutations[i].target\r\n            let name = mutations[i].attributeName\r\n            let oldValue = mutations[i].oldValue\r\n\r\n            let add = () => {\r\n                if (! addedAttributes.has(el)) addedAttributes.set(el, [])\r\n\r\n                addedAttributes.get(el).push({ name,  value: el.getAttribute(name) })\r\n            }\r\n\r\n            let remove = () => {\r\n                if (! removedAttributes.has(el)) removedAttributes.set(el, [])\r\n\r\n                removedAttributes.get(el).push(name)\r\n            }\r\n\r\n            // New attribute.\r\n            if (el.hasAttribute(name) && oldValue === null) {\r\n                add()\r\n            // Changed atttribute.\r\n            } else if (el.hasAttribute(name)) {\r\n                remove()\r\n                add()\r\n            // Removed atttribute.\r\n            } else {\r\n                remove()\r\n            }\r\n        }\r\n    }\r\n\r\n    removedAttributes.forEach((attrs, el) => {\r\n        cleanupAttributes(el, attrs)\r\n    })\r\n\r\n    addedAttributes.forEach((attrs, el) => {\r\n        onAttributeAddeds.forEach(i => i(el, attrs))\r\n    })\r\n\r\n    for (let node of removedNodes) {\r\n        // If an element gets moved on a page, it's registered\r\n        // as both an \"add\" and \"remove\", so we want to skip those.\r\n        if (addedNodes.includes(node)) continue\r\n\r\n        onElRemoveds.forEach(i => i(node))\r\n\r\n        if (node._x_cleanups) {\r\n            while (node._x_cleanups.length) node._x_cleanups.pop()()\r\n        }\r\n    }\r\n\r\n    // Mutations are bundled together by the browser but sometimes\r\n    // for complex cases, there may be javascript code adding a wrapper\r\n    // and then an alpine component as a child of that wrapper in the same\r\n    // function and the mutation observer will receive 2 different mutations.\r\n    // when it comes time to run them, the dom contains both changes so the child\r\n    // element would be processed twice as Alpine calls initTree on\r\n    // both mutations. We mark all nodes as _x_ignored and only remove the flag\r\n    // when processing the node to avoid those duplicates.\r\n    addedNodes.forEach((node) => {\r\n        node._x_ignoreSelf = true\r\n        node._x_ignore = true\r\n    })\r\n    for (let node of addedNodes) {\r\n        // If an element gets moved on a page, it's registered\r\n        // as both an \"add\" and \"remove\", so we want to skip those.\r\n        if (removedNodes.includes(node)) continue\r\n\r\n        // If the node was eventually removed as part of one of his\r\n        // parent mutations, skip it\r\n        if (! node.isConnected) continue\r\n\r\n        delete node._x_ignoreSelf\r\n        delete node._x_ignore\r\n        onElAddeds.forEach(i => i(node))\r\n        node._x_ignore = true\r\n        node._x_ignoreSelf = true\r\n    }\r\n    addedNodes.forEach((node) => {\r\n        delete node._x_ignoreSelf\r\n        delete node._x_ignore\r\n    })\r\n\r\n    addedNodes = null\r\n    removedNodes = null\r\n    addedAttributes = null\r\n    removedAttributes = null\r\n}\r\n","\r\nexport function scope(node) {\r\n    return mergeProxies(closestDataStack(node))\r\n}\r\n\r\nexport function addScopeToNode(node, data, referenceNode) {\r\n    node._x_dataStack = [data, ...closestDataStack(referenceNode || node)]\r\n\r\n    return () => {\r\n        node._x_dataStack = node._x_dataStack.filter(i => i !== data)\r\n    }\r\n}\r\n\r\nexport function hasScope(node) {\r\n    return !! node._x_dataStack\r\n}\r\n\r\nexport function refreshScope(element, scope) {\r\n    let existingScope = element._x_dataStack[0]\r\n\r\n    Object.entries(scope).forEach(([key, value]) => {\r\n        existingScope[key] = value\r\n    })\r\n}\r\n\r\nexport function closestDataStack(node) {\r\n    if (node._x_dataStack) return node._x_dataStack\r\n\r\n    if (typeof ShadowRoot === 'function' && node instanceof ShadowRoot) {\r\n        return closestDataStack(node.host)\r\n    }\r\n\r\n    if (! node.parentNode) {\r\n        return []\r\n    }\r\n\r\n    return closestDataStack(node.parentNode)\r\n}\r\n\r\nexport function closestDataProxy(el) {\r\n    return mergeProxies(closestDataStack(el))\r\n}\r\n\r\nexport function mergeProxies(objects) {\r\n    let thisProxy = new Proxy({}, {\r\n        ownKeys: () => {\r\n            return Array.from(new Set(objects.flatMap(i => Object.keys(i))))\r\n        },\r\n\r\n        has: (target, name) => {\r\n            return objects.some(obj => obj.hasOwnProperty(name))\r\n        },\r\n\r\n        get: (target, name) => {\r\n            return (objects.find(obj => {\r\n                if (obj.hasOwnProperty(name)) {\r\n                    let descriptor = Object.getOwnPropertyDescriptor(obj, name)\r\n\r\n                    // If we already bound this getter, don't rebind.\r\n                    if ((descriptor.get && descriptor.get._x_alreadyBound) || (descriptor.set && descriptor.set._x_alreadyBound)) {\r\n                        return true\r\n                    }\r\n                    \r\n                    // Properly bind getters and setters to this wrapper Proxy.\r\n                    if ((descriptor.get || descriptor.set) && descriptor.enumerable) {\r\n                        // Only bind user-defined getters, not our magic properties.\r\n                        let getter = descriptor.get\r\n                        let setter = descriptor.set\r\n                        let property = descriptor\r\n\r\n                        getter = getter && getter.bind(thisProxy)\r\n                        setter = setter && setter.bind(thisProxy)\r\n\r\n                        if (getter) getter._x_alreadyBound = true\r\n                        if (setter) setter._x_alreadyBound = true\r\n\r\n                        Object.defineProperty(obj, name, {\r\n                            ...property,\r\n                            get: getter,\r\n                            set: setter,\r\n                        })\r\n                    }\r\n\r\n                    return true \r\n                }\r\n\r\n                return false\r\n            }) || {})[name]\r\n        },\r\n\r\n        set: (target, name, value) => {\r\n            let closestObjectWithKey = objects.find(obj => obj.hasOwnProperty(name))\r\n\r\n            if (closestObjectWithKey) {\r\n                closestObjectWithKey[name] = value\r\n            } else {\r\n                objects[objects.length - 1][name] = value\r\n            }\r\n\r\n            return true\r\n        },\r\n    })\r\n\r\n    return thisProxy\r\n}\r\n","// Warning: The concept of \"interceptors\" in Alpine is not public API and is subject to change\r\n// without tagging a major release.\r\n\r\nexport function initInterceptors(data) {\r\n    let isObject = val => typeof val === 'object' && !Array.isArray(val) && val !== null\r\n\r\n    let recurse = (obj, basePath = '') => {\r\n        Object.entries(Object.getOwnPropertyDescriptors(obj)).forEach(([key, { value, enumerable }]) => {\r\n            // Skip getters.\r\n            if (enumerable === false || value === undefined) return\r\n\r\n            let path = basePath === '' ? key : `${basePath}.${key}`\r\n\r\n            if (typeof value === 'object' && value !== null && value._x_interceptor) {\r\n                obj[key] = value.initialize(data, path, key)\r\n            } else {\r\n                if (isObject(value) && value !== obj && ! (value instanceof Element)) {\r\n                    recurse(value, path)\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    return recurse(data)\r\n}\r\n\r\nexport function interceptor(callback, mutateObj = () => {}) {\r\n    let obj = {\r\n        initialValue: undefined,\r\n\r\n        _x_interceptor: true,\r\n\r\n        initialize(data, path, key) {\r\n            return callback(this.initialValue, () => get(data, path), (value) => set(data, path, value), path, key)\r\n        }\r\n    }\r\n\r\n    mutateObj(obj)\r\n\r\n    return initialValue => {\r\n        if (typeof initialValue === 'object' && initialValue !== null && initialValue._x_interceptor) {\r\n            // Support nesting interceptors.\r\n            let initialize = obj.initialize.bind(obj)\r\n\r\n            obj.initialize = (data, path, key) => {\r\n                let innerValue = initialValue.initialize(data, path, key)\r\n\r\n                obj.initialValue = innerValue\r\n\r\n                return initialize(data, path, key)\r\n            }\r\n        } else {\r\n            obj.initialValue = initialValue\r\n        }\r\n\r\n        return obj\r\n    }\r\n}\r\n\r\nfunction get(obj, path) {\r\n    return path.split('.').reduce((carry, segment) => carry[segment], obj)\r\n}\r\n\r\nfunction set(obj, path, value) {\r\n    if (typeof path === 'string') path = path.split('.')\r\n\r\n    if (path.length === 1) obj[path[0]] = value;\r\n       else if (path.length === 0) throw error;\r\n    else {\r\n       if (obj[path[0]])\r\n          return set(obj[path[0]], path.slice(1), value);\r\n       else {\r\n          obj[path[0]] = {};\r\n          return set(obj[path[0]], path.slice(1), value);\r\n       }\r\n    }\r\n}\r\n","import Alpine from './alpine'\r\nimport { getElementBoundUtilities } from './directives'\r\nimport { interceptor } from './interceptor'\r\nimport { onElRemoved } from './mutation'\r\n\r\nlet magics = {}\r\n\r\nexport function magic(name, callback) {\r\n    magics[name] = callback\r\n}\r\n\r\nexport function injectMagics(obj, el) {\r\n    Object.entries(magics).forEach(([name, callback]) => {\r\n        Object.defineProperty(obj, `$${name}`, {\r\n            get() {\r\n                let [utilities, cleanup] = getElementBoundUtilities(el)\r\n                \r\n                utilities = {interceptor, ...utilities}\r\n                \r\n                onElRemoved(el, cleanup)\r\n\r\n                return callback(el, utilities)\r\n            },\r\n\r\n            enumerable: false,\r\n        })\r\n    })\r\n\r\n    return obj\r\n}\r\n","export function tryCatch(el, expression, callback, ...args) {\r\n    try {\r\n        return callback(...args)\r\n    } catch (e) {\r\n        handleError( e, el, expression )\r\n    }\r\n}\r\n\r\nexport function handleError(error, el, expression = undefined) {\r\n    Object.assign( error, { el, expression } )\r\n\r\n    console.warn(`Alpine Expression Error: ${error.message}\\n\\n${ expression ? 'Expression: \\\"' + expression + '\\\"\\n\\n' : '' }`, el)\r\n\r\n    setTimeout( () => { throw error }, 0 )\r\n}\r\n","import { closestDataStack, mergeProxies } from './scope'\r\nimport { injectMagics } from './magics'\r\nimport { tryCatch, handleError } from './utils/error'\r\n\r\nlet shouldAutoEvaluateFunctions = true\r\n\r\nexport function dontAutoEvaluateFunctions(callback) {\r\n    let cache = shouldAutoEvaluateFunctions\r\n\r\n    shouldAutoEvaluateFunctions = false\r\n\r\n    callback()\r\n\r\n    shouldAutoEvaluateFunctions = cache\r\n}\r\n\r\nexport function evaluate(el, expression, extras = {}) {\r\n    let result\r\n\r\n    evaluateLater(el, expression)(value => result = value, extras)\r\n\r\n    return result\r\n}\r\n\r\nexport function evaluateLater(...args) {\r\n    return theEvaluatorFunction(...args)\r\n}\r\n\r\nlet theEvaluatorFunction = normalEvaluator\r\n\r\nexport function setEvaluator(newEvaluator) {\r\n    theEvaluatorFunction = newEvaluator\r\n}\r\n\r\nexport function normalEvaluator(el, expression) {\r\n    let overriddenMagics = {}\r\n\r\n    injectMagics(overriddenMagics, el)\r\n\r\n    let dataStack = [overriddenMagics, ...closestDataStack(el)]\r\n\r\n    let evaluator = (typeof expression === 'function')\r\n        ? generateEvaluatorFromFunction(dataStack, expression)\r\n        : generateEvaluatorFromString(dataStack, expression, el)\r\n\r\n    return tryCatch.bind(null, el, expression, evaluator)\r\n}\r\n\r\nexport function generateEvaluatorFromFunction(dataStack, func) {\r\n    return (receiver = () => {}, { scope = {}, params = [] } = {}) => {\r\n        let result = func.apply(mergeProxies([scope, ...dataStack]), params)\r\n\r\n        runIfTypeOfFunction(receiver, result)\r\n    }\r\n}\r\n\r\nlet evaluatorMemo = {}\r\n\r\nfunction generateFunctionFromString(expression, el) {\r\n    if (evaluatorMemo[expression]) {\r\n        return evaluatorMemo[expression]\r\n    }\r\n\r\n    let AsyncFunction = Object.getPrototypeOf(async function(){}).constructor\r\n\r\n    // Some expressions that are useful in Alpine are not valid as the right side of an expression.\r\n    // Here we'll detect if the expression isn't valid for an assignement and wrap it in a self-\r\n    // calling function so that we don't throw an error AND a \"return\" statement can b e used.\r\n    let rightSideSafeExpression = 0\r\n        // Support expressions starting with \"if\" statements like: \"if (...) doSomething()\"\r\n        || /^[\\n\\s]*if.*\\(.*\\)/.test(expression)\r\n        // Support expressions starting with \"let/const\" like: \"let foo = 'bar'\"\r\n        || /^(let|const)\\s/.test(expression)\r\n            ? `(async()=>{ ${expression} })()`\r\n            : expression\r\n\r\n    const safeAsyncFunction = () => {\r\n        try {\r\n            return new AsyncFunction(['__self', 'scope'], `with (scope) { __self.result = ${rightSideSafeExpression} }; __self.finished = true; return __self.result;`)\r\n        } catch ( error ) {\r\n            handleError( error, el, expression )\r\n            return Promise.resolve()\r\n        }\r\n    }\r\n    let func = safeAsyncFunction()\r\n\r\n    evaluatorMemo[expression] = func\r\n\r\n    return func\r\n}\r\n\r\nfunction generateEvaluatorFromString(dataStack, expression, el) {\r\n    let func = generateFunctionFromString(expression, el)\r\n\r\n    return (receiver = () => {}, { scope = {}, params = [] } = {}) => {\r\n        func.result = undefined\r\n        func.finished = false\r\n\r\n        // Run the function.\r\n\r\n        let completeScope = mergeProxies([ scope, ...dataStack ])\r\n\r\n        if (typeof func === 'function' ) {\r\n            let promise = func(func, completeScope).catch((error) => handleError(error, el, expression))\r\n\r\n            // Check if the function ran synchronously,\r\n            if (func.finished) {\r\n                // Return the immediate result.\r\n                runIfTypeOfFunction(receiver, func.result, completeScope, params, el)\r\n                // Once the function has run, we clear func.result so we don't create\r\n                // memory leaks. func is stored in the evaluatorMemo and every time\r\n                // it runs, it assigns the evaluated expression to result which could\r\n                // potentially store a reference to the DOM element that will be removed later on.\r\n                func.result = undefined\r\n            } else {\r\n                // If not, return the result when the promise resolves.\r\n                promise.then(result => {\r\n                    runIfTypeOfFunction(receiver, result, completeScope, params, el)\r\n                }).catch( error => handleError( error, el, expression ) )\r\n                .finally( () => func.result = undefined )\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport function runIfTypeOfFunction(receiver, value, scope, params, el) {\r\n    if (shouldAutoEvaluateFunctions && typeof value === 'function') {\r\n        let result = value.apply(scope, params)\r\n\r\n        if (result instanceof Promise) {\r\n            result.then(i => runIfTypeOfFunction(receiver, i, scope, params)).catch( error => handleError( error, el, value ) )\r\n        } else {\r\n            receiver(result)\r\n        }\r\n    } else if (typeof value === 'object' && value instanceof Promise) {\r\n        value.then(i => receiver(i))\r\n    } else {\r\n        receiver(value)\r\n    }\r\n}\r\n","import { onAttributeRemoved, onElRemoved } from './mutation'\r\nimport { evaluate, evaluateLater } from './evaluator'\r\nimport { elementBoundEffect } from './reactivity'\r\nimport Alpine from './alpine'\r\n\r\nlet prefixAsString = 'x-'\r\n\r\nexport function prefix(subject = '') {\r\n    return prefixAsString + subject\r\n}\r\n\r\nexport function setPrefix(newPrefix) {\r\n    prefixAsString = newPrefix\r\n}\r\n\r\nlet directiveHandlers = {}\r\n\r\nexport function directive(name, callback) {\r\n    directiveHandlers[name] = callback\r\n\r\n    return {\r\n        before(directive) {\r\n            if (!directiveHandlers[directive]) {\r\n                console.warn(\r\n                    \"Cannot find directive `${directive}`. \"\r\n                    + \"`${name}` will use the default order of execution\"\r\n                );\r\n                return;\r\n            }\r\n            const pos = directiveOrder.indexOf(directive);\r\n            directiveOrder.splice(pos >= 0 ? pos : directiveOrder.indexOf('DEFAULT'), 0, name);\r\n        }\r\n    }\r\n}\r\n\r\nexport function directives(el, attributes, originalAttributeOverride) {\r\n    attributes = Array.from(attributes)\r\n\r\n    if (el._x_virtualDirectives) {\r\n        let vAttributes = Object.entries(el._x_virtualDirectives).map(([name, value]) => ({ name, value }))\r\n\r\n        let staticAttributes = attributesOnly(vAttributes)\r\n\r\n        // Handle binding normal HTML attributes (non-Alpine directives).\r\n        vAttributes = vAttributes.map(attribute => {\r\n            if (staticAttributes.find(attr => attr.name === attribute.name)) {\r\n                return {\r\n                    name: `x-bind:${attribute.name}`,\r\n                    value: `\"${attribute.value}\"`,\r\n                }\r\n            }\r\n\r\n            return attribute\r\n        })\r\n\r\n        attributes = attributes.concat(vAttributes)\r\n    }\r\n\r\n    let transformedAttributeMap = {}\r\n\r\n    let directives = attributes\r\n        .map(toTransformedAttributes((newName, oldName) => transformedAttributeMap[newName] = oldName))\r\n        .filter(outNonAlpineAttributes)\r\n        .map(toParsedDirectives(transformedAttributeMap, originalAttributeOverride))\r\n        .sort(byPriority)\r\n\r\n    return directives.map(directive => {\r\n        return getDirectiveHandler(el, directive)\r\n    })\r\n}\r\n\r\nexport function attributesOnly(attributes) {\r\n    return Array.from(attributes)\r\n        .map(toTransformedAttributes())\r\n        .filter(attr => ! outNonAlpineAttributes(attr))\r\n}\r\n\r\nlet isDeferringHandlers = false\r\nlet directiveHandlerStacks = new Map\r\nlet currentHandlerStackKey = Symbol()\r\n\r\nexport function deferHandlingDirectives(callback) {\r\n    isDeferringHandlers = true\r\n\r\n    let key = Symbol()\r\n\r\n    currentHandlerStackKey = key\r\n\r\n    directiveHandlerStacks.set(key, [])\r\n\r\n    let flushHandlers = () => {\r\n        while (directiveHandlerStacks.get(key).length) directiveHandlerStacks.get(key).shift()()\r\n\r\n        directiveHandlerStacks.delete(key)\r\n    }\r\n\r\n    let stopDeferring = () => { isDeferringHandlers = false; flushHandlers() }\r\n\r\n    callback(flushHandlers)\r\n\r\n    stopDeferring()\r\n}\r\n\r\nexport function getElementBoundUtilities(el) {\r\n    let cleanups = []\r\n\r\n    let cleanup = callback => cleanups.push(callback)\r\n\r\n    let [effect, cleanupEffect] = elementBoundEffect(el)\r\n\r\n    cleanups.push(cleanupEffect)\r\n\r\n    let utilities = {\r\n        Alpine,\r\n        effect,\r\n        cleanup,\r\n        evaluateLater: evaluateLater.bind(evaluateLater, el),\r\n        evaluate: evaluate.bind(evaluate, el),\r\n    }\r\n\r\n    let doCleanup = () => cleanups.forEach(i => i())\r\n\r\n    return [utilities, doCleanup]\r\n}\r\n\r\nexport function getDirectiveHandler(el, directive) {\r\n    let noop = () => {}\r\n\r\n    let handler = directiveHandlers[directive.type] || noop\r\n\r\n    let [utilities, cleanup] = getElementBoundUtilities(el)\r\n\r\n    onAttributeRemoved(el, directive.original, cleanup)\r\n\r\n    let fullHandler = () => {\r\n        if (el._x_ignore || el._x_ignoreSelf) return\r\n\r\n        handler.inline && handler.inline(el, directive, utilities)\r\n\r\n        handler = handler.bind(handler, el, directive, utilities)\r\n\r\n        isDeferringHandlers ? directiveHandlerStacks.get(currentHandlerStackKey).push(handler) : handler()\r\n    }\r\n\r\n    fullHandler.runCleanups = cleanup\r\n\r\n    return fullHandler\r\n}\r\n\r\nexport let startingWith = (subject, replacement) => ({ name, value }) => {\r\n    if (name.startsWith(subject)) name = name.replace(subject, replacement)\r\n\r\n    return { name, value }\r\n}\r\n\r\nexport let into = i => i\r\n\r\nfunction toTransformedAttributes(callback = () => {}) {\r\n    return ({ name, value }) => {\r\n        let { name: newName, value: newValue } = attributeTransformers.reduce((carry, transform) => {\r\n            return transform(carry)\r\n        }, { name, value })\r\n\r\n        if (newName !== name) callback(newName, name)\r\n\r\n        return { name: newName, value: newValue }\r\n    }\r\n}\r\n\r\nlet attributeTransformers = []\r\n\r\nexport function mapAttributes(callback) {\r\n    attributeTransformers.push(callback)\r\n}\r\n\r\nfunction outNonAlpineAttributes({ name }) {\r\n    return alpineAttributeRegex().test(name)\r\n}\r\n\r\nlet alpineAttributeRegex = () => (new RegExp(`^${prefixAsString}([^:^.]+)\\\\b`))\r\n\r\nfunction toParsedDirectives(transformedAttributeMap, originalAttributeOverride) {\r\n    return ({ name, value }) => {\r\n        let typeMatch = name.match(alpineAttributeRegex())\r\n        let valueMatch = name.match(/:([a-zA-Z0-9\\-:]+)/)\r\n        let modifiers = name.match(/\\.[^.\\]]+(?=[^\\]]*$)/g) || []\r\n        let original = originalAttributeOverride || transformedAttributeMap[name] || name\r\n\r\n        return {\r\n            type: typeMatch ? typeMatch[1] : null,\r\n            value: valueMatch ? valueMatch[1] : null,\r\n            modifiers: modifiers.map(i => i.replace('.', '')),\r\n            expression: value,\r\n            original,\r\n        }\r\n    }\r\n}\r\n\r\nconst DEFAULT = 'DEFAULT'\r\n\r\nlet directiveOrder = [\r\n    'ignore',\r\n    'ref',\r\n    'data',\r\n    'id',\r\n    'bind',\r\n    'init',\r\n    'for',\r\n    'model',\r\n    'modelable',\r\n    'transition',\r\n    'show',\r\n    'if',\r\n    DEFAULT,\r\n    'teleport',\r\n]\r\n\r\nfunction byPriority(a, b) {\r\n    let typeA = directiveOrder.indexOf(a.type) === -1 ? DEFAULT : a.type\r\n    let typeB = directiveOrder.indexOf(b.type) === -1 ? DEFAULT : b.type\r\n\r\n    return directiveOrder.indexOf(typeA) - directiveOrder.indexOf(typeB)\r\n}\r\n","\r\nexport function dispatch(el, name, detail = {}) {\r\n    el.dispatchEvent(\r\n        new CustomEvent(name, {\r\n            detail,\r\n            bubbles: true,\r\n            // Allows events to pass the shadow DOM barrier.\r\n            composed: true,\r\n            cancelable: true,\r\n        })\r\n    )\r\n}\r\n","export function walk(el, callback) {\r\n    if (typeof ShadowRoot === 'function' && el instanceof ShadowRoot) {\r\n        Array.from(el.children).forEach(el => walk(el, callback))\r\n\r\n        return\r\n    }\r\n\r\n    let skip = false\r\n\r\n    callback(el, () => skip = true)\r\n\r\n    if (skip) return\r\n\r\n    let node = el.firstElementChild\r\n\r\n    while (node) {\r\n        walk(node, callback, false)\r\n\r\n        node = node.nextElementSibling\r\n    }\r\n}\r\n// export function walk(el, callback) {\r\n//     if (el instanceof ShadowRoot || el instanceof DocumentFragment) {\r\n//         Array.from(el.children).forEach(el => walk(el, callback))\r\n\r\n//         return\r\n//     }\r\n\r\n//     callback(el, () => {\r\n//         let node = el.firstElementChild\r\n\r\n//         while (node) {\r\n//             walk(node, callback)\r\n\r\n//             node = node.nextElementSibling\r\n//         }\r\n//     })\r\n// }\r\n","\r\nexport function warn(message, ...args) {\r\n    console.warn(`Alpine Warning: ${message}`, ...args)\r\n}\r\n","import { startObservingMutations, onAttributesAdded, onElAdded, onElRemoved, cleanupAttributes } from \"./mutation\"\r\nimport { deferHandlingDirectives, directives } from \"./directives\"\r\nimport { dispatch } from './utils/dispatch'\r\nimport { walk } from \"./utils/walk\"\r\nimport { warn } from './utils/warn'\r\n\r\nexport function start() {\r\n    if (! document.body) warn('Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine\\'s `<script>` tag?')\r\n\r\n    dispatch(document, 'alpine:init')\r\n    dispatch(document, 'alpine:initializing')\r\n\r\n    startObservingMutations()\r\n\r\n    onElAdded(el => initTree(el, walk))\r\n    onElRemoved(el => destroyTree(el))\r\n\r\n    onAttributesAdded((el, attrs) => {\r\n        directives(el, attrs).forEach(handle => handle())\r\n    })\r\n\r\n    let outNestedComponents = el => ! closestRoot(el.parentElement, true)\r\n    Array.from(document.querySelectorAll(allSelectors()))\r\n        .filter(outNestedComponents)\r\n        .forEach(el => {\r\n            initTree(el)\r\n        })\r\n\r\n    dispatch(document, 'alpine:initialized')\r\n}\r\n\r\nlet rootSelectorCallbacks = []\r\nlet initSelectorCallbacks = []\r\n\r\nexport function rootSelectors() {\r\n    return rootSelectorCallbacks.map(fn => fn())\r\n}\r\n\r\nexport function allSelectors() {\r\n    return rootSelectorCallbacks.concat(initSelectorCallbacks).map(fn => fn())\r\n}\r\n\r\nexport function addRootSelector(selectorCallback) { rootSelectorCallbacks.push(selectorCallback) }\r\nexport function addInitSelector(selectorCallback) { initSelectorCallbacks.push(selectorCallback) }\r\n\r\nexport function closestRoot(el, includeInitSelectors = false) {\r\n    return findClosest(el, element => {\r\n        const selectors = includeInitSelectors ? allSelectors() : rootSelectors()\r\n\r\n        if (selectors.some(selector => element.matches(selector))) return true\r\n    })\r\n}\r\n\r\nexport function findClosest(el, callback) {\r\n    if (! el) return\r\n\r\n    if (callback(el)) return el\r\n\r\n    // Support crawling up teleports.\r\n    if (el._x_teleportBack) el = el._x_teleportBack\r\n\r\n    if (! el.parentElement) return\r\n\r\n    return findClosest(el.parentElement, callback)\r\n}\r\n\r\nexport function isRoot(el) {\r\n    return rootSelectors().some(selector => el.matches(selector))\r\n}\r\n\r\nlet initInterceptors = []\r\n\r\nexport function interceptInit(callback) { initInterceptors.push(callback) }\r\n\r\nexport function initTree(el, walker = walk, intercept = () => {}) {\r\n    deferHandlingDirectives(() => {\r\n        walker(el, (el, skip) => {\r\n            intercept(el, skip)\r\n\r\n            initInterceptors.forEach(i => i(el, skip))\r\n\r\n            directives(el, el.attributes).forEach(handle => handle())\r\n\r\n            el._x_ignore && skip()\r\n        })\r\n    })\r\n}\r\n\r\nexport function destroyTree(root) {\r\n    walk(root, el => cleanupAttributes(el))\r\n}\r\n","\r\nlet tickStack = []\r\n\r\nlet isHolding = false\r\n\r\nexport function nextTick(callback = () => {}) {\r\n  queueMicrotask(() => {\r\n    isHolding || setTimeout(() => {\r\n      releaseNextTicks()\r\n    })\r\n  })\r\n\r\n  return new Promise((res) => {\r\n    tickStack.push(() => {\r\n        callback();\r\n        res();\r\n    });\r\n  })\r\n}\r\n\r\nexport function releaseNextTicks() {\r\n    isHolding = false\r\n\r\n    while (tickStack.length) tickStack.shift()()\r\n}\r\n\r\nexport function holdNextTicks() {\r\n    isHolding = true\r\n}\r\n","\r\nexport function setClasses(el, value) {\r\n    if (Array.isArray(value)) {\r\n        return setClassesFromString(el, value.join(' '))\r\n    } else if (typeof value === 'object' && value !== null) {\r\n        return setClassesFromObject(el, value)\r\n    } else if (typeof value === 'function') {\r\n        return setClasses(el, value())\r\n    }\r\n\r\n    return setClassesFromString(el, value)\r\n}\r\n\r\nfunction setClassesFromString(el, classString) {\r\n    let split = classString => classString.split(' ').filter(Boolean)\r\n\r\n    let missingClasses = classString => classString.split(' ').filter(i => ! el.classList.contains(i)).filter(Boolean)\r\n\r\n    let addClassesAndReturnUndo = classes => {\r\n        el.classList.add(...classes)\r\n\r\n        return () => { el.classList.remove(...classes) }\r\n    }\r\n\r\n    // This is to allow short-circuit expressions like: :class=\"show || 'hidden'\" && \"show && 'block'\"\r\n    classString = (classString === true) ? classString = '' : (classString || '')\r\n\r\n    return addClassesAndReturnUndo(missingClasses(classString))\r\n}\r\n\r\nfunction setClassesFromObject(el, classObject) {\r\n    let split = classString => classString.split(' ').filter(Boolean)\r\n\r\n    let forAdd = Object.entries(classObject).flatMap(([classString, bool]) => bool ? split(classString) : false).filter(Boolean)\r\n    let forRemove = Object.entries(classObject).flatMap(([classString, bool]) => ! bool ? split(classString) : false).filter(Boolean)\r\n\r\n    let added = []\r\n    let removed = []\r\n\r\n    forRemove.forEach(i => {\r\n        if (el.classList.contains(i)) {\r\n            el.classList.remove(i)\r\n            removed.push(i)\r\n        }\r\n    })\r\n\r\n    forAdd.forEach(i => {\r\n        if (! el.classList.contains(i)) {\r\n            el.classList.add(i)\r\n            added.push(i)\r\n        }\r\n    })\r\n\r\n    return () => {\r\n        removed.forEach(i => el.classList.add(i))\r\n        added.forEach(i => el.classList.remove(i))\r\n    }\r\n}\r\n","\r\nexport function setStyles(el, value) {\r\n    if (typeof value === 'object' && value !== null) {\r\n        return setStylesFromObject(el, value)\r\n    }\r\n\r\n    return setStylesFromString(el, value)\r\n}\r\n\r\nfunction setStylesFromObject(el, value) {\r\n    let previousStyles = {}\r\n\r\n    Object.entries(value).forEach(([key, value]) => {\r\n        previousStyles[key] = el.style[key]\r\n\r\n        // When we use javascript object, css properties use the camelCase\r\n        // syntax but when we use setProperty, we need the css format\r\n        // so we need to convert camelCase to kebab-case.\r\n        // In case key is a CSS variable, leave it as it is.\r\n        if (! key.startsWith('--')) {\r\n            key = kebabCase(key);\r\n        }\r\n\r\n        el.style.setProperty(key, value)\r\n    })\r\n\r\n    setTimeout(() => {\r\n        if (el.style.length === 0) {\r\n            el.removeAttribute('style')\r\n        }\r\n    })\r\n\r\n    return () => {\r\n        setStyles(el, previousStyles)\r\n    }\r\n}\r\n\r\nfunction setStylesFromString(el, value) {\r\n    let cache = el.getAttribute('style', value)\r\n\r\n    el.setAttribute('style', value)\r\n\r\n    return () => {\r\n        el.setAttribute('style', cache || '')\r\n    }\r\n}\r\n\r\nfunction kebabCase(subject) {\r\n    return subject.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase()\r\n}\r\n","\r\nexport function once(callback, fallback = () => {}) {\r\n    let called = false\r\n\r\n    return function () {\r\n        if (! called) {\r\n            called = true\r\n\r\n            callback.apply(this, arguments)\r\n        } else {\r\n            fallback.apply(this, arguments)\r\n        }\r\n    }\r\n}\r\n","import { releaseNextTicks, holdNextTicks } from '../nextTick'\r\nimport { setClasses } from '../utils/classes'\r\nimport { setStyles } from '../utils/styles'\r\nimport { directive } from '../directives'\r\nimport { mutateDom } from '../mutation'\r\nimport { once } from '../utils/once'\r\n\r\ndirective('transition', (el, { value, modifiers, expression }, { evaluate }) => {\r\n    if (typeof expression === 'function') expression = evaluate(expression)\r\n\r\n    if (! expression) {\r\n        registerTransitionsFromHelper(el, modifiers, value)\r\n    } else {\r\n        registerTransitionsFromClassString(el, expression, value)\r\n    }\r\n})\r\n\r\nfunction registerTransitionsFromClassString(el, classString, stage) {\r\n    registerTransitionObject(el, setClasses, '')\r\n\r\n    let directiveStorageMap = {\r\n        'enter': (classes) => { el._x_transition.enter.during = classes },\r\n        'enter-start': (classes) => { el._x_transition.enter.start = classes },\r\n        'enter-end': (classes) => { el._x_transition.enter.end = classes },\r\n        'leave': (classes) => { el._x_transition.leave.during = classes },\r\n        'leave-start': (classes) => { el._x_transition.leave.start = classes },\r\n        'leave-end': (classes) => { el._x_transition.leave.end = classes },\r\n    }\r\n\r\n    directiveStorageMap[stage](classString)\r\n}\r\n\r\nfunction registerTransitionsFromHelper(el, modifiers, stage) {\r\n    registerTransitionObject(el, setStyles)\r\n\r\n    let doesntSpecify = (! modifiers.includes('in') && ! modifiers.includes('out')) && ! stage\r\n    let transitioningIn = doesntSpecify || modifiers.includes('in') || ['enter'].includes(stage)\r\n    let transitioningOut = doesntSpecify || modifiers.includes('out') || ['leave'].includes(stage)\r\n\r\n    if (modifiers.includes('in') && ! doesntSpecify) {\r\n        modifiers = modifiers.filter((i, index) => index < modifiers.indexOf('out'))\r\n    }\r\n\r\n    if (modifiers.includes('out') && ! doesntSpecify) {\r\n        modifiers = modifiers.filter((i, index) => index > modifiers.indexOf('out'))\r\n    }\r\n\r\n    let wantsAll = ! modifiers.includes('opacity') && ! modifiers.includes('scale')\r\n    let wantsOpacity = wantsAll || modifiers.includes('opacity')\r\n    let wantsScale = wantsAll || modifiers.includes('scale')\r\n    let opacityValue = wantsOpacity ? 0 : 1\r\n    let scaleValue = wantsScale ? modifierValue(modifiers, 'scale', 95) / 100 : 1\r\n    let delay = modifierValue(modifiers, 'delay', 0)\r\n    let origin = modifierValue(modifiers, 'origin', 'center')\r\n    let property = 'opacity, transform'\r\n    let durationIn = modifierValue(modifiers, 'duration', 150) / 1000\r\n    let durationOut = modifierValue(modifiers, 'duration', 75) / 1000\r\n    let easing = `cubic-bezier(0.4, 0.0, 0.2, 1)`\r\n\r\n    if (transitioningIn) {\r\n        el._x_transition.enter.during = {\r\n            transformOrigin: origin,\r\n            transitionDelay: delay,\r\n            transitionProperty: property,\r\n            transitionDuration: `${durationIn}s`,\r\n            transitionTimingFunction: easing,\r\n        }\r\n\r\n        el._x_transition.enter.start = {\r\n            opacity: opacityValue,\r\n            transform: `scale(${scaleValue})`,\r\n        }\r\n\r\n        el._x_transition.enter.end = {\r\n            opacity: 1,\r\n            transform: `scale(1)`,\r\n        }\r\n    }\r\n\r\n    if (transitioningOut) {\r\n        el._x_transition.leave.during = {\r\n            transformOrigin: origin,\r\n            transitionDelay: delay,\r\n            transitionProperty: property,\r\n            transitionDuration: `${durationOut}s`,\r\n            transitionTimingFunction: easing,\r\n        }\r\n\r\n        el._x_transition.leave.start = {\r\n            opacity: 1,\r\n            transform: `scale(1)`,\r\n        }\r\n\r\n        el._x_transition.leave.end = {\r\n            opacity: opacityValue,\r\n            transform: `scale(${scaleValue})`,\r\n        }\r\n    }\r\n}\r\n\r\nfunction registerTransitionObject(el, setFunction, defaultValue = {}) {\r\n    if (! el._x_transition) el._x_transition = {\r\n        enter: { during: defaultValue, start: defaultValue, end: defaultValue },\r\n\r\n        leave: { during: defaultValue, start: defaultValue, end: defaultValue },\r\n\r\n        in(before = () => {}, after = () => {}) {\r\n            transition(el, setFunction, {\r\n                during: this.enter.during,\r\n                start: this.enter.start,\r\n                end: this.enter.end,\r\n            }, before, after)\r\n        },\r\n\r\n        out(before = () => {}, after = () => {}) {\r\n            transition(el, setFunction, {\r\n                during: this.leave.during,\r\n                start: this.leave.start,\r\n                end: this.leave.end,\r\n            }, before, after)\r\n        },\r\n    }\r\n}\r\n\r\nwindow.Element.prototype._x_toggleAndCascadeWithTransitions = function (el, value, show, hide) {\r\n    // We are running this function after one tick to prevent\r\n    // a race condition from happening where elements that have a\r\n    // @click.away always view themselves as shown on the page.\r\n    // If the tab is active, we prioritise requestAnimationFrame which plays\r\n    // nicely with nested animations otherwise we use setTimeout to make sure\r\n    // it keeps running in background. setTimeout has a lower priority in the\r\n    // event loop so it would skip nested transitions but when the tab is\r\n    // hidden, it's not relevant.\r\n    const nextTick = document.visibilityState === 'visible' ? requestAnimationFrame : setTimeout;\r\n    let clickAwayCompatibleShow = () => nextTick(show);\r\n\r\n    if (value) {\r\n        if (el._x_transition && (el._x_transition.enter || el._x_transition.leave)) {\r\n            // This fixes a bug where if you are only transitioning OUT and you are also using @click.outside\r\n            // the element when shown immediately starts transitioning out. There is a test in the manual\r\n            // transition test file for this: /tests/cypress/manual-transition-test.html\r\n            (el._x_transition.enter && (Object.entries(el._x_transition.enter.during).length || Object.entries(el._x_transition.enter.start).length || Object.entries(el._x_transition.enter.end).length))\r\n                ? el._x_transition.in(show)\r\n                : clickAwayCompatibleShow()\r\n        } else {\r\n            el._x_transition\r\n                ? el._x_transition.in(show)\r\n                : clickAwayCompatibleShow()\r\n        }\r\n\r\n        return\r\n    }\r\n\r\n    // Livewire depends on el._x_hidePromise.\r\n    el._x_hidePromise = el._x_transition\r\n        ? new Promise((resolve, reject) => {\r\n            el._x_transition.out(() => {}, () => resolve(hide))\r\n\r\n            el._x_transitioning.beforeCancel(() => reject({ isFromCancelledTransition: true }))\r\n        })\r\n        : Promise.resolve(hide)\r\n\r\n    queueMicrotask(() => {\r\n        let closest = closestHide(el)\r\n\r\n        if (closest) {\r\n            if (! closest._x_hideChildren) closest._x_hideChildren = []\r\n\r\n            closest._x_hideChildren.push(el)\r\n        } else {\r\n            nextTick(() => {\r\n                let hideAfterChildren = el => {\r\n                    let carry = Promise.all([\r\n                        el._x_hidePromise,\r\n                        ...(el._x_hideChildren || []).map(hideAfterChildren),\r\n                    ]).then(([i]) => i())\r\n\r\n                    delete el._x_hidePromise\r\n                    delete el._x_hideChildren\r\n\r\n                    return carry\r\n                }\r\n\r\n                hideAfterChildren(el).catch((e) => {\r\n                    if (! e.isFromCancelledTransition) throw e\r\n                })\r\n            })\r\n        }\r\n    })\r\n}\r\n\r\nfunction closestHide(el) {\r\n    let parent = el.parentNode\r\n\r\n    if (! parent) return\r\n\r\n    return parent._x_hidePromise ? parent : closestHide(parent)\r\n}\r\n\r\nexport function transition(el, setFunction, { during, start, end } = {}, before = () => {}, after = () => {}) {\r\n    if (el._x_transitioning) el._x_transitioning.cancel()\r\n\r\n    if (Object.keys(during).length === 0 && Object.keys(start).length === 0 && Object.keys(end).length === 0) {\r\n        // Execute right away if there is no transition.\r\n        before(); after()\r\n        return\r\n    }\r\n\r\n    let undoStart, undoDuring, undoEnd\r\n\r\n    performTransition(el, {\r\n        start() {\r\n            undoStart = setFunction(el, start)\r\n        },\r\n        during() {\r\n            undoDuring = setFunction(el, during)\r\n        },\r\n        before,\r\n        end() {\r\n            undoStart()\r\n\r\n            undoEnd = setFunction(el, end)\r\n        },\r\n        after,\r\n        cleanup() {\r\n            undoDuring()\r\n            undoEnd()\r\n        },\r\n    })\r\n}\r\n\r\nexport function performTransition(el, stages) {\r\n    // All transitions need to be truly \"cancellable\". Meaning we need to\r\n    // account for interruptions at ALL stages of the transitions and\r\n    // immediately run the rest of the transition.\r\n    let interrupted, reachedBefore, reachedEnd\r\n\r\n    let finish = once(() => {\r\n        mutateDom(() => {\r\n            interrupted = true\r\n\r\n            if (! reachedBefore) stages.before()\r\n\r\n            if (! reachedEnd) {\r\n                stages.end()\r\n\r\n                releaseNextTicks()\r\n            }\r\n\r\n            stages.after()\r\n\r\n            // Adding an \"isConnected\" check, in case the callback removed the element from the DOM.\r\n            if (el.isConnected) stages.cleanup()\r\n\r\n            delete el._x_transitioning\r\n        })\r\n    })\r\n\r\n    el._x_transitioning = {\r\n        beforeCancels: [],\r\n        beforeCancel(callback) { this.beforeCancels.push(callback) },\r\n        cancel: once(function () { while (this.beforeCancels.length) { this.beforeCancels.shift()() }; finish(); }),\r\n        finish,\r\n    }\r\n\r\n    mutateDom(() => {\r\n        stages.start()\r\n        stages.during()\r\n    })\r\n\r\n    holdNextTicks()\r\n\r\n    requestAnimationFrame(() => {\r\n        if (interrupted) return\r\n\r\n        // Note: Safari's transitionDuration property will list out comma separated transition durations\r\n        // for every single transition property. Let's grab the first one and call it a day.\r\n        let duration = Number(getComputedStyle(el).transitionDuration.replace(/,.*/, '').replace('s', '')) * 1000\r\n        let delay = Number(getComputedStyle(el).transitionDelay.replace(/,.*/, '').replace('s', '')) * 1000\r\n\r\n        if (duration === 0) duration = Number(getComputedStyle(el).animationDuration.replace('s', '')) * 1000\r\n\r\n        mutateDom(() => {\r\n            stages.before()\r\n        })\r\n\r\n        reachedBefore = true\r\n\r\n        requestAnimationFrame(() => {\r\n            if (interrupted) return\r\n\r\n            mutateDom(() => {\r\n                stages.end()\r\n            })\r\n\r\n            releaseNextTicks()\r\n\r\n            setTimeout(el._x_transitioning.finish, duration + delay)\r\n\r\n            reachedEnd = true\r\n        })\r\n    })\r\n}\r\n\r\nexport function modifierValue(modifiers, key, fallback) {\r\n    // If the modifier isn't present, use the default.\r\n    if (modifiers.indexOf(key) === -1) return fallback\r\n\r\n    // If it IS present, grab the value after it: x-show.transition.duration.500ms\r\n    const rawValue = modifiers[modifiers.indexOf(key) + 1]\r\n\r\n    if (! rawValue) return fallback\r\n\r\n    if (key === 'scale') {\r\n        // Check if the very next value is NOT a number and return the fallback.\r\n        // If x-show.transition.scale, we'll use the default scale value.\r\n        // That is how a user opts out of the opacity transition.\r\n        if (isNaN(rawValue)) return fallback\r\n    }\r\n\r\n    if (key === 'duration') {\r\n        // Support x-transition.duration.500ms && duration.500\r\n        let match = rawValue.match(/([0-9]+)ms/)\r\n        if (match) return match[1]\r\n    }\r\n\r\n    if (key === 'origin') {\r\n        // Support chaining origin directions: x-show.transition.top.right\r\n        if (['top', 'right', 'left', 'center', 'bottom'].includes(modifiers[modifiers.indexOf(key) + 2])) {\r\n            return [rawValue, modifiers[modifiers.indexOf(key) + 2]].join(' ')\r\n        }\r\n    }\r\n\r\n    return rawValue\r\n}\r\n","import { effect, release, overrideEffect } from \"./reactivity\"\r\nimport { initTree, isRoot } from \"./lifecycle\"\r\nimport { walk } from \"./utils/walk\"\r\n\r\nexport let isCloning = false\r\n\r\nexport function skipDuringClone(callback, fallback = () => {}) {\r\n    return (...args) => isCloning ? fallback(...args) : callback(...args)\r\n}\r\n\r\nexport function onlyDuringClone(callback) {\r\n    return (...args) => isCloning && callback(...args)\r\n}\r\n\r\nexport function interuptCrawl(callback) {\r\n    return (...args) => isCloning || callback(...args)\r\n}\r\n\r\nexport function clone(oldEl, newEl) {\r\n    if (! newEl._x_dataStack) newEl._x_dataStack = oldEl._x_dataStack\r\n\r\n    isCloning = true\r\n\r\n    dontRegisterReactiveSideEffects(() => {\r\n        cloneTree(newEl)\r\n    })\r\n\r\n    isCloning = false\r\n}\r\n\r\nexport function cloneTree(el) {\r\n    let hasRunThroughFirstEl = false\r\n\r\n    let shallowWalker = (el, callback) => {\r\n        walk(el, (el, skip) => {\r\n            if (hasRunThroughFirstEl && isRoot(el)) return skip()\r\n\r\n            hasRunThroughFirstEl = true\r\n\r\n            callback(el, skip)\r\n        })\r\n    }\r\n\r\n    initTree(el, shallowWalker)\r\n}\r\n\r\nfunction dontRegisterReactiveSideEffects(callback) {\r\n    let cache = effect\r\n\r\n    overrideEffect((callback, el) => {\r\n        let storedEffect = cache(callback)\r\n\r\n        release(storedEffect)\r\n\r\n        return () => {}\r\n    })\r\n\r\n    callback()\r\n\r\n    overrideEffect(cache)\r\n}\r\n","import { reactive } from '../reactivity'\r\nimport { setClasses } from './classes'\r\nimport { setStyles } from './styles'\r\n\r\nexport default function bind(el, name, value, modifiers = []) {\r\n    // Register bound data as pure observable data for other APIs to use.\r\n    if (! el._x_bindings) el._x_bindings = reactive({})\r\n\r\n    el._x_bindings[name] = value\r\n\r\n    name = modifiers.includes('camel') ? camelCase(name) : name\r\n\r\n    switch (name) {\r\n        case 'value':\r\n            bindInputValue(el, value)\r\n            break;\r\n\r\n        case 'style':\r\n            bindStyles(el, value)\r\n            break;\r\n\r\n        case 'class':\r\n            bindClasses(el, value)\r\n            break;\r\n\r\n        default:\r\n            bindAttribute(el, name, value)\r\n            break;\r\n    }\r\n}\r\n\r\nfunction bindInputValue(el, value) {\r\n    if (el.type === 'radio') {\r\n        // Set radio value from x-bind:value, if no \"value\" attribute exists.\r\n        // If there are any initial state values, radio will have a correct\r\n        // \"checked\" value since x-bind:value is processed before x-model.\r\n        if (el.attributes.value === undefined) {\r\n            el.value = value\r\n        }\r\n\r\n        // @todo: yuck\r\n        if (window.fromModel) {\r\n            el.checked = checkedAttrLooseCompare(el.value, value)\r\n        }\r\n    } else if (el.type === 'checkbox') {\r\n        // If we are explicitly binding a string to the :value, set the string,\r\n        // If the value is a boolean/array/number/null/undefined, leave it alone, it will be set to \"on\"\r\n        // automatically.\r\n        if (Number.isInteger(value)) {\r\n            el.value = value\r\n        } else if (! Number.isInteger(value) && ! Array.isArray(value) && typeof value !== 'boolean' && ! [null, undefined].includes(value)) {\r\n            el.value = String(value)\r\n        } else {\r\n            if (Array.isArray(value)) {\r\n                el.checked = value.some(val => checkedAttrLooseCompare(val, el.value))\r\n            } else {\r\n                el.checked = !!value\r\n            }\r\n        }\r\n    } else if (el.tagName === 'SELECT') {\r\n        updateSelect(el, value)\r\n    } else {\r\n        if (el.value === value) return\r\n\r\n        el.value = value\r\n    }\r\n}\r\n\r\nfunction bindClasses(el, value) {\r\n    if (el._x_undoAddedClasses) el._x_undoAddedClasses()\r\n\r\n    el._x_undoAddedClasses = setClasses(el, value)\r\n}\r\n\r\nfunction bindStyles(el, value) {\r\n    if (el._x_undoAddedStyles) el._x_undoAddedStyles()\r\n\r\n    el._x_undoAddedStyles = setStyles(el, value)\r\n}\r\n\r\nfunction bindAttribute(el, name, value) {\r\n    if ([null, undefined, false].includes(value) && attributeShouldntBePreservedIfFalsy(name)) {\r\n        el.removeAttribute(name)\r\n    } else {\r\n        if (isBooleanAttr(name)) value = name\r\n\r\n        setIfChanged(el, name, value)\r\n    }\r\n}\r\n\r\nfunction setIfChanged(el, attrName, value) {\r\n    if (el.getAttribute(attrName) != value) {\r\n        el.setAttribute(attrName, value)\r\n    }\r\n}\r\n\r\nfunction updateSelect(el, value) {\r\n    const arrayWrappedValue = [].concat(value).map(value => { return value + '' })\r\n\r\n    Array.from(el.options).forEach(option => {\r\n        option.selected = arrayWrappedValue.includes(option.value)\r\n    })\r\n}\r\n\r\nfunction camelCase(subject) {\r\n    return subject.toLowerCase().replace(/-(\\w)/g, (match, char) => char.toUpperCase())\r\n}\r\n\r\nfunction checkedAttrLooseCompare(valueA, valueB) {\r\n    return valueA == valueB\r\n}\r\n\r\nfunction isBooleanAttr(attrName) {\r\n    // As per HTML spec table https://html.spec.whatwg.org/multipage/indices.html#attributes-3:boolean-attribute\r\n    // Array roughly ordered by estimated usage\r\n    const booleanAttributes = [\r\n        'disabled','checked','required','readonly','hidden','open', 'selected',\r\n        'autofocus', 'itemscope', 'multiple', 'novalidate','allowfullscreen',\r\n        'allowpaymentrequest', 'formnovalidate', 'autoplay', 'controls', 'loop',\r\n        'muted', 'playsinline', 'default', 'ismap', 'reversed', 'async', 'defer',\r\n        'nomodule'\r\n    ]\r\n\r\n    return booleanAttributes.includes(attrName)\r\n}\r\n\r\nfunction attributeShouldntBePreservedIfFalsy(name) {\r\n    return ! ['aria-pressed', 'aria-checked', 'aria-expanded', 'aria-selected'].includes(name)\r\n}\r\n\r\nexport function getBinding(el, name, fallback) {\r\n    // First let's get it out of Alpine bound data.\r\n    if (el._x_bindings && el._x_bindings[name] !== undefined) return el._x_bindings[name]\r\n\r\n    // If not, we'll return the literal attribute.\r\n    let attr = el.getAttribute(name)\r\n\r\n    // Nothing bound:\r\n    if (attr === null) return typeof fallback === 'function' ? fallback() : fallback\r\n\r\n    // The case of a custom attribute with no value. Ex: <div manual>\r\n    if (attr === '') return true\r\n\r\n    if (isBooleanAttr(name)) {\r\n        return !! [name, 'true'].includes(attr)\r\n    }\r\n\r\n    return attr\r\n}\r\n","\r\nexport function debounce(func, wait) {\r\n    var timeout\r\n\r\n    return function() {\r\n        var context = this, args = arguments\r\n\r\n        var later = function () {\r\n            timeout = null\r\n\r\n            func.apply(context, args)\r\n        }\r\n\r\n        clearTimeout(timeout)\r\n\r\n        timeout = setTimeout(later, wait)\r\n    }\r\n}\r\n","\r\nexport function throttle(func, limit) {\r\n    let inThrottle\r\n\r\n    return function() {\r\n        let context = this, args = arguments\r\n\r\n        if (! inThrottle) {\r\n            func.apply(context, args)\r\n\r\n            inThrottle = true\r\n\r\n            setTimeout(() => inThrottle = false, limit)\r\n        }\r\n    }\r\n}\r\n","import { initInterceptors } from \"./interceptor\";\r\nimport { reactive } from \"./reactivity\"\r\n\r\nlet stores = {}\r\nlet isReactive = false\r\n\r\nexport function store(name, value) {\r\n    if (! isReactive) { stores = reactive(stores); isReactive = true; }\r\n\r\n    if (value === undefined) {\r\n        return stores[name]\r\n    }\r\n\r\n    stores[name] = value\r\n\r\n    if (typeof value === 'object' && value !== null && value.hasOwnProperty('init') && typeof value.init === 'function') {\r\n        stores[name].init()\r\n    }\r\n\r\n    initInterceptors(stores[name])\r\n}\r\n\r\nexport function getStores() { return stores }\r\n","import { attributesOnly, directives } from \"./directives\"\r\n\r\nlet binds = {}\r\n\r\nexport function bind(name, bindings) {\r\n    let getBindings = typeof bindings !== 'function' ? () => bindings : bindings\r\n\r\n    if (name instanceof Element) {\r\n        applyBindingsObject(name, getBindings())\r\n    } else {\r\n        binds[name] = getBindings\r\n    }\r\n}\r\n\r\nexport function injectBindingProviders(obj) {\r\n    Object.entries(binds).forEach(([name, callback]) => {\r\n        Object.defineProperty(obj, name, {\r\n            get() {\r\n                return (...args) => {\r\n                    return callback(...args)\r\n                }\r\n            }\r\n        })\r\n    })\r\n\r\n    return obj\r\n}\r\n\r\nexport function addVirtualBindings(el, bindings) {\r\n    let getBindings = typeof bindings !== 'function' ? () => bindings : bindings\r\n\r\n    el._x_virtualDirectives = getBindings()\r\n}\r\n\r\nexport function applyBindingsObject(el, obj, original) {\r\n    let cleanupRunners = []\r\n\r\n    while (cleanupRunners.length) cleanupRunners.pop()()\r\n\r\n    let attributes = Object.entries(obj).map(([name, value]) => ({ name, value }))\r\n\r\n    let staticAttributes = attributesOnly(attributes)\r\n\r\n    // Handle binding normal HTML attributes (non-Alpine directives).\r\n    attributes = attributes.map(attribute => {\r\n        if (staticAttributes.find(attr => attr.name === attribute.name)) {\r\n            return {\r\n                name: `x-bind:${attribute.name}`,\r\n                value: `\"${attribute.value}\"`,\r\n            }\r\n        }\r\n\r\n        return attribute\r\n    })\r\n\r\n    directives(el, attributes, original).map(handle => {\r\n        cleanupRunners.push(handle.runCleanups)\r\n\r\n        handle()\r\n    })\r\n}\r\n","\r\nlet datas = {}\r\n\r\nexport function data(name, callback) {\r\n    datas[name] = callback\r\n}\r\n\r\nexport function injectDataProviders(obj, context) {\r\n    Object.entries(datas).forEach(([name, callback]) => {\r\n        Object.defineProperty(obj, name, {\r\n            get() {\r\n                return (...args) => {\r\n                    return callback.bind(context)(...args)\r\n                }\r\n            },\r\n\r\n            enumerable: false,\r\n        })\r\n    })\r\n\r\n    return obj\r\n}\r\n","const ALPINE_VERSION = '3.12.0'\r\n\r\nimport { setReactivityEngine, disableEffectScheduling, reactive, effect, release, raw } from './reactivity'\r\nimport { mapAttributes, directive, setPrefix as prefix, prefix as prefixed } from './directives'\r\nimport { start, addRootSelector, addInitSelector, closestRoot, findClosest, initTree, destroyTree, interceptInit } from './lifecycle'\r\nimport { mutateDom, deferMutations, flushAndStopDeferringMutations, startObservingMutations, stopObservingMutations } from './mutation'\r\nimport { mergeProxies, closestDataStack, addScopeToNode, scope as $data } from './scope'\r\nimport { setEvaluator, evaluate, evaluateLater, dontAutoEvaluateFunctions } from './evaluator'\r\nimport { transition } from './directives/x-transition'\r\nimport { clone, skipDuringClone, onlyDuringClone } from './clone'\r\nimport { interceptor } from './interceptor'\r\nimport { getBinding as bound } from './utils/bind'\r\nimport { debounce } from './utils/debounce'\r\nimport { throttle } from './utils/throttle'\r\nimport { setStyles } from './utils/styles'\r\nimport { nextTick } from './nextTick'\r\nimport { walk } from './utils/walk'\r\nimport { plugin } from './plugin'\r\nimport { magic } from './magics'\r\nimport { store } from './store'\r\nimport { bind } from './binds'\r\nimport { data } from './datas'\r\n\r\nlet Alpine = {\r\n    get reactive() { return reactive },\r\n    get release() { return release },\r\n    get effect() { return effect },\r\n    get raw() { return raw },\r\n    version: ALPINE_VERSION,\r\n    flushAndStopDeferringMutations,\r\n    dontAutoEvaluateFunctions,\r\n    disableEffectScheduling,\r\n    startObservingMutations,\r\n    stopObservingMutations,\r\n    setReactivityEngine,\r\n    closestDataStack,\r\n    skipDuringClone,\r\n    onlyDuringClone,\r\n    addRootSelector,\r\n    addInitSelector,\r\n    addScopeToNode,\r\n    deferMutations,\r\n    mapAttributes,\r\n    evaluateLater,\r\n    interceptInit,\r\n    setEvaluator,\r\n    mergeProxies,\r\n    findClosest,\r\n    closestRoot,\r\n    destroyTree,\r\n    interceptor, // INTERNAL: not public API and is subject to change without major release.\r\n    transition, // INTERNAL\r\n    setStyles, // INTERNAL\r\n    mutateDom,\r\n    directive,\r\n    throttle,\r\n    debounce,\r\n    evaluate,\r\n    initTree,\r\n    nextTick,\r\n    prefixed,\r\n    prefix,\r\n    plugin,\r\n    magic,\r\n    store,\r\n    start,\r\n    clone,\r\n    bound,\r\n    $data,\r\n    walk,\r\n    data,\r\n    bind,\r\n}\r\n\r\nexport default Alpine\r\n","import Alpine from './alpine'\r\n\r\nexport function plugin(callback) {\r\n    callback(Alpine)\r\n}\r\n","/**\r\n * Make a map and return a function for checking if a key\r\n * is in that map.\r\n * IMPORTANT: all calls of this function must be prefixed with\r\n * \\/\\*#\\_\\_PURE\\_\\_\\*\\/\r\n * So that rollup can tree-shake them if necessary.\r\n */\r\nfunction makeMap(str, expectsLowerCase) {\r\n    const map = Object.create(null);\r\n    const list = str.split(',');\r\n    for (let i = 0; i < list.length; i++) {\r\n        map[list[i]] = true;\r\n    }\r\n    return expectsLowerCase ? val => !!map[val.toLowerCase()] : val => !!map[val];\r\n}\n\n/**\r\n * dev only flag -> name mapping\r\n */\r\nconst PatchFlagNames = {\r\n    [1 /* TEXT */]: `TEXT`,\r\n    [2 /* CLASS */]: `CLASS`,\r\n    [4 /* STYLE */]: `STYLE`,\r\n    [8 /* PROPS */]: `PROPS`,\r\n    [16 /* FULL_PROPS */]: `FULL_PROPS`,\r\n    [32 /* HYDRATE_EVENTS */]: `HYDRATE_EVENTS`,\r\n    [64 /* STABLE_FRAGMENT */]: `STABLE_FRAGMENT`,\r\n    [128 /* KEYED_FRAGMENT */]: `KEYED_FRAGMENT`,\r\n    [256 /* UNKEYED_FRAGMENT */]: `UNKEYED_FRAGMENT`,\r\n    [512 /* NEED_PATCH */]: `NEED_PATCH`,\r\n    [1024 /* DYNAMIC_SLOTS */]: `DYNAMIC_SLOTS`,\r\n    [2048 /* DEV_ROOT_FRAGMENT */]: `DEV_ROOT_FRAGMENT`,\r\n    [-1 /* HOISTED */]: `HOISTED`,\r\n    [-2 /* BAIL */]: `BAIL`\r\n};\n\n/**\r\n * Dev only\r\n */\r\nconst slotFlagsText = {\r\n    [1 /* STABLE */]: 'STABLE',\r\n    [2 /* DYNAMIC */]: 'DYNAMIC',\r\n    [3 /* FORWARDED */]: 'FORWARDED'\r\n};\n\nconst GLOBALS_WHITE_LISTED = 'Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,' +\r\n    'decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,' +\r\n    'Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt';\r\nconst isGloballyWhitelisted = /*#__PURE__*/ makeMap(GLOBALS_WHITE_LISTED);\n\nconst range = 2;\r\nfunction generateCodeFrame(source, start = 0, end = source.length) {\r\n    // Split the content into individual lines but capture the newline sequence\r\n    // that separated each line. This is important because the actual sequence is\r\n    // needed to properly take into account the full line length for offset\r\n    // comparison\r\n    let lines = source.split(/(\\r?\\n)/);\r\n    // Separate the lines and newline sequences into separate arrays for easier referencing\r\n    const newlineSequences = lines.filter((_, idx) => idx % 2 === 1);\r\n    lines = lines.filter((_, idx) => idx % 2 === 0);\r\n    let count = 0;\r\n    const res = [];\r\n    for (let i = 0; i < lines.length; i++) {\r\n        count +=\r\n            lines[i].length +\r\n                ((newlineSequences[i] && newlineSequences[i].length) || 0);\r\n        if (count >= start) {\r\n            for (let j = i - range; j <= i + range || end > count; j++) {\r\n                if (j < 0 || j >= lines.length)\r\n                    continue;\r\n                const line = j + 1;\r\n                res.push(`${line}${' '.repeat(Math.max(3 - String(line).length, 0))}|  ${lines[j]}`);\r\n                const lineLength = lines[j].length;\r\n                const newLineSeqLength = (newlineSequences[j] && newlineSequences[j].length) || 0;\r\n                if (j === i) {\r\n                    // push underline\r\n                    const pad = start - (count - (lineLength + newLineSeqLength));\r\n                    const length = Math.max(1, end > count ? lineLength - pad : end - start);\r\n                    res.push(`   |  ` + ' '.repeat(pad) + '^'.repeat(length));\r\n                }\r\n                else if (j > i) {\r\n                    if (end > count) {\r\n                        const length = Math.max(Math.min(end - count, lineLength), 1);\r\n                        res.push(`   |  ` + '^'.repeat(length));\r\n                    }\r\n                    count += lineLength + newLineSeqLength;\r\n                }\r\n            }\r\n            break;\r\n        }\r\n    }\r\n    return res.join('\\n');\r\n}\n\n/**\r\n * On the client we only need to offer special cases for boolean attributes that\r\n * have different names from their corresponding dom properties:\r\n * - itemscope -> N/A\r\n * - allowfullscreen -> allowFullscreen\r\n * - formnovalidate -> formNoValidate\r\n * - ismap -> isMap\r\n * - nomodule -> noModule\r\n * - novalidate -> noValidate\r\n * - readonly -> readOnly\r\n */\r\nconst specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;\r\nconst isSpecialBooleanAttr = /*#__PURE__*/ makeMap(specialBooleanAttrs);\r\n/**\r\n * The full list is needed during SSR to produce the correct initial markup.\r\n */\r\nconst isBooleanAttr = /*#__PURE__*/ makeMap(specialBooleanAttrs +\r\n    `,async,autofocus,autoplay,controls,default,defer,disabled,hidden,` +\r\n    `loop,open,required,reversed,scoped,seamless,` +\r\n    `checked,muted,multiple,selected`);\r\nconst unsafeAttrCharRE = /[>/=\"'\\u0009\\u000a\\u000c\\u0020]/;\r\nconst attrValidationCache = {};\r\nfunction isSSRSafeAttrName(name) {\r\n    if (attrValidationCache.hasOwnProperty(name)) {\r\n        return attrValidationCache[name];\r\n    }\r\n    const isUnsafe = unsafeAttrCharRE.test(name);\r\n    if (isUnsafe) {\r\n        console.error(`unsafe attribute name: ${name}`);\r\n    }\r\n    return (attrValidationCache[name] = !isUnsafe);\r\n}\r\nconst propsToAttrMap = {\r\n    acceptCharset: 'accept-charset',\r\n    className: 'class',\r\n    htmlFor: 'for',\r\n    httpEquiv: 'http-equiv'\r\n};\r\n/**\r\n * CSS properties that accept plain numbers\r\n */\r\nconst isNoUnitNumericStyleProp = /*#__PURE__*/ makeMap(`animation-iteration-count,border-image-outset,border-image-slice,` +\r\n    `border-image-width,box-flex,box-flex-group,box-ordinal-group,column-count,` +\r\n    `columns,flex,flex-grow,flex-positive,flex-shrink,flex-negative,flex-order,` +\r\n    `grid-row,grid-row-end,grid-row-span,grid-row-start,grid-column,` +\r\n    `grid-column-end,grid-column-span,grid-column-start,font-weight,line-clamp,` +\r\n    `line-height,opacity,order,orphans,tab-size,widows,z-index,zoom,` +\r\n    // SVG\r\n    `fill-opacity,flood-opacity,stop-opacity,stroke-dasharray,stroke-dashoffset,` +\r\n    `stroke-miterlimit,stroke-opacity,stroke-width`);\r\n/**\r\n * Known attributes, this is used for stringification of runtime static nodes\r\n * so that we don't stringify bindings that cannot be set from HTML.\r\n * Don't also forget to allow `data-*` and `aria-*`!\r\n * Generated from https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes\r\n */\r\nconst isKnownAttr = /*#__PURE__*/ makeMap(`accept,accept-charset,accesskey,action,align,allow,alt,async,` +\r\n    `autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,` +\r\n    `border,buffered,capture,challenge,charset,checked,cite,class,code,` +\r\n    `codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,` +\r\n    `coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,` +\r\n    `disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,` +\r\n    `formaction,formenctype,formmethod,formnovalidate,formtarget,headers,` +\r\n    `height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,` +\r\n    `ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,` +\r\n    `manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,` +\r\n    `open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,` +\r\n    `referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,` +\r\n    `selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,` +\r\n    `start,step,style,summary,tabindex,target,title,translate,type,usemap,` +\r\n    `value,width,wrap`);\n\nfunction normalizeStyle(value) {\r\n    if (isArray(value)) {\r\n        const res = {};\r\n        for (let i = 0; i < value.length; i++) {\r\n            const item = value[i];\r\n            const normalized = normalizeStyle(isString(item) ? parseStringStyle(item) : item);\r\n            if (normalized) {\r\n                for (const key in normalized) {\r\n                    res[key] = normalized[key];\r\n                }\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n    else if (isObject(value)) {\r\n        return value;\r\n    }\r\n}\r\nconst listDelimiterRE = /;(?![^(]*\\))/g;\r\nconst propertyDelimiterRE = /:(.+)/;\r\nfunction parseStringStyle(cssText) {\r\n    const ret = {};\r\n    cssText.split(listDelimiterRE).forEach(item => {\r\n        if (item) {\r\n            const tmp = item.split(propertyDelimiterRE);\r\n            tmp.length > 1 && (ret[tmp[0].trim()] = tmp[1].trim());\r\n        }\r\n    });\r\n    return ret;\r\n}\r\nfunction stringifyStyle(styles) {\r\n    let ret = '';\r\n    if (!styles) {\r\n        return ret;\r\n    }\r\n    for (const key in styles) {\r\n        const value = styles[key];\r\n        const normalizedKey = key.startsWith(`--`) ? key : hyphenate(key);\r\n        if (isString(value) ||\r\n            (typeof value === 'number' && isNoUnitNumericStyleProp(normalizedKey))) {\r\n            // only render valid values\r\n            ret += `${normalizedKey}:${value};`;\r\n        }\r\n    }\r\n    return ret;\r\n}\r\nfunction normalizeClass(value) {\r\n    let res = '';\r\n    if (isString(value)) {\r\n        res = value;\r\n    }\r\n    else if (isArray(value)) {\r\n        for (let i = 0; i < value.length; i++) {\r\n            const normalized = normalizeClass(value[i]);\r\n            if (normalized) {\r\n                res += normalized + ' ';\r\n            }\r\n        }\r\n    }\r\n    else if (isObject(value)) {\r\n        for (const name in value) {\r\n            if (value[name]) {\r\n                res += name + ' ';\r\n            }\r\n        }\r\n    }\r\n    return res.trim();\r\n}\n\n// These tag configs are shared between compiler-dom and runtime-dom, so they\r\n// https://developer.mozilla.org/en-US/docs/Web/HTML/Element\r\nconst HTML_TAGS = 'html,body,base,head,link,meta,style,title,address,article,aside,footer,' +\r\n    'header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,' +\r\n    'figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,' +\r\n    'data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,' +\r\n    'time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,' +\r\n    'canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,' +\r\n    'th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,' +\r\n    'option,output,progress,select,textarea,details,dialog,menu,' +\r\n    'summary,template,blockquote,iframe,tfoot';\r\n// https://developer.mozilla.org/en-US/docs/Web/SVG/Element\r\nconst SVG_TAGS = 'svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,' +\r\n    'defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,' +\r\n    'feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,' +\r\n    'feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,' +\r\n    'feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,' +\r\n    'fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,' +\r\n    'foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,' +\r\n    'mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,' +\r\n    'polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,' +\r\n    'text,textPath,title,tspan,unknown,use,view';\r\nconst VOID_TAGS = 'area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr';\r\nconst isHTMLTag = /*#__PURE__*/ makeMap(HTML_TAGS);\r\nconst isSVGTag = /*#__PURE__*/ makeMap(SVG_TAGS);\r\nconst isVoidTag = /*#__PURE__*/ makeMap(VOID_TAGS);\n\nconst escapeRE = /[\"'&<>]/;\r\nfunction escapeHtml(string) {\r\n    const str = '' + string;\r\n    const match = escapeRE.exec(str);\r\n    if (!match) {\r\n        return str;\r\n    }\r\n    let html = '';\r\n    let escaped;\r\n    let index;\r\n    let lastIndex = 0;\r\n    for (index = match.index; index < str.length; index++) {\r\n        switch (str.charCodeAt(index)) {\r\n            case 34: // \"\r\n                escaped = '&quot;';\r\n                break;\r\n            case 38: // &\r\n                escaped = '&amp;';\r\n                break;\r\n            case 39: // '\r\n                escaped = '&#39;';\r\n                break;\r\n            case 60: // <\r\n                escaped = '&lt;';\r\n                break;\r\n            case 62: // >\r\n                escaped = '&gt;';\r\n                break;\r\n            default:\r\n                continue;\r\n        }\r\n        if (lastIndex !== index) {\r\n            html += str.substring(lastIndex, index);\r\n        }\r\n        lastIndex = index + 1;\r\n        html += escaped;\r\n    }\r\n    return lastIndex !== index ? html + str.substring(lastIndex, index) : html;\r\n}\r\n// https://www.w3.org/TR/html52/syntax.html#comments\r\nconst commentStripRE = /^-?>|<!--|-->|--!>|<!-$/g;\r\nfunction escapeHtmlComment(src) {\r\n    return src.replace(commentStripRE, '');\r\n}\n\nfunction looseCompareArrays(a, b) {\r\n    if (a.length !== b.length)\r\n        return false;\r\n    let equal = true;\r\n    for (let i = 0; equal && i < a.length; i++) {\r\n        equal = looseEqual(a[i], b[i]);\r\n    }\r\n    return equal;\r\n}\r\nfunction looseEqual(a, b) {\r\n    if (a === b)\r\n        return true;\r\n    let aValidType = isDate(a);\r\n    let bValidType = isDate(b);\r\n    if (aValidType || bValidType) {\r\n        return aValidType && bValidType ? a.getTime() === b.getTime() : false;\r\n    }\r\n    aValidType = isArray(a);\r\n    bValidType = isArray(b);\r\n    if (aValidType || bValidType) {\r\n        return aValidType && bValidType ? looseCompareArrays(a, b) : false;\r\n    }\r\n    aValidType = isObject(a);\r\n    bValidType = isObject(b);\r\n    if (aValidType || bValidType) {\r\n        /* istanbul ignore if: this if will probably never be called */\r\n        if (!aValidType || !bValidType) {\r\n            return false;\r\n        }\r\n        const aKeysCount = Object.keys(a).length;\r\n        const bKeysCount = Object.keys(b).length;\r\n        if (aKeysCount !== bKeysCount) {\r\n            return false;\r\n        }\r\n        for (const key in a) {\r\n            const aHasKey = a.hasOwnProperty(key);\r\n            const bHasKey = b.hasOwnProperty(key);\r\n            if ((aHasKey && !bHasKey) ||\r\n                (!aHasKey && bHasKey) ||\r\n                !looseEqual(a[key], b[key])) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    return String(a) === String(b);\r\n}\r\nfunction looseIndexOf(arr, val) {\r\n    return arr.findIndex(item => looseEqual(item, val));\r\n}\n\n/**\r\n * For converting {{ interpolation }} values to displayed strings.\r\n * @private\r\n */\r\nconst toDisplayString = (val) => {\r\n    return val == null\r\n        ? ''\r\n        : isObject(val)\r\n            ? JSON.stringify(val, replacer, 2)\r\n            : String(val);\r\n};\r\nconst replacer = (_key, val) => {\r\n    if (isMap(val)) {\r\n        return {\r\n            [`Map(${val.size})`]: [...val.entries()].reduce((entries, [key, val]) => {\r\n                entries[`${key} =>`] = val;\r\n                return entries;\r\n            }, {})\r\n        };\r\n    }\r\n    else if (isSet(val)) {\r\n        return {\r\n            [`Set(${val.size})`]: [...val.values()]\r\n        };\r\n    }\r\n    else if (isObject(val) && !isArray(val) && !isPlainObject(val)) {\r\n        return String(val);\r\n    }\r\n    return val;\r\n};\n\n/**\r\n * List of @babel/parser plugins that are used for template expression\r\n * transforms and SFC script transforms. By default we enable proposals slated\r\n * for ES2020. This will need to be updated as the spec moves forward.\r\n * Full list at https://babeljs.io/docs/en/next/babel-parser#plugins\r\n */\r\nconst babelParserDefaultPlugins = [\r\n    'bigInt',\r\n    'optionalChaining',\r\n    'nullishCoalescingOperator'\r\n];\r\nconst EMPTY_OBJ = (process.env.NODE_ENV !== 'production')\r\n    ? Object.freeze({})\r\n    : {};\r\nconst EMPTY_ARR = (process.env.NODE_ENV !== 'production') ? Object.freeze([]) : [];\r\nconst NOOP = () => { };\r\n/**\r\n * Always return false.\r\n */\r\nconst NO = () => false;\r\nconst onRE = /^on[^a-z]/;\r\nconst isOn = (key) => onRE.test(key);\r\nconst isModelListener = (key) => key.startsWith('onUpdate:');\r\nconst extend = Object.assign;\r\nconst remove = (arr, el) => {\r\n    const i = arr.indexOf(el);\r\n    if (i > -1) {\r\n        arr.splice(i, 1);\r\n    }\r\n};\r\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\r\nconst hasOwn = (val, key) => hasOwnProperty.call(val, key);\r\nconst isArray = Array.isArray;\r\nconst isMap = (val) => toTypeString(val) === '[object Map]';\r\nconst isSet = (val) => toTypeString(val) === '[object Set]';\r\nconst isDate = (val) => val instanceof Date;\r\nconst isFunction = (val) => typeof val === 'function';\r\nconst isString = (val) => typeof val === 'string';\r\nconst isSymbol = (val) => typeof val === 'symbol';\r\nconst isObject = (val) => val !== null && typeof val === 'object';\r\nconst isPromise = (val) => {\r\n    return isObject(val) && isFunction(val.then) && isFunction(val.catch);\r\n};\r\nconst objectToString = Object.prototype.toString;\r\nconst toTypeString = (value) => objectToString.call(value);\r\nconst toRawType = (value) => {\r\n    // extract \"RawType\" from strings like \"[object RawType]\"\r\n    return toTypeString(value).slice(8, -1);\r\n};\r\nconst isPlainObject = (val) => toTypeString(val) === '[object Object]';\r\nconst isIntegerKey = (key) => isString(key) &&\r\n    key !== 'NaN' &&\r\n    key[0] !== '-' &&\r\n    '' + parseInt(key, 10) === key;\r\nconst isReservedProp = /*#__PURE__*/ makeMap(\r\n// the leading comma is intentional so empty string \"\" is also included\r\n',key,ref,' +\r\n    'onVnodeBeforeMount,onVnodeMounted,' +\r\n    'onVnodeBeforeUpdate,onVnodeUpdated,' +\r\n    'onVnodeBeforeUnmount,onVnodeUnmounted');\r\nconst cacheStringFunction = (fn) => {\r\n    const cache = Object.create(null);\r\n    return ((str) => {\r\n        const hit = cache[str];\r\n        return hit || (cache[str] = fn(str));\r\n    });\r\n};\r\nconst camelizeRE = /-(\\w)/g;\r\n/**\r\n * @private\r\n */\r\nconst camelize = cacheStringFunction((str) => {\r\n    return str.replace(camelizeRE, (_, c) => (c ? c.toUpperCase() : ''));\r\n});\r\nconst hyphenateRE = /\\B([A-Z])/g;\r\n/**\r\n * @private\r\n */\r\nconst hyphenate = cacheStringFunction((str) => str.replace(hyphenateRE, '-$1').toLowerCase());\r\n/**\r\n * @private\r\n */\r\nconst capitalize = cacheStringFunction((str) => str.charAt(0).toUpperCase() + str.slice(1));\r\n/**\r\n * @private\r\n */\r\nconst toHandlerKey = cacheStringFunction((str) => (str ? `on${capitalize(str)}` : ``));\r\n// compare whether a value has changed, accounting for NaN.\r\nconst hasChanged = (value, oldValue) => value !== oldValue && (value === value || oldValue === oldValue);\r\nconst invokeArrayFns = (fns, arg) => {\r\n    for (let i = 0; i < fns.length; i++) {\r\n        fns[i](arg);\r\n    }\r\n};\r\nconst def = (obj, key, value) => {\r\n    Object.defineProperty(obj, key, {\r\n        configurable: true,\r\n        enumerable: false,\r\n        value\r\n    });\r\n};\r\nconst toNumber = (val) => {\r\n    const n = parseFloat(val);\r\n    return isNaN(n) ? val : n;\r\n};\r\nlet _globalThis;\r\nconst getGlobalThis = () => {\r\n    return (_globalThis ||\r\n        (_globalThis =\r\n            typeof globalThis !== 'undefined'\r\n                ? globalThis\r\n                : typeof self !== 'undefined'\r\n                    ? self\r\n                    : typeof window !== 'undefined'\r\n                        ? window\r\n                        : typeof global !== 'undefined'\r\n                            ? global\r\n                            : {}));\r\n};\n\nexport { EMPTY_ARR, EMPTY_OBJ, NO, NOOP, PatchFlagNames, babelParserDefaultPlugins, camelize, capitalize, def, escapeHtml, escapeHtmlComment, extend, generateCodeFrame, getGlobalThis, hasChanged, hasOwn, hyphenate, invokeArrayFns, isArray, isBooleanAttr, isDate, isFunction, isGloballyWhitelisted, isHTMLTag, isIntegerKey, isKnownAttr, isMap, isModelListener, isNoUnitNumericStyleProp, isObject, isOn, isPlainObject, isPromise, isReservedProp, isSSRSafeAttrName, isSVGTag, isSet, isSpecialBooleanAttr, isString, isSymbol, isVoidTag, looseEqual, looseIndexOf, makeMap, normalizeClass, normalizeStyle, objectToString, parseStringStyle, propsToAttrMap, remove, slotFlagsText, stringifyStyle, toDisplayString, toHandlerKey, toNumber, toRawType, toTypeString };\n","import { EMPTY_OBJ, isArray, isMap, isIntegerKey, isSymbol, extend, hasOwn, isObject, hasChanged, makeMap, capitalize, toRawType, def, isFunction, NOOP } from '@vue/shared';\n\nconst targetMap = new WeakMap();\r\nconst effectStack = [];\r\nlet activeEffect;\r\nconst ITERATE_KEY = Symbol((process.env.NODE_ENV !== 'production') ? 'iterate' : '');\r\nconst MAP_KEY_ITERATE_KEY = Symbol((process.env.NODE_ENV !== 'production') ? 'Map key iterate' : '');\r\nfunction isEffect(fn) {\r\n    return fn && fn._isEffect === true;\r\n}\r\nfunction effect(fn, options = EMPTY_OBJ) {\r\n    if (isEffect(fn)) {\r\n        fn = fn.raw;\r\n    }\r\n    const effect = createReactiveEffect(fn, options);\r\n    if (!options.lazy) {\r\n        effect();\r\n    }\r\n    return effect;\r\n}\r\nfunction stop(effect) {\r\n    if (effect.active) {\r\n        cleanup(effect);\r\n        if (effect.options.onStop) {\r\n            effect.options.onStop();\r\n        }\r\n        effect.active = false;\r\n    }\r\n}\r\nlet uid = 0;\r\nfunction createReactiveEffect(fn, options) {\r\n    const effect = function reactiveEffect() {\r\n        if (!effect.active) {\r\n            return fn();\r\n        }\r\n        if (!effectStack.includes(effect)) {\r\n            cleanup(effect);\r\n            try {\r\n                enableTracking();\r\n                effectStack.push(effect);\r\n                activeEffect = effect;\r\n                return fn();\r\n            }\r\n            finally {\r\n                effectStack.pop();\r\n                resetTracking();\r\n                activeEffect = effectStack[effectStack.length - 1];\r\n            }\r\n        }\r\n    };\r\n    effect.id = uid++;\r\n    effect.allowRecurse = !!options.allowRecurse;\r\n    effect._isEffect = true;\r\n    effect.active = true;\r\n    effect.raw = fn;\r\n    effect.deps = [];\r\n    effect.options = options;\r\n    return effect;\r\n}\r\nfunction cleanup(effect) {\r\n    const { deps } = effect;\r\n    if (deps.length) {\r\n        for (let i = 0; i < deps.length; i++) {\r\n            deps[i].delete(effect);\r\n        }\r\n        deps.length = 0;\r\n    }\r\n}\r\nlet shouldTrack = true;\r\nconst trackStack = [];\r\nfunction pauseTracking() {\r\n    trackStack.push(shouldTrack);\r\n    shouldTrack = false;\r\n}\r\nfunction enableTracking() {\r\n    trackStack.push(shouldTrack);\r\n    shouldTrack = true;\r\n}\r\nfunction resetTracking() {\r\n    const last = trackStack.pop();\r\n    shouldTrack = last === undefined ? true : last;\r\n}\r\nfunction track(target, type, key) {\r\n    if (!shouldTrack || activeEffect === undefined) {\r\n        return;\r\n    }\r\n    let depsMap = targetMap.get(target);\r\n    if (!depsMap) {\r\n        targetMap.set(target, (depsMap = new Map()));\r\n    }\r\n    let dep = depsMap.get(key);\r\n    if (!dep) {\r\n        depsMap.set(key, (dep = new Set()));\r\n    }\r\n    if (!dep.has(activeEffect)) {\r\n        dep.add(activeEffect);\r\n        activeEffect.deps.push(dep);\r\n        if ((process.env.NODE_ENV !== 'production') && activeEffect.options.onTrack) {\r\n            activeEffect.options.onTrack({\r\n                effect: activeEffect,\r\n                target,\r\n                type,\r\n                key\r\n            });\r\n        }\r\n    }\r\n}\r\nfunction trigger(target, type, key, newValue, oldValue, oldTarget) {\r\n    const depsMap = targetMap.get(target);\r\n    if (!depsMap) {\r\n        // never been tracked\r\n        return;\r\n    }\r\n    const effects = new Set();\r\n    const add = (effectsToAdd) => {\r\n        if (effectsToAdd) {\r\n            effectsToAdd.forEach(effect => {\r\n                if (effect !== activeEffect || effect.allowRecurse) {\r\n                    effects.add(effect);\r\n                }\r\n            });\r\n        }\r\n    };\r\n    if (type === \"clear\" /* CLEAR */) {\r\n        // collection being cleared\r\n        // trigger all effects for target\r\n        depsMap.forEach(add);\r\n    }\r\n    else if (key === 'length' && isArray(target)) {\r\n        depsMap.forEach((dep, key) => {\r\n            if (key === 'length' || key >= newValue) {\r\n                add(dep);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        // schedule runs for SET | ADD | DELETE\r\n        if (key !== void 0) {\r\n            add(depsMap.get(key));\r\n        }\r\n        // also run for iteration key on ADD | DELETE | Map.SET\r\n        switch (type) {\r\n            case \"add\" /* ADD */:\r\n                if (!isArray(target)) {\r\n                    add(depsMap.get(ITERATE_KEY));\r\n                    if (isMap(target)) {\r\n                        add(depsMap.get(MAP_KEY_ITERATE_KEY));\r\n                    }\r\n                }\r\n                else if (isIntegerKey(key)) {\r\n                    // new index added to array -> length changes\r\n                    add(depsMap.get('length'));\r\n                }\r\n                break;\r\n            case \"delete\" /* DELETE */:\r\n                if (!isArray(target)) {\r\n                    add(depsMap.get(ITERATE_KEY));\r\n                    if (isMap(target)) {\r\n                        add(depsMap.get(MAP_KEY_ITERATE_KEY));\r\n                    }\r\n                }\r\n                break;\r\n            case \"set\" /* SET */:\r\n                if (isMap(target)) {\r\n                    add(depsMap.get(ITERATE_KEY));\r\n                }\r\n                break;\r\n        }\r\n    }\r\n    const run = (effect) => {\r\n        if ((process.env.NODE_ENV !== 'production') && effect.options.onTrigger) {\r\n            effect.options.onTrigger({\r\n                effect,\r\n                target,\r\n                key,\r\n                type,\r\n                newValue,\r\n                oldValue,\r\n                oldTarget\r\n            });\r\n        }\r\n        if (effect.options.scheduler) {\r\n            effect.options.scheduler(effect);\r\n        }\r\n        else {\r\n            effect();\r\n        }\r\n    };\r\n    effects.forEach(run);\r\n}\n\nconst isNonTrackableKeys = /*#__PURE__*/ makeMap(`__proto__,__v_isRef,__isVue`);\r\nconst builtInSymbols = new Set(Object.getOwnPropertyNames(Symbol)\r\n    .map(key => Symbol[key])\r\n    .filter(isSymbol));\r\nconst get = /*#__PURE__*/ createGetter();\r\nconst shallowGet = /*#__PURE__*/ createGetter(false, true);\r\nconst readonlyGet = /*#__PURE__*/ createGetter(true);\r\nconst shallowReadonlyGet = /*#__PURE__*/ createGetter(true, true);\r\nconst arrayInstrumentations = /*#__PURE__*/ createArrayInstrumentations();\r\nfunction createArrayInstrumentations() {\r\n    const instrumentations = {};\r\n    ['includes', 'indexOf', 'lastIndexOf'].forEach(key => {\r\n        instrumentations[key] = function (...args) {\r\n            const arr = toRaw(this);\r\n            for (let i = 0, l = this.length; i < l; i++) {\r\n                track(arr, \"get\" /* GET */, i + '');\r\n            }\r\n            // we run the method using the original args first (which may be reactive)\r\n            const res = arr[key](...args);\r\n            if (res === -1 || res === false) {\r\n                // if that didn't work, run it again using raw values.\r\n                return arr[key](...args.map(toRaw));\r\n            }\r\n            else {\r\n                return res;\r\n            }\r\n        };\r\n    });\r\n    ['push', 'pop', 'shift', 'unshift', 'splice'].forEach(key => {\r\n        instrumentations[key] = function (...args) {\r\n            pauseTracking();\r\n            const res = toRaw(this)[key].apply(this, args);\r\n            resetTracking();\r\n            return res;\r\n        };\r\n    });\r\n    return instrumentations;\r\n}\r\nfunction createGetter(isReadonly = false, shallow = false) {\r\n    return function get(target, key, receiver) {\r\n        if (key === \"__v_isReactive\" /* IS_REACTIVE */) {\r\n            return !isReadonly;\r\n        }\r\n        else if (key === \"__v_isReadonly\" /* IS_READONLY */) {\r\n            return isReadonly;\r\n        }\r\n        else if (key === \"__v_raw\" /* RAW */ &&\r\n            receiver ===\r\n                (isReadonly\r\n                    ? shallow\r\n                        ? shallowReadonlyMap\r\n                        : readonlyMap\r\n                    : shallow\r\n                        ? shallowReactiveMap\r\n                        : reactiveMap).get(target)) {\r\n            return target;\r\n        }\r\n        const targetIsArray = isArray(target);\r\n        if (!isReadonly && targetIsArray && hasOwn(arrayInstrumentations, key)) {\r\n            return Reflect.get(arrayInstrumentations, key, receiver);\r\n        }\r\n        const res = Reflect.get(target, key, receiver);\r\n        if (isSymbol(key) ? builtInSymbols.has(key) : isNonTrackableKeys(key)) {\r\n            return res;\r\n        }\r\n        if (!isReadonly) {\r\n            track(target, \"get\" /* GET */, key);\r\n        }\r\n        if (shallow) {\r\n            return res;\r\n        }\r\n        if (isRef(res)) {\r\n            // ref unwrapping - does not apply for Array + integer key.\r\n            const shouldUnwrap = !targetIsArray || !isIntegerKey(key);\r\n            return shouldUnwrap ? res.value : res;\r\n        }\r\n        if (isObject(res)) {\r\n            // Convert returned value into a proxy as well. we do the isObject check\r\n            // here to avoid invalid value warning. Also need to lazy access readonly\r\n            // and reactive here to avoid circular dependency.\r\n            return isReadonly ? readonly(res) : reactive(res);\r\n        }\r\n        return res;\r\n    };\r\n}\r\nconst set = /*#__PURE__*/ createSetter();\r\nconst shallowSet = /*#__PURE__*/ createSetter(true);\r\nfunction createSetter(shallow = false) {\r\n    return function set(target, key, value, receiver) {\r\n        let oldValue = target[key];\r\n        if (!shallow) {\r\n            value = toRaw(value);\r\n            oldValue = toRaw(oldValue);\r\n            if (!isArray(target) && isRef(oldValue) && !isRef(value)) {\r\n                oldValue.value = value;\r\n                return true;\r\n            }\r\n        }\r\n        const hadKey = isArray(target) && isIntegerKey(key)\r\n            ? Number(key) < target.length\r\n            : hasOwn(target, key);\r\n        const result = Reflect.set(target, key, value, receiver);\r\n        // don't trigger if target is something up in the prototype chain of original\r\n        if (target === toRaw(receiver)) {\r\n            if (!hadKey) {\r\n                trigger(target, \"add\" /* ADD */, key, value);\r\n            }\r\n            else if (hasChanged(value, oldValue)) {\r\n                trigger(target, \"set\" /* SET */, key, value, oldValue);\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n}\r\nfunction deleteProperty(target, key) {\r\n    const hadKey = hasOwn(target, key);\r\n    const oldValue = target[key];\r\n    const result = Reflect.deleteProperty(target, key);\r\n    if (result && hadKey) {\r\n        trigger(target, \"delete\" /* DELETE */, key, undefined, oldValue);\r\n    }\r\n    return result;\r\n}\r\nfunction has(target, key) {\r\n    const result = Reflect.has(target, key);\r\n    if (!isSymbol(key) || !builtInSymbols.has(key)) {\r\n        track(target, \"has\" /* HAS */, key);\r\n    }\r\n    return result;\r\n}\r\nfunction ownKeys(target) {\r\n    track(target, \"iterate\" /* ITERATE */, isArray(target) ? 'length' : ITERATE_KEY);\r\n    return Reflect.ownKeys(target);\r\n}\r\nconst mutableHandlers = {\r\n    get,\r\n    set,\r\n    deleteProperty,\r\n    has,\r\n    ownKeys\r\n};\r\nconst readonlyHandlers = {\r\n    get: readonlyGet,\r\n    set(target, key) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            console.warn(`Set operation on key \"${String(key)}\" failed: target is readonly.`, target);\r\n        }\r\n        return true;\r\n    },\r\n    deleteProperty(target, key) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            console.warn(`Delete operation on key \"${String(key)}\" failed: target is readonly.`, target);\r\n        }\r\n        return true;\r\n    }\r\n};\r\nconst shallowReactiveHandlers = /*#__PURE__*/ extend({}, mutableHandlers, {\r\n    get: shallowGet,\r\n    set: shallowSet\r\n});\r\n// Props handlers are special in the sense that it should not unwrap top-level\r\n// refs (in order to allow refs to be explicitly passed down), but should\r\n// retain the reactivity of the normal readonly object.\r\nconst shallowReadonlyHandlers = /*#__PURE__*/ extend({}, readonlyHandlers, {\r\n    get: shallowReadonlyGet\r\n});\n\nconst toReactive = (value) => isObject(value) ? reactive(value) : value;\r\nconst toReadonly = (value) => isObject(value) ? readonly(value) : value;\r\nconst toShallow = (value) => value;\r\nconst getProto = (v) => Reflect.getPrototypeOf(v);\r\nfunction get$1(target, key, isReadonly = false, isShallow = false) {\r\n    // #1772: readonly(reactive(Map)) should return readonly + reactive version\r\n    // of the value\r\n    target = target[\"__v_raw\" /* RAW */];\r\n    const rawTarget = toRaw(target);\r\n    const rawKey = toRaw(key);\r\n    if (key !== rawKey) {\r\n        !isReadonly && track(rawTarget, \"get\" /* GET */, key);\r\n    }\r\n    !isReadonly && track(rawTarget, \"get\" /* GET */, rawKey);\r\n    const { has } = getProto(rawTarget);\r\n    const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\r\n    if (has.call(rawTarget, key)) {\r\n        return wrap(target.get(key));\r\n    }\r\n    else if (has.call(rawTarget, rawKey)) {\r\n        return wrap(target.get(rawKey));\r\n    }\r\n    else if (target !== rawTarget) {\r\n        // #3602 readonly(reactive(Map))\r\n        // ensure that the nested reactive `Map` can do tracking for itself\r\n        target.get(key);\r\n    }\r\n}\r\nfunction has$1(key, isReadonly = false) {\r\n    const target = this[\"__v_raw\" /* RAW */];\r\n    const rawTarget = toRaw(target);\r\n    const rawKey = toRaw(key);\r\n    if (key !== rawKey) {\r\n        !isReadonly && track(rawTarget, \"has\" /* HAS */, key);\r\n    }\r\n    !isReadonly && track(rawTarget, \"has\" /* HAS */, rawKey);\r\n    return key === rawKey\r\n        ? target.has(key)\r\n        : target.has(key) || target.has(rawKey);\r\n}\r\nfunction size(target, isReadonly = false) {\r\n    target = target[\"__v_raw\" /* RAW */];\r\n    !isReadonly && track(toRaw(target), \"iterate\" /* ITERATE */, ITERATE_KEY);\r\n    return Reflect.get(target, 'size', target);\r\n}\r\nfunction add(value) {\r\n    value = toRaw(value);\r\n    const target = toRaw(this);\r\n    const proto = getProto(target);\r\n    const hadKey = proto.has.call(target, value);\r\n    if (!hadKey) {\r\n        target.add(value);\r\n        trigger(target, \"add\" /* ADD */, value, value);\r\n    }\r\n    return this;\r\n}\r\nfunction set$1(key, value) {\r\n    value = toRaw(value);\r\n    const target = toRaw(this);\r\n    const { has, get } = getProto(target);\r\n    let hadKey = has.call(target, key);\r\n    if (!hadKey) {\r\n        key = toRaw(key);\r\n        hadKey = has.call(target, key);\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        checkIdentityKeys(target, has, key);\r\n    }\r\n    const oldValue = get.call(target, key);\r\n    target.set(key, value);\r\n    if (!hadKey) {\r\n        trigger(target, \"add\" /* ADD */, key, value);\r\n    }\r\n    else if (hasChanged(value, oldValue)) {\r\n        trigger(target, \"set\" /* SET */, key, value, oldValue);\r\n    }\r\n    return this;\r\n}\r\nfunction deleteEntry(key) {\r\n    const target = toRaw(this);\r\n    const { has, get } = getProto(target);\r\n    let hadKey = has.call(target, key);\r\n    if (!hadKey) {\r\n        key = toRaw(key);\r\n        hadKey = has.call(target, key);\r\n    }\r\n    else if ((process.env.NODE_ENV !== 'production')) {\r\n        checkIdentityKeys(target, has, key);\r\n    }\r\n    const oldValue = get ? get.call(target, key) : undefined;\r\n    // forward the operation before queueing reactions\r\n    const result = target.delete(key);\r\n    if (hadKey) {\r\n        trigger(target, \"delete\" /* DELETE */, key, undefined, oldValue);\r\n    }\r\n    return result;\r\n}\r\nfunction clear() {\r\n    const target = toRaw(this);\r\n    const hadItems = target.size !== 0;\r\n    const oldTarget = (process.env.NODE_ENV !== 'production')\r\n        ? isMap(target)\r\n            ? new Map(target)\r\n            : new Set(target)\r\n        : undefined;\r\n    // forward the operation before queueing reactions\r\n    const result = target.clear();\r\n    if (hadItems) {\r\n        trigger(target, \"clear\" /* CLEAR */, undefined, undefined, oldTarget);\r\n    }\r\n    return result;\r\n}\r\nfunction createForEach(isReadonly, isShallow) {\r\n    return function forEach(callback, thisArg) {\r\n        const observed = this;\r\n        const target = observed[\"__v_raw\" /* RAW */];\r\n        const rawTarget = toRaw(target);\r\n        const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\r\n        !isReadonly && track(rawTarget, \"iterate\" /* ITERATE */, ITERATE_KEY);\r\n        return target.forEach((value, key) => {\r\n            // important: make sure the callback is\r\n            // 1. invoked with the reactive map as `this` and 3rd arg\r\n            // 2. the value received should be a corresponding reactive/readonly.\r\n            return callback.call(thisArg, wrap(value), wrap(key), observed);\r\n        });\r\n    };\r\n}\r\nfunction createIterableMethod(method, isReadonly, isShallow) {\r\n    return function (...args) {\r\n        const target = this[\"__v_raw\" /* RAW */];\r\n        const rawTarget = toRaw(target);\r\n        const targetIsMap = isMap(rawTarget);\r\n        const isPair = method === 'entries' || (method === Symbol.iterator && targetIsMap);\r\n        const isKeyOnly = method === 'keys' && targetIsMap;\r\n        const innerIterator = target[method](...args);\r\n        const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\r\n        !isReadonly &&\r\n            track(rawTarget, \"iterate\" /* ITERATE */, isKeyOnly ? MAP_KEY_ITERATE_KEY : ITERATE_KEY);\r\n        // return a wrapped iterator which returns observed versions of the\r\n        // values emitted from the real iterator\r\n        return {\r\n            // iterator protocol\r\n            next() {\r\n                const { value, done } = innerIterator.next();\r\n                return done\r\n                    ? { value, done }\r\n                    : {\r\n                        value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),\r\n                        done\r\n                    };\r\n            },\r\n            // iterable protocol\r\n            [Symbol.iterator]() {\r\n                return this;\r\n            }\r\n        };\r\n    };\r\n}\r\nfunction createReadonlyMethod(type) {\r\n    return function (...args) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            const key = args[0] ? `on key \"${args[0]}\" ` : ``;\r\n            console.warn(`${capitalize(type)} operation ${key}failed: target is readonly.`, toRaw(this));\r\n        }\r\n        return type === \"delete\" /* DELETE */ ? false : this;\r\n    };\r\n}\r\nfunction createInstrumentations() {\r\n    const mutableInstrumentations = {\r\n        get(key) {\r\n            return get$1(this, key);\r\n        },\r\n        get size() {\r\n            return size(this);\r\n        },\r\n        has: has$1,\r\n        add,\r\n        set: set$1,\r\n        delete: deleteEntry,\r\n        clear,\r\n        forEach: createForEach(false, false)\r\n    };\r\n    const shallowInstrumentations = {\r\n        get(key) {\r\n            return get$1(this, key, false, true);\r\n        },\r\n        get size() {\r\n            return size(this);\r\n        },\r\n        has: has$1,\r\n        add,\r\n        set: set$1,\r\n        delete: deleteEntry,\r\n        clear,\r\n        forEach: createForEach(false, true)\r\n    };\r\n    const readonlyInstrumentations = {\r\n        get(key) {\r\n            return get$1(this, key, true);\r\n        },\r\n        get size() {\r\n            return size(this, true);\r\n        },\r\n        has(key) {\r\n            return has$1.call(this, key, true);\r\n        },\r\n        add: createReadonlyMethod(\"add\" /* ADD */),\r\n        set: createReadonlyMethod(\"set\" /* SET */),\r\n        delete: createReadonlyMethod(\"delete\" /* DELETE */),\r\n        clear: createReadonlyMethod(\"clear\" /* CLEAR */),\r\n        forEach: createForEach(true, false)\r\n    };\r\n    const shallowReadonlyInstrumentations = {\r\n        get(key) {\r\n            return get$1(this, key, true, true);\r\n        },\r\n        get size() {\r\n            return size(this, true);\r\n        },\r\n        has(key) {\r\n            return has$1.call(this, key, true);\r\n        },\r\n        add: createReadonlyMethod(\"add\" /* ADD */),\r\n        set: createReadonlyMethod(\"set\" /* SET */),\r\n        delete: createReadonlyMethod(\"delete\" /* DELETE */),\r\n        clear: createReadonlyMethod(\"clear\" /* CLEAR */),\r\n        forEach: createForEach(true, true)\r\n    };\r\n    const iteratorMethods = ['keys', 'values', 'entries', Symbol.iterator];\r\n    iteratorMethods.forEach(method => {\r\n        mutableInstrumentations[method] = createIterableMethod(method, false, false);\r\n        readonlyInstrumentations[method] = createIterableMethod(method, true, false);\r\n        shallowInstrumentations[method] = createIterableMethod(method, false, true);\r\n        shallowReadonlyInstrumentations[method] = createIterableMethod(method, true, true);\r\n    });\r\n    return [\r\n        mutableInstrumentations,\r\n        readonlyInstrumentations,\r\n        shallowInstrumentations,\r\n        shallowReadonlyInstrumentations\r\n    ];\r\n}\r\nconst [mutableInstrumentations, readonlyInstrumentations, shallowInstrumentations, shallowReadonlyInstrumentations] = /* #__PURE__*/ createInstrumentations();\r\nfunction createInstrumentationGetter(isReadonly, shallow) {\r\n    const instrumentations = shallow\r\n        ? isReadonly\r\n            ? shallowReadonlyInstrumentations\r\n            : shallowInstrumentations\r\n        : isReadonly\r\n            ? readonlyInstrumentations\r\n            : mutableInstrumentations;\r\n    return (target, key, receiver) => {\r\n        if (key === \"__v_isReactive\" /* IS_REACTIVE */) {\r\n            return !isReadonly;\r\n        }\r\n        else if (key === \"__v_isReadonly\" /* IS_READONLY */) {\r\n            return isReadonly;\r\n        }\r\n        else if (key === \"__v_raw\" /* RAW */) {\r\n            return target;\r\n        }\r\n        return Reflect.get(hasOwn(instrumentations, key) && key in target\r\n            ? instrumentations\r\n            : target, key, receiver);\r\n    };\r\n}\r\nconst mutableCollectionHandlers = {\r\n    get: /*#__PURE__*/ createInstrumentationGetter(false, false)\r\n};\r\nconst shallowCollectionHandlers = {\r\n    get: /*#__PURE__*/ createInstrumentationGetter(false, true)\r\n};\r\nconst readonlyCollectionHandlers = {\r\n    get: /*#__PURE__*/ createInstrumentationGetter(true, false)\r\n};\r\nconst shallowReadonlyCollectionHandlers = {\r\n    get: /*#__PURE__*/ createInstrumentationGetter(true, true)\r\n};\r\nfunction checkIdentityKeys(target, has, key) {\r\n    const rawKey = toRaw(key);\r\n    if (rawKey !== key && has.call(target, rawKey)) {\r\n        const type = toRawType(target);\r\n        console.warn(`Reactive ${type} contains both the raw and reactive ` +\r\n            `versions of the same object${type === `Map` ? ` as keys` : ``}, ` +\r\n            `which can lead to inconsistencies. ` +\r\n            `Avoid differentiating between the raw and reactive versions ` +\r\n            `of an object and only use the reactive version if possible.`);\r\n    }\r\n}\n\nconst reactiveMap = new WeakMap();\r\nconst shallowReactiveMap = new WeakMap();\r\nconst readonlyMap = new WeakMap();\r\nconst shallowReadonlyMap = new WeakMap();\r\nfunction targetTypeMap(rawType) {\r\n    switch (rawType) {\r\n        case 'Object':\r\n        case 'Array':\r\n            return 1 /* COMMON */;\r\n        case 'Map':\r\n        case 'Set':\r\n        case 'WeakMap':\r\n        case 'WeakSet':\r\n            return 2 /* COLLECTION */;\r\n        default:\r\n            return 0 /* INVALID */;\r\n    }\r\n}\r\nfunction getTargetType(value) {\r\n    return value[\"__v_skip\" /* SKIP */] || !Object.isExtensible(value)\r\n        ? 0 /* INVALID */\r\n        : targetTypeMap(toRawType(value));\r\n}\r\nfunction reactive(target) {\r\n    // if trying to observe a readonly proxy, return the readonly version.\r\n    if (target && target[\"__v_isReadonly\" /* IS_READONLY */]) {\r\n        return target;\r\n    }\r\n    return createReactiveObject(target, false, mutableHandlers, mutableCollectionHandlers, reactiveMap);\r\n}\r\n/**\r\n * Return a shallowly-reactive copy of the original object, where only the root\r\n * level properties are reactive. It also does not auto-unwrap refs (even at the\r\n * root level).\r\n */\r\nfunction shallowReactive(target) {\r\n    return createReactiveObject(target, false, shallowReactiveHandlers, shallowCollectionHandlers, shallowReactiveMap);\r\n}\r\n/**\r\n * Creates a readonly copy of the original object. Note the returned copy is not\r\n * made reactive, but `readonly` can be called on an already reactive object.\r\n */\r\nfunction readonly(target) {\r\n    return createReactiveObject(target, true, readonlyHandlers, readonlyCollectionHandlers, readonlyMap);\r\n}\r\n/**\r\n * Returns a reactive-copy of the original object, where only the root level\r\n * properties are readonly, and does NOT unwrap refs nor recursively convert\r\n * returned properties.\r\n * This is used for creating the props proxy object for stateful components.\r\n */\r\nfunction shallowReadonly(target) {\r\n    return createReactiveObject(target, true, shallowReadonlyHandlers, shallowReadonlyCollectionHandlers, shallowReadonlyMap);\r\n}\r\nfunction createReactiveObject(target, isReadonly, baseHandlers, collectionHandlers, proxyMap) {\r\n    if (!isObject(target)) {\r\n        if ((process.env.NODE_ENV !== 'production')) {\r\n            console.warn(`value cannot be made reactive: ${String(target)}`);\r\n        }\r\n        return target;\r\n    }\r\n    // target is already a Proxy, return it.\r\n    // exception: calling readonly() on a reactive object\r\n    if (target[\"__v_raw\" /* RAW */] &&\r\n        !(isReadonly && target[\"__v_isReactive\" /* IS_REACTIVE */])) {\r\n        return target;\r\n    }\r\n    // target already has corresponding Proxy\r\n    const existingProxy = proxyMap.get(target);\r\n    if (existingProxy) {\r\n        return existingProxy;\r\n    }\r\n    // only a whitelist of value types can be observed.\r\n    const targetType = getTargetType(target);\r\n    if (targetType === 0 /* INVALID */) {\r\n        return target;\r\n    }\r\n    const proxy = new Proxy(target, targetType === 2 /* COLLECTION */ ? collectionHandlers : baseHandlers);\r\n    proxyMap.set(target, proxy);\r\n    return proxy;\r\n}\r\nfunction isReactive(value) {\r\n    if (isReadonly(value)) {\r\n        return isReactive(value[\"__v_raw\" /* RAW */]);\r\n    }\r\n    return !!(value && value[\"__v_isReactive\" /* IS_REACTIVE */]);\r\n}\r\nfunction isReadonly(value) {\r\n    return !!(value && value[\"__v_isReadonly\" /* IS_READONLY */]);\r\n}\r\nfunction isProxy(value) {\r\n    return isReactive(value) || isReadonly(value);\r\n}\r\nfunction toRaw(observed) {\r\n    return ((observed && toRaw(observed[\"__v_raw\" /* RAW */])) || observed);\r\n}\r\nfunction markRaw(value) {\r\n    def(value, \"__v_skip\" /* SKIP */, true);\r\n    return value;\r\n}\n\nconst convert = (val) => isObject(val) ? reactive(val) : val;\r\nfunction isRef(r) {\r\n    return Boolean(r && r.__v_isRef === true);\r\n}\r\nfunction ref(value) {\r\n    return createRef(value);\r\n}\r\nfunction shallowRef(value) {\r\n    return createRef(value, true);\r\n}\r\nclass RefImpl {\r\n    constructor(value, _shallow = false) {\r\n        this._shallow = _shallow;\r\n        this.__v_isRef = true;\r\n        this._rawValue = _shallow ? value : toRaw(value);\r\n        this._value = _shallow ? value : convert(value);\r\n    }\r\n    get value() {\r\n        track(toRaw(this), \"get\" /* GET */, 'value');\r\n        return this._value;\r\n    }\r\n    set value(newVal) {\r\n        newVal = this._shallow ? newVal : toRaw(newVal);\r\n        if (hasChanged(newVal, this._rawValue)) {\r\n            this._rawValue = newVal;\r\n            this._value = this._shallow ? newVal : convert(newVal);\r\n            trigger(toRaw(this), \"set\" /* SET */, 'value', newVal);\r\n        }\r\n    }\r\n}\r\nfunction createRef(rawValue, shallow = false) {\r\n    if (isRef(rawValue)) {\r\n        return rawValue;\r\n    }\r\n    return new RefImpl(rawValue, shallow);\r\n}\r\nfunction triggerRef(ref) {\r\n    trigger(toRaw(ref), \"set\" /* SET */, 'value', (process.env.NODE_ENV !== 'production') ? ref.value : void 0);\r\n}\r\nfunction unref(ref) {\r\n    return isRef(ref) ? ref.value : ref;\r\n}\r\nconst shallowUnwrapHandlers = {\r\n    get: (target, key, receiver) => unref(Reflect.get(target, key, receiver)),\r\n    set: (target, key, value, receiver) => {\r\n        const oldValue = target[key];\r\n        if (isRef(oldValue) && !isRef(value)) {\r\n            oldValue.value = value;\r\n            return true;\r\n        }\r\n        else {\r\n            return Reflect.set(target, key, value, receiver);\r\n        }\r\n    }\r\n};\r\nfunction proxyRefs(objectWithRefs) {\r\n    return isReactive(objectWithRefs)\r\n        ? objectWithRefs\r\n        : new Proxy(objectWithRefs, shallowUnwrapHandlers);\r\n}\r\nclass CustomRefImpl {\r\n    constructor(factory) {\r\n        this.__v_isRef = true;\r\n        const { get, set } = factory(() => track(this, \"get\" /* GET */, 'value'), () => trigger(this, \"set\" /* SET */, 'value'));\r\n        this._get = get;\r\n        this._set = set;\r\n    }\r\n    get value() {\r\n        return this._get();\r\n    }\r\n    set value(newVal) {\r\n        this._set(newVal);\r\n    }\r\n}\r\nfunction customRef(factory) {\r\n    return new CustomRefImpl(factory);\r\n}\r\nfunction toRefs(object) {\r\n    if ((process.env.NODE_ENV !== 'production') && !isProxy(object)) {\r\n        console.warn(`toRefs() expects a reactive object but received a plain one.`);\r\n    }\r\n    const ret = isArray(object) ? new Array(object.length) : {};\r\n    for (const key in object) {\r\n        ret[key] = toRef(object, key);\r\n    }\r\n    return ret;\r\n}\r\nclass ObjectRefImpl {\r\n    constructor(_object, _key) {\r\n        this._object = _object;\r\n        this._key = _key;\r\n        this.__v_isRef = true;\r\n    }\r\n    get value() {\r\n        return this._object[this._key];\r\n    }\r\n    set value(newVal) {\r\n        this._object[this._key] = newVal;\r\n    }\r\n}\r\nfunction toRef(object, key) {\r\n    return isRef(object[key])\r\n        ? object[key]\r\n        : new ObjectRefImpl(object, key);\r\n}\n\nclass ComputedRefImpl {\r\n    constructor(getter, _setter, isReadonly) {\r\n        this._setter = _setter;\r\n        this._dirty = true;\r\n        this.__v_isRef = true;\r\n        this.effect = effect(getter, {\r\n            lazy: true,\r\n            scheduler: () => {\r\n                if (!this._dirty) {\r\n                    this._dirty = true;\r\n                    trigger(toRaw(this), \"set\" /* SET */, 'value');\r\n                }\r\n            }\r\n        });\r\n        this[\"__v_isReadonly\" /* IS_READONLY */] = isReadonly;\r\n    }\r\n    get value() {\r\n        // the computed ref may get wrapped by other proxies e.g. readonly() #3376\r\n        const self = toRaw(this);\r\n        if (self._dirty) {\r\n            self._value = this.effect();\r\n            self._dirty = false;\r\n        }\r\n        track(self, \"get\" /* GET */, 'value');\r\n        return self._value;\r\n    }\r\n    set value(newValue) {\r\n        this._setter(newValue);\r\n    }\r\n}\r\nfunction computed(getterOrOptions) {\r\n    let getter;\r\n    let setter;\r\n    if (isFunction(getterOrOptions)) {\r\n        getter = getterOrOptions;\r\n        setter = (process.env.NODE_ENV !== 'production')\r\n            ? () => {\r\n                console.warn('Write operation failed: computed value is readonly');\r\n            }\r\n            : NOOP;\r\n    }\r\n    else {\r\n        getter = getterOrOptions.get;\r\n        setter = getterOrOptions.set;\r\n    }\r\n    return new ComputedRefImpl(getter, setter, isFunction(getterOrOptions) || !getterOrOptions.set);\r\n}\n\nexport { ITERATE_KEY, computed, customRef, effect, enableTracking, isProxy, isReactive, isReadonly, isRef, markRaw, pauseTracking, proxyRefs, reactive, readonly, ref, resetTracking, shallowReactive, shallowReadonly, shallowRef, stop, toRaw, toRef, toRefs, track, trigger, triggerRef, unref };\n","import { nextTick } from '../nextTick'\r\nimport { magic } from '../magics'\r\n\r\nmagic('nextTick', () => nextTick)\r\n","import { dispatch } from '../utils/dispatch'\r\nimport { magic } from '../magics'\r\n\r\nmagic('dispatch', el => dispatch.bind(dispatch, el))\r\n","import { magic } from '../magics'\r\n\r\nmagic('watch', (el, { evaluateLater, effect }) => (key, callback) => {\r\n    let evaluate = evaluateLater(key)\r\n\r\n    let firstTime = true\r\n\r\n    let oldValue\r\n\r\n    let effectReference = effect(() => evaluate(value => {\r\n        // JSON.stringify touches every single property at any level enabling deep watching\r\n        JSON.stringify(value)\r\n\r\n        if (! firstTime) {\r\n            // We have to queue this watcher as a microtask so that\r\n            // the watcher doesn't pick up its own dependencies.\r\n            queueMicrotask(() => {\r\n                callback(value, oldValue)\r\n\r\n                oldValue = value\r\n            })\r\n        } else {\r\n            oldValue = value\r\n        }\r\n\r\n        firstTime = false\r\n    }))\r\n\r\n    // We want to remove this effect from the list of effects\r\n    // stored on an element. Livewire uses that list to\r\n    // \"re-run\" Alpine effects after a page load. A \"watcher\"\r\n    // shuldn't be re-run like that. It will cause infinite loops.\r\n    el._x_effects.delete(effectReference)\r\n})\r\n","import { getStores } from '../store'\r\nimport { magic } from '../magics'\r\n\r\nmagic('store', getStores)\r\n","import { scope } from '../scope'\r\nimport { magic } from '../magics'\r\n\r\nmagic('data', el => scope(el))\r\n","import { closestRoot } from \"../lifecycle\";\r\nimport { magic } from \"../magics\";\r\n\r\nmagic('root', el => closestRoot(el))\r\n","import { closestRoot } from '../lifecycle'\r\nimport { mergeProxies } from '../scope'\r\nimport { magic } from '../magics'\r\n\r\nmagic('refs', el => {\r\n    if (el._x_refs_proxy) return el._x_refs_proxy\r\n\r\n    el._x_refs_proxy = mergeProxies(getArrayOfRefObject(el))\r\n\r\n    return el._x_refs_proxy\r\n})\r\n\r\nfunction getArrayOfRefObject(el) {\r\n    let refObjects = []\r\n\r\n    let currentEl = el\r\n\r\n    while (currentEl) {\r\n        if (currentEl._x_refs) refObjects.push(currentEl._x_refs)\r\n\r\n        currentEl = currentEl.parentNode\r\n    }\r\n\r\n    return refObjects\r\n}\r\n","import { findClosest } from './lifecycle'\r\n\r\nlet globalIdMemo = {}\r\n\r\nexport function findAndIncrementId(name) {\r\n    if (! globalIdMemo[name]) globalIdMemo[name] = 0\r\n\r\n    return ++globalIdMemo[name]\r\n}\r\n\r\nexport function closestIdRoot(el, name) {\r\n    return findClosest(el, element => {\r\n        if (element._x_ids && element._x_ids[name]) return true\r\n    })\r\n}\r\n\r\nexport function setIdRoot(el, name) {\r\n    if (! el._x_ids) el._x_ids = {}\r\n    if (! el._x_ids[name]) el._x_ids[name] = findAndIncrementId(name) \r\n}\r\n","import { warn } from '../utils/warn'\r\nimport { magic } from '../magics'\r\n\r\nimport './$nextTick'\r\nimport './$dispatch'\r\nimport './$watch'\r\nimport './$store'\r\nimport './$data'\r\nimport './$root'\r\nimport './$refs'\r\nimport './$id'\r\nimport './$el'\r\n\r\n// Register warnings for people using plugin syntaxes and not loading the plugin itself:\r\nwarnMissingPluginMagic('Focus', 'focus', 'focus')\r\nwarnMissingPluginMagic('Persist', 'persist', 'persist')\r\n\r\nfunction warnMissingPluginMagic(name, magicName, slug) {\r\n    magic(magicName, (el) => warn(`You can't use [$${directiveName}] without first installing the \"${name}\" plugin here: https://alpinejs.dev/plugins/${slug}`, el))\r\n}\r\n","import { effect, release } from './reactivity'\r\n\r\nexport function entangle({ get: outerGet, set: outerSet }, { get: innerGet, set: innerSet }) {\r\n    let firstRun = true\r\n    let outerHash, innerHash, outerHashLatest, innerHashLatest\r\n\r\n    let reference = effect(() => {\r\n        let outer, inner\r\n\r\n        if (firstRun) {\r\n            outer = outerGet()\r\n            innerSet(outer)\r\n            inner = innerGet()\r\n            firstRun = false\r\n        } else {\r\n            outer = outerGet()\r\n            inner = innerGet()\r\n\r\n            outerHashLatest = JSON.stringify(outer)\r\n            innerHashLatest = JSON.stringify(inner)\r\n\r\n            if (outerHashLatest !== outerHash) { // If outer changed...\r\n                inner = innerGet()\r\n                innerSet(outer)\r\n                inner = outer // Assign inner to outer so that it can be serialized for diffing...\r\n            } else { // If inner changed...\r\n                outerSet(inner)\r\n                outer = inner // Assign outer to inner so that it can be serialized for diffing...\r\n            }\r\n        }\r\n\r\n        // Re serialize values...\r\n        outerHash = JSON.stringify(outer)\r\n        innerHash = JSON.stringify(inner)\r\n    })\r\n\r\n    return () => {\r\n        release(reference)\r\n    }\r\n}\r\n","import { magic } from '../magics'\r\nimport { closestIdRoot, findAndIncrementId } from '../ids'\r\n\r\nmagic('id', el => (name, key = null) => {\r\n    let root = closestIdRoot(el, name)\r\n\r\n    let id = root\r\n        ? root._x_ids[name]\r\n        : findAndIncrementId(name)\r\n\r\n    return key\r\n        ? `${name}-${id}-${key}`\r\n        : `${name}-${id}`\r\n})\r\n","import { magic } from \"../magics\";\r\n\r\nmagic('el', el => el)\r\n","import { directive } from '../directives'\r\nimport { entangle } from '../entangle';\r\n\r\ndirective('modelable', (el, { expression }, { effect, evaluateLater, cleanup }) => {\r\n    let func = evaluateLater(expression)\r\n    let innerGet = () => { let result; func(i => result = i); return result; }\r\n    let evaluateInnerSet = evaluateLater(`${expression} = __placeholder`)\r\n    let innerSet = val => evaluateInnerSet(() => {}, { scope: { '__placeholder': val }})\r\n\r\n    let initialValue = innerGet()\r\n\r\n    innerSet(initialValue)\r\n\r\n    queueMicrotask(() => {\r\n        if (! el._x_model) return\r\n\r\n        // Remove native event listeners as these are now bound with x-modelable.\r\n        // The reason for this is that it's often useful to wrap <input> elements\r\n        // in x-modelable/model, but the input events from the native input\r\n        // override any functionality added by x-modelable causing confusion.\r\n        el._x_removeModelListeners['default']()\r\n\r\n        let outerGet = el._x_model.get\r\n        let outerSet = el._x_model.set\r\n\r\n        let releaseEntanglement = entangle(\r\n            {\r\n                get() { return outerGet() },\r\n                set(value) { outerSet(value) },\r\n            },\r\n            {\r\n                get() { return innerGet() },\r\n                set(value) { innerSet(value) },\r\n            },\r\n        )\r\n\r\n        cleanup(releaseEntanglement)\r\n    })\r\n})\r\n","import { onlyDuringClone, skipDuringClone } from \"../clone\"\r\nimport { directive } from \"../directives\"\r\nimport { addInitSelector, initTree } from \"../lifecycle\"\r\nimport { mutateDom } from \"../mutation\"\r\nimport { addScopeToNode } from \"../scope\"\r\nimport { warn } from \"../utils/warn\"\r\n\r\nlet teleportContainerDuringClone = document.createElement('div')\r\n\r\ndirective('teleport', (el, { modifiers, expression }, { cleanup }) => {\r\n    if (el.tagName.toLowerCase() !== 'template') warn('x-teleport can only be used on a <template> tag', el)\r\n\r\n    let target = skipDuringClone(() => {\r\n        return document.querySelector(expression)\r\n    }, () => {\r\n        return teleportContainerDuringClone\r\n    })()\r\n\r\n    if (! target) warn(`Cannot find x-teleport element for selector: \"${expression}\"`)\r\n\r\n    let clone = el.content.cloneNode(true).firstElementChild\r\n\r\n    // Add reference to element on <template x-teleport, and visa versa.\r\n    el._x_teleport = clone\r\n    clone._x_teleportBack = el\r\n\r\n    // Forward event listeners:\r\n    if (el._x_forwardEvents) {\r\n        el._x_forwardEvents.forEach(eventName => {\r\n            clone.addEventListener(eventName, e => {\r\n                e.stopPropagation()\r\n\r\n                el.dispatchEvent(new e.constructor(e.type, e))\r\n            })\r\n        })\r\n    }\r\n\r\n    addScopeToNode(clone, {}, el)\r\n\r\n    mutateDom(() => {\r\n        if (modifiers.includes('prepend')) {\r\n            // insert element before the target\r\n            target.parentNode.insertBefore(clone, target)\r\n        } else if (modifiers.includes('append')) {\r\n            // insert element after the target\r\n            target.parentNode.insertBefore(clone, target.nextSibling)\r\n        } else {\r\n            // origin\r\n            target.appendChild(clone)\r\n        }\r\n\r\n        initTree(clone)\r\n\r\n        clone._x_ignore = true\r\n    })\r\n\r\n    cleanup(() => clone.remove())\r\n})\r\n","import { directive } from \"../directives\"\r\n\r\nlet handler = () => {}\r\n\r\nhandler.inline = (el, { modifiers }, { cleanup }) => {\r\n    modifiers.includes('self')\r\n        ? el._x_ignoreSelf = true\r\n        : el._x_ignore = true\r\n\r\n    cleanup(() => {\r\n        modifiers.includes('self')\r\n            ? delete el._x_ignoreSelf\r\n            : delete el._x_ignore\r\n    })\r\n}\r\n\r\ndirective('ignore', handler)\r\n","import { debounce } from './debounce'\r\nimport { throttle } from './throttle'\r\n\r\nexport default function on (el, event, modifiers, callback) {\r\n    let listenerTarget = el\r\n\r\n    let handler = e => callback(e)\r\n\r\n    let options = {}\r\n\r\n    // This little helper allows us to add functionality to the listener's\r\n    // handler more flexibly in a \"middleware\" style.\r\n    let wrapHandler = (callback, wrapper) => (e) => wrapper(callback, e)\r\n\r\n    if (modifiers.includes(\"dot\")) event = dotSyntax(event)\r\n    if (modifiers.includes('camel')) event = camelCase(event)\r\n    if (modifiers.includes('passive')) options.passive = true\r\n    if (modifiers.includes('capture')) options.capture = true\r\n    if (modifiers.includes('window')) listenerTarget = window\r\n    if (modifiers.includes('document')) listenerTarget = document\r\n    if (modifiers.includes('prevent')) handler = wrapHandler(handler, (next, e) => { e.preventDefault(); next(e) })\r\n    if (modifiers.includes('stop')) handler = wrapHandler(handler, (next, e) => { e.stopPropagation(); next(e) })\r\n    if (modifiers.includes('self')) handler = wrapHandler(handler, (next, e) => { e.target === el && next(e) })\r\n\r\n    if (modifiers.includes('away') || modifiers.includes('outside')) {\r\n        listenerTarget = document\r\n\r\n        handler = wrapHandler(handler, (next, e) => {\r\n            if (el.contains(e.target)) return\r\n\r\n            if (e.target.isConnected === false) return\r\n\r\n            if (el.offsetWidth < 1 && el.offsetHeight < 1) return\r\n\r\n            // Additional check for special implementations like x-collapse\r\n            // where the element doesn't have display: none\r\n            if (el._x_isShown === false) return\r\n\r\n            next(e)\r\n        })\r\n    }\r\n\r\n    if (modifiers.includes('once')) {\r\n        handler = wrapHandler(handler, (next, e) => {\r\n            next(e)\r\n\r\n            listenerTarget.removeEventListener(event, handler, options)\r\n        })\r\n    }\r\n\r\n    // Handle :keydown and :keyup listeners.\r\n    handler = wrapHandler(handler, (next, e) => {\r\n        if (isKeyEvent(event)) {\r\n            if (isListeningForASpecificKeyThatHasntBeenPressed(e, modifiers)) {\r\n                return\r\n            }\r\n        }\r\n\r\n        next(e)\r\n    })\r\n\r\n    if (modifiers.includes('debounce')) {\r\n        let nextModifier = modifiers[modifiers.indexOf('debounce')+1] || 'invalid-wait'\r\n        let wait = isNumeric(nextModifier.split('ms')[0]) ? Number(nextModifier.split('ms')[0]) : 250\r\n\r\n        handler = debounce(handler, wait)\r\n    }\r\n\r\n    if (modifiers.includes('throttle')) {\r\n        let nextModifier = modifiers[modifiers.indexOf('throttle')+1] || 'invalid-wait'\r\n        let wait = isNumeric(nextModifier.split('ms')[0]) ? Number(nextModifier.split('ms')[0]) : 250\r\n\r\n        handler = throttle(handler, wait)\r\n    }\r\n\r\n    listenerTarget.addEventListener(event, handler, options)\r\n\r\n    return () => {\r\n        listenerTarget.removeEventListener(event, handler, options)\r\n    }\r\n}\r\n\r\nfunction dotSyntax(subject) {\r\n    return subject.replace(/-/g, \".\")\r\n}\r\n\r\nfunction camelCase(subject) {\r\n    return subject.toLowerCase().replace(/-(\\w)/g, (match, char) => char.toUpperCase())\r\n}\r\n\r\nfunction isNumeric(subject){\r\n    return ! Array.isArray(subject) && ! isNaN(subject)\r\n}\r\n\r\nfunction kebabCase(subject) {\r\n    if ([' ','_'].includes(subject\r\n    )) return subject\r\n    return subject.replace(/([a-z])([A-Z])/g, '$1-$2').replace(/[_\\s]/, '-').toLowerCase()\r\n}\r\n\r\nfunction isKeyEvent(event) {\r\n    return ['keydown', 'keyup'].includes(event)\r\n}\r\n\r\nfunction isListeningForASpecificKeyThatHasntBeenPressed(e, modifiers) {\r\n    let keyModifiers = modifiers.filter(i => {\r\n        return ! ['window', 'document', 'prevent', 'stop', 'once', 'capture'].includes(i)\r\n    })\r\n\r\n    if (keyModifiers.includes('debounce')) {\r\n        let debounceIndex = keyModifiers.indexOf('debounce')\r\n        keyModifiers.splice(debounceIndex, isNumeric((keyModifiers[debounceIndex+1] || 'invalid-wait').split('ms')[0]) ? 2 : 1)\r\n    }\r\n\r\n    if (keyModifiers.includes('throttle')) {\r\n        let debounceIndex = keyModifiers.indexOf('throttle')\r\n        keyModifiers.splice(debounceIndex, isNumeric((keyModifiers[debounceIndex+1] || 'invalid-wait').split('ms')[0]) ? 2 : 1)\r\n    }\r\n\r\n    // If no modifier is specified, we'll call it a press.\r\n    if (keyModifiers.length === 0) return false\r\n\r\n    // If one is passed, AND it matches the key pressed, we'll call it a press.\r\n    if (keyModifiers.length === 1 && keyToModifiers(e.key).includes(keyModifiers[0])) return false\r\n\r\n    // The user is listening for key combinations.\r\n    const systemKeyModifiers = ['ctrl', 'shift', 'alt', 'meta', 'cmd', 'super']\r\n    const selectedSystemKeyModifiers = systemKeyModifiers.filter(modifier => keyModifiers.includes(modifier))\r\n\r\n    keyModifiers = keyModifiers.filter(i => ! selectedSystemKeyModifiers.includes(i))\r\n\r\n    if (selectedSystemKeyModifiers.length > 0) {\r\n        const activelyPressedKeyModifiers = selectedSystemKeyModifiers.filter(modifier => {\r\n            // Alias \"cmd\" and \"super\" to \"meta\"\r\n            if (modifier === 'cmd' || modifier === 'super') modifier = 'meta'\r\n\r\n            return e[`${modifier}Key`]\r\n        })\r\n\r\n        // If all the modifiers selected are pressed, ...\r\n        if (activelyPressedKeyModifiers.length === selectedSystemKeyModifiers.length) {\r\n            // AND the remaining key is pressed as well. It's a press.\r\n            if (keyToModifiers(e.key).includes(keyModifiers[0])) return false\r\n        }\r\n    }\r\n\r\n    // We'll call it NOT a valid keypress.\r\n    return true\r\n}\r\n\r\nfunction keyToModifiers(key) {\r\n    if (! key) return []\r\n\r\n    key = kebabCase(key)\r\n\r\n    let modifierToKeyMap = {\r\n        'ctrl': 'control',\r\n        'slash': '/',\r\n        'space': ' ',\r\n        'spacebar': ' ',\r\n        'cmd': 'meta',\r\n        'esc': 'escape',\r\n        'up': 'arrow-up',\r\n        'down': 'arrow-down',\r\n        'left': 'arrow-left',\r\n        'right': 'arrow-right',\r\n        'period': '.',\r\n        'equal': '=',\r\n        'minus': '-',\r\n        'underscore': '_',\r\n    }\r\n\r\n    modifierToKeyMap[key] = key\r\n\r\n    return Object.keys(modifierToKeyMap).map(modifier => {\r\n        if (modifierToKeyMap[modifier] === key) return modifier\r\n    }).filter(modifier => modifier)\r\n}\r\n","import { evaluateLater } from '../evaluator'\r\nimport { directive } from '../directives'\r\nimport { mutateDom } from '../mutation'\r\nimport { nextTick } from '../nextTick'\r\nimport bind from '../utils/bind'\r\nimport on from '../utils/on'\r\nimport { warn } from '../utils/warn'\r\nimport { isCloning } from '../clone'\r\n\r\ndirective('model', (el, { modifiers, expression }, { effect, cleanup }) => {\r\n    let scopeTarget = el\r\n\r\n    if (modifiers.includes('parent')) {\r\n        scopeTarget = el.parentNode\r\n    }\r\n\r\n    let evaluateGet = evaluateLater(scopeTarget, expression)\r\n    let evaluateSet\r\n\r\n    if (typeof expression === 'string') {\r\n        evaluateSet = evaluateLater(scopeTarget, `${expression} = __placeholder`)\r\n    } else if (typeof expression === 'function' && typeof expression() === 'string') {\r\n        evaluateSet = evaluateLater(scopeTarget, `${expression()} = __placeholder`)\r\n    } else {\r\n        evaluateSet = () => {}\r\n    }\r\n\r\n    let getValue = () => {\r\n        let result\r\n\r\n        evaluateGet(value => result = value)\r\n\r\n        return isGetterSetter(result) ? result.get() : result\r\n    }\r\n\r\n    let setValue = value => {\r\n        let result\r\n\r\n        evaluateGet(value => result = value)\r\n\r\n        if (isGetterSetter(result)) {\r\n            result.set(value)\r\n        } else {\r\n            evaluateSet(() => {}, {\r\n                scope: { '__placeholder': value }\r\n            })\r\n        }\r\n    }\r\n\r\n    if (modifiers.includes('fill') && el.hasAttribute('value') && (getValue() === null || getValue() === '')) {\r\n        setValue(el.value)\r\n    }\r\n    \r\n    if (typeof expression === 'string' && el.type === 'radio') {\r\n        // Radio buttons only work properly when they share a name attribute.\r\n        // People might assume we take care of that for them, because\r\n        // they already set a shared \"x-model\" attribute.\r\n        mutateDom(() => {\r\n            if (! el.hasAttribute('name')) el.setAttribute('name', expression)\r\n        })\r\n    }\r\n\r\n    // If the element we are binding to is a select, a radio, or checkbox\r\n    // we'll listen for the change event instead of the \"input\" event.\r\n    var event = (el.tagName.toLowerCase() === 'select')\r\n        || ['checkbox', 'radio'].includes(el.type)\r\n        || modifiers.includes('lazy')\r\n            ? 'change' : 'input'\r\n\r\n    // We only want to register the event listener when we're not cloning, since the\r\n    // mutation observer handles initializing the x-model directive already when\r\n    // the element is inserted into the DOM. Otherwise we register it twice.\r\n    let removeListener = isCloning ? () => {} : on(el, event, modifiers, (e) => {\r\n        setValue(getInputValue(el, modifiers, e, getValue()))\r\n    })\r\n\r\n    // Register the listener removal callback on the element, so that\r\n    // in addition to the cleanup function, x-modelable may call it.\r\n    // Also, make this a keyed object if we decide to reintroduce\r\n    // \"named modelables\" some time in a future Alpine version.\r\n    if (! el._x_removeModelListeners) el._x_removeModelListeners = {}\r\n    el._x_removeModelListeners['default'] = removeListener\r\n\r\n    cleanup(() => el._x_removeModelListeners['default']())\r\n\r\n    // If the input/select/textarea element is linked to a form\r\n    // we listen for the reset event on the parent form (the event\r\n    // does not trigger on the single inputs) and update\r\n    // on nextTick so the page doesn't end up out of sync\r\n    if (el.form) {\r\n        let removeResetListener = on(el.form, 'reset', [], (e) => {\r\n            nextTick(() => el._x_model && el._x_model.set(el.value))\r\n        })\r\n        cleanup(() => removeResetListener())\r\n    }\r\n\r\n    // Allow programmatic overiding of x-model.\r\n    el._x_model = {\r\n        get() {\r\n            return getValue()\r\n        },\r\n        set(value) {\r\n            setValue(value)\r\n        },\r\n    }\r\n\r\n    el._x_forceModelUpdate = (value) => {\r\n        value = value === undefined ? getValue() : value\r\n\r\n        // If nested model key is undefined, set the default value to empty string.\r\n        if (value === undefined && typeof expression === 'string' && expression.match(/\\./)) value = ''\r\n\r\n        // @todo: This is nasty\r\n        window.fromModel = true\r\n        mutateDom(() => bind(el, 'value', value))\r\n        delete window.fromModel\r\n    }\r\n\r\n    effect(() => {\r\n        // We need to make sure we're always \"getting\" the value up front,\r\n        // so that we don't run into a situation where because of the early\r\n        // the reactive value isn't gotten and therefore disables future reactions.\r\n        let value = getValue()\r\n\r\n        // Don't modify the value of the input if it's focused.\r\n        if (modifiers.includes('unintrusive') && document.activeElement.isSameNode(el)) return\r\n\r\n        el._x_forceModelUpdate(value)\r\n    })\r\n})\r\n\r\nfunction getInputValue(el, modifiers, event, currentValue) {\r\n    return mutateDom(() => {\r\n        // Check for event.detail due to an issue where IE11 handles other events as a CustomEvent.\r\n        // Safari autofill triggers event as CustomEvent and assigns value to target\r\n        // so we return event.target.value instead of event.detail\r\n        if (event instanceof CustomEvent && event.detail !== undefined) {\r\n            return typeof event.detail != 'undefined' ? event.detail : event.target.value\r\n        } else if (el.type === 'checkbox') {\r\n            // If the data we are binding to is an array, toggle its value inside the array.\r\n            if (Array.isArray(currentValue)) {\r\n                let newValue = modifiers.includes('number') ? safeParseNumber(event.target.value) : event.target.value\r\n\r\n                return event.target.checked ? currentValue.concat([newValue]) : currentValue.filter(el => ! checkedAttrLooseCompare(el, newValue))\r\n            } else {\r\n                return event.target.checked\r\n            }\r\n        } else if (el.tagName.toLowerCase() === 'select' && el.multiple) {\r\n            return modifiers.includes('number')\r\n                ? Array.from(event.target.selectedOptions).map(option => {\r\n                    let rawValue = option.value || option.text\r\n                    return safeParseNumber(rawValue)\r\n                })\r\n                : Array.from(event.target.selectedOptions).map(option => {\r\n                    return option.value || option.text\r\n                })\r\n        } else {\r\n            let rawValue = event.target.value\r\n            return modifiers.includes('number')\r\n                ? safeParseNumber(rawValue)\r\n                : (modifiers.includes('trim') ? rawValue.trim() : rawValue)\r\n        }\r\n    })\r\n}\r\n\r\nfunction safeParseNumber(rawValue) {\r\n    let number = rawValue ? parseFloat(rawValue) : null\r\n\r\n    return isNumeric(number) ? number : rawValue\r\n}\r\n\r\nfunction checkedAttrLooseCompare(valueA, valueB) {\r\n    return valueA == valueB\r\n}\r\n\r\nfunction isNumeric(subject){\r\n    return ! Array.isArray(subject) && ! isNaN(subject)\r\n}\r\n\r\nfunction isGetterSetter(value) {\r\n    return value !== null && typeof value === 'object' && typeof value.get === 'function' && typeof value.set === 'function'\r\n}\r\n","import { addScopeToNode, refreshScope } from '../scope'\r\nimport { evaluateLater } from '../evaluator'\r\nimport { directive } from '../directives'\r\nimport { reactive } from '../reactivity'\r\nimport { initTree } from '../lifecycle'\r\nimport { mutateDom } from '../mutation'\r\nimport { flushJobs } from '../scheduler'\r\nimport { warn } from '../utils/warn'\r\nimport { dequeueJob } from '../scheduler'\r\n\r\ndirective('for', (el, { expression }, { effect, cleanup }) => {\r\n    let iteratorNames = parseForExpression(expression)\r\n\r\n    let evaluateItems = evaluateLater(el, iteratorNames.items)\r\n    let evaluateKey = evaluateLater(el,\r\n        // the x-bind:key expression is stored for our use instead of evaluated.\r\n        el._x_keyExpression || 'index'\r\n    )\r\n\r\n    el._x_prevKeys = []\r\n    el._x_lookup = {}\r\n\r\n    effect(() => loop(el, iteratorNames, evaluateItems, evaluateKey))\r\n\r\n    cleanup(() => {\r\n        Object.values(el._x_lookup).forEach(el => el.remove())\r\n\r\n        delete el._x_prevKeys\r\n        delete el._x_lookup\r\n    })\r\n})\r\n\r\nlet shouldFastRender = true\r\n\r\nfunction loop(el, iteratorNames, evaluateItems, evaluateKey) {\r\n    let isObject = i => typeof i === 'object' && ! Array.isArray(i)\r\n    let templateEl = el\r\n\r\n    evaluateItems(items => {\r\n        // Prepare yourself. There's a lot going on here. Take heart,\r\n        // every bit of complexity in this function was added for\r\n        // the purpose of making Alpine fast with large datas.\r\n\r\n        // Support number literals. Ex: x-for=\"i in 100\"\r\n        if (isNumeric(items) && items >= 0) {\r\n            items = Array.from(Array(items).keys(), i => i + 1)\r\n        }\r\n\r\n        if (items === undefined) items = []\r\n\r\n        let lookup = el._x_lookup\r\n        let prevKeys = el._x_prevKeys\r\n        let scopes = []\r\n        let keys = []\r\n\r\n        // In order to preserve DOM elements (move instead of replace)\r\n        // we need to generate all the keys for every iteration up\r\n        // front. These will be our source of truth for diffing.\r\n        if (isObject(items)) {\r\n            items = Object.entries(items).map(([key, value]) => {\r\n                let scope = getIterationScopeVariables(iteratorNames, value, key, items)\r\n\r\n                evaluateKey(value => keys.push(value), { scope: { index: key, ...scope} })\r\n\r\n                scopes.push(scope)\r\n            })\r\n        } else {\r\n            for (let i = 0; i < items.length; i++) {\r\n                let scope = getIterationScopeVariables(iteratorNames, items[i], i, items)\r\n\r\n                evaluateKey(value => keys.push(value), { scope: { index: i, ...scope} })\r\n\r\n                scopes.push(scope)\r\n            }\r\n        }\r\n\r\n        // Rather than making DOM manipulations inside one large loop, we'll\r\n        // instead track which mutations need to be made in the following\r\n        // arrays. After we're finished, we can batch them at the end.\r\n        let adds = []\r\n        let moves = []\r\n        let removes = []\r\n        let sames = []\r\n\r\n        // First, we track elements that will need to be removed.\r\n        for (let i = 0; i < prevKeys.length; i++) {\r\n            let key = prevKeys[i]\r\n\r\n            if (keys.indexOf(key) === -1) removes.push(key)\r\n        }\r\n\r\n        // Notice we're mutating prevKeys as we go. This makes it\r\n        // so that we can efficiently make incremental comparisons.\r\n        prevKeys = prevKeys.filter(key => ! removes.includes(key))\r\n\r\n        let lastKey = 'template'\r\n\r\n        // This is the important part of the diffing algo. Identifying\r\n        // which keys (future DOM elements) are new, which ones have\r\n        // or haven't moved (noting where they moved to / from).\r\n        for (let i = 0; i < keys.length; i++) {\r\n            let key = keys[i]\r\n\r\n            let prevIndex = prevKeys.indexOf(key)\r\n\r\n            if (prevIndex === -1) {\r\n                // New key found.\r\n                prevKeys.splice(i, 0, key)\r\n\r\n                adds.push([lastKey, i])\r\n            } else if (prevIndex !== i) {\r\n                // A key has moved.\r\n                let keyInSpot = prevKeys.splice(i, 1)[0]\r\n                let keyForSpot = prevKeys.splice(prevIndex - 1, 1)[0]\r\n\r\n                prevKeys.splice(i, 0, keyForSpot)\r\n                prevKeys.splice(prevIndex, 0, keyInSpot)\r\n\r\n                moves.push([keyInSpot, keyForSpot])\r\n            } else {\r\n                // This key hasn't moved, but we'll still keep track\r\n                // so that we can refresh it later on.\r\n                sames.push(key)\r\n            }\r\n\r\n            lastKey = key\r\n        }\r\n\r\n        // Now that we've done the diffing work, we can apply the mutations\r\n        // in batches for both separating types work and optimizing\r\n        // for browser performance.\r\n\r\n        // We'll remove all the nodes that need to be removed,\r\n        // letting the mutation observer pick them up and\r\n        // clean up any side effects they had.\r\n        for (let i = 0; i < removes.length; i++) {\r\n            let key = removes[i]\r\n\r\n            // Remove any queued effects that might run after the DOM node has been removed.\r\n            if (!! lookup[key]._x_effects) {\r\n                lookup[key]._x_effects.forEach(dequeueJob)\r\n            }\r\n\r\n            lookup[key].remove()\r\n\r\n            lookup[key] = null\r\n            delete lookup[key]\r\n        }\r\n\r\n        // Here we'll move elements around, skipping\r\n        // mutation observer triggers by using \"mutateDom\".\r\n        for (let i = 0; i < moves.length; i++) {\r\n            let [keyInSpot, keyForSpot] = moves[i]\r\n\r\n            let elInSpot = lookup[keyInSpot]\r\n            let elForSpot = lookup[keyForSpot]\r\n\r\n            let marker = document.createElement('div')\r\n\r\n            mutateDom(() => {\r\n                elForSpot.after(marker)\r\n                elInSpot.after(elForSpot)\r\n                elForSpot._x_currentIfEl && elForSpot.after(elForSpot._x_currentIfEl)\r\n                marker.before(elInSpot)\r\n                elInSpot._x_currentIfEl && elInSpot.after(elInSpot._x_currentIfEl)\r\n                marker.remove()\r\n            })\r\n\r\n            refreshScope(elForSpot, scopes[keys.indexOf(keyForSpot)])\r\n        }\r\n\r\n        // We can now create and add new elements.\r\n        for (let i = 0; i < adds.length; i++) {\r\n            let [lastKey, index] = adds[i]\r\n\r\n            let lastEl = (lastKey === 'template') ? templateEl : lookup[lastKey]\r\n            // If the element is a x-if template evaluated to true,\r\n            // point lastEl to the if-generated node\r\n            if (lastEl._x_currentIfEl) lastEl = lastEl._x_currentIfEl\r\n\r\n            let scope = scopes[index]\r\n            let key = keys[index]\r\n\r\n            let clone = document.importNode(templateEl.content, true).firstElementChild\r\n\r\n            addScopeToNode(clone, reactive(scope), templateEl)\r\n\r\n            mutateDom(() => {\r\n                lastEl.after(clone)\r\n\r\n                initTree(clone)\r\n            })\r\n\r\n            if (typeof key === 'object') {\r\n                warn('x-for key cannot be an object, it must be a string or an integer', templateEl)\r\n            }\r\n\r\n            lookup[key] = clone\r\n        }\r\n\r\n        // If an element hasn't changed, we still want to \"refresh\" the\r\n        // data it depends on in case the data has changed in an\r\n        // \"unobservable\" way.\r\n        for (let i = 0; i < sames.length; i++) {\r\n            refreshScope(lookup[sames[i]], scopes[keys.indexOf(sames[i])])\r\n        }\r\n\r\n        // Now we'll log the keys (and the order they're in) for comparing\r\n        // against next time.\r\n        templateEl._x_prevKeys = keys\r\n    })\r\n}\r\n\r\n// This was taken from VueJS 2.* core. Thanks Vue!\r\nfunction parseForExpression(expression) {\r\n    let forIteratorRE = /,([^,\\}\\]]*)(?:,([^,\\}\\]]*))?$/\r\n    let stripParensRE = /^\\s*\\(|\\)\\s*$/g\r\n    let forAliasRE = /([\\s\\S]*?)\\s+(?:in|of)\\s+([\\s\\S]*)/\r\n    let inMatch = expression.match(forAliasRE)\r\n\r\n    if (! inMatch) return\r\n\r\n    let res = {}\r\n    res.items = inMatch[2].trim()\r\n    let item = inMatch[1].replace(stripParensRE, '').trim()\r\n    let iteratorMatch = item.match(forIteratorRE)\r\n\r\n    if (iteratorMatch) {\r\n        res.item = item.replace(forIteratorRE, '').trim()\r\n        res.index = iteratorMatch[1].trim()\r\n\r\n        if (iteratorMatch[2]) {\r\n            res.collection = iteratorMatch[2].trim()\r\n        }\r\n    } else {\r\n        res.item = item\r\n    }\r\n\r\n    return res\r\n}\r\n\r\nfunction getIterationScopeVariables(iteratorNames, item, index, items) {\r\n    // We must create a new object, so each iteration has a new scope\r\n    let scopeVariables = {}\r\n\r\n    // Support array destructuring ([foo, bar]).\r\n    if (/^\\[.*\\]$/.test(iteratorNames.item) && Array.isArray(item)) {\r\n        let names = iteratorNames.item.replace('[', '').replace(']', '').split(',').map(i => i.trim())\r\n\r\n        names.forEach((name, i) => {\r\n            scopeVariables[name] = item[i]\r\n        })\r\n    // Support object destructuring ({ foo: 'oof', bar: 'rab' }).\r\n    } else if (/^\\{.*\\}$/.test(iteratorNames.item) && ! Array.isArray(item) && typeof item === 'object') {\r\n        let names = iteratorNames.item.replace('{', '').replace('}', '').split(',').map(i => i.trim())\r\n\r\n        names.forEach(name => {\r\n            scopeVariables[name] = item[name]\r\n        })\r\n    } else {\r\n        scopeVariables[iteratorNames.item] = item\r\n    }\r\n\r\n    if (iteratorNames.index) scopeVariables[iteratorNames.index] = index\r\n\r\n    if (iteratorNames.collection) scopeVariables[iteratorNames.collection] = items\r\n\r\n    return scopeVariables\r\n}\r\n\r\nfunction isNumeric(subject){\r\n    return ! Array.isArray(subject) && ! isNaN(subject)\r\n}\r\n","import { closestRoot } from '../lifecycle'\r\nimport { directive } from '../directives'\r\n\r\nfunction handler () {}\r\n\r\nhandler.inline = (el, { expression }, { cleanup }) => {\r\n    let root = closestRoot(el)\r\n\r\n    if (! root._x_refs) root._x_refs = {}\r\n\r\n    root._x_refs[expression] = el\r\n\r\n    cleanup(() => delete root._x_refs[expression])\r\n}\r\n\r\ndirective('ref', handler)\r\n","import { directive } from '../directives'\r\nimport { warn } from '../utils/warn'\r\n\r\nimport './x-transition'\r\nimport './x-modelable'\r\nimport './x-teleport'\r\nimport './x-ignore'\r\nimport './x-effect'\r\nimport './x-model'\r\nimport './x-cloak'\r\nimport './x-init'\r\nimport './x-text'\r\nimport './x-html'\r\nimport './x-bind'\r\nimport './x-data'\r\nimport './x-show'\r\nimport './x-for'\r\nimport './x-ref'\r\nimport './x-if'\r\nimport './x-id'\r\nimport './x-on'\r\n\r\n// Register warnings for people using plugin syntaxes and not loading the plugin itself:\r\nwarnMissingPluginDirective('Collapse', 'collapse', 'collapse')\r\nwarnMissingPluginDirective('Intersect', 'intersect', 'intersect')\r\nwarnMissingPluginDirective('Focus', 'trap', 'focus')\r\nwarnMissingPluginDirective('Mask', 'mask', 'mask')\r\n\r\nfunction warnMissingPluginDirective(name, directiveName, slug) {\r\n    directive(directiveName, (el) => warn(`You can't use [x-${directiveName}] without first installing the \"${name}\" plugin here: https://alpinejs.dev/plugins/${slug}`, el))\r\n}\r\n","import { directive } from '../directives'\r\nimport { evaluateLater } from '../evaluator'\r\n\r\ndirective('effect', (el, { expression }, { effect }) => effect(evaluateLater(el, expression)))\r\n","import { directive, prefix } from '../directives'\r\nimport { mutateDom } from '../mutation'\r\n\r\ndirective('cloak', el => queueMicrotask(() => mutateDom(() => el.removeAttribute(prefix('cloak')))))\r\n","import { directive, prefix } from \"../directives\";\r\nimport { addInitSelector } from \"../lifecycle\";\r\nimport { skipDuringClone } from \"../clone\";\r\n\r\naddInitSelector(() => `[${prefix('init')}]`)\r\n\r\ndirective('init', skipDuringClone((el, { expression }, { evaluate }) => {\r\n    if (typeof expression === 'string') {\r\n        return !! expression.trim() && evaluate(expression, {}, false)\r\n    }\r\n\r\n    return evaluate(expression, {}, false)\r\n}))\r\n","import { directive } from '../directives'\r\nimport { mutateDom } from '../mutation'\r\n\r\ndirective('text', (el, { expression }, { effect, evaluateLater }) => {\r\n    let evaluate = evaluateLater(expression)\r\n\r\n    effect(() => {\r\n        evaluate(value => {\r\n            mutateDom(() => {\r\n                el.textContent = value\r\n            })\r\n        })\r\n    })\r\n})\r\n","import { directive } from '../directives'\r\nimport { initTree } from '../lifecycle'\r\nimport { mutateDom } from '../mutation'\r\n\r\ndirective('html', (el, { expression }, { effect, evaluateLater }) => {\r\n    let evaluate = evaluateLater(expression)\r\n\r\n    effect(() => {\r\n        evaluate(value => {\r\n            mutateDom(() => {\r\n                el.innerHTML = value\r\n\r\n                el._x_ignoreSelf = true\r\n                initTree(el)\r\n                delete el._x_ignoreSelf\r\n            })\r\n        })\r\n    })\r\n})\r\n","import { directive, into, mapAttributes, prefix, startingWith } from '../directives'\r\nimport { evaluateLater } from '../evaluator'\r\nimport { mutateDom } from '../mutation'\r\nimport bind from '../utils/bind'\r\nimport { applyBindingsObject, injectBindingProviders } from '../binds'\r\n\r\nmapAttributes(startingWith(':', into(prefix('bind:'))))\r\n\r\ndirective('bind', (el, { value, modifiers, expression, original }, { effect }) => {\r\n    if (! value) {\r\n        let bindingProviders = {}\r\n        injectBindingProviders(bindingProviders)\r\n\r\n        let getBindings = evaluateLater(el, expression)\r\n\r\n        getBindings(bindings => {\r\n            applyBindingsObject(el, bindings, original)\r\n        }, { scope: bindingProviders } )\r\n\r\n        return\r\n    }\r\n\r\n    if (value === 'key') return storeKeyForXFor(el, expression)\r\n\r\n    let evaluate = evaluateLater(el, expression)\r\n\r\n    effect(() => evaluate(result => {\r\n        // If nested object key is undefined, set the default value to empty string.\r\n        if (result === undefined && typeof expression === 'string' && expression.match(/\\./)) {\r\n            result = ''\r\n        }\r\n\r\n        mutateDom(() => bind(el, value, result, modifiers))\r\n    }))\r\n})\r\n\r\nfunction storeKeyForXFor(el, expression) {\r\n    el._x_keyExpression = expression\r\n}\r\n","import { directive, prefix } from '../directives'\r\nimport { initInterceptors } from '../interceptor'\r\nimport { injectDataProviders } from '../datas'\r\nimport { addRootSelector } from '../lifecycle'\r\nimport { skipDuringClone } from '../clone'\r\nimport { addScopeToNode } from '../scope'\r\nimport { injectMagics, magic } from '../magics'\r\nimport { reactive } from '../reactivity'\r\nimport { evaluate } from '../evaluator'\r\n\r\naddRootSelector(() => `[${prefix('data')}]`)\r\n\r\ndirective('data', skipDuringClone((el, { expression }, { cleanup }) => {\r\n    expression = expression === '' ? '{}' : expression\r\n\r\n    let magicContext = {}\r\n    injectMagics(magicContext, el)\r\n\r\n    let dataProviderContext = {}\r\n    injectDataProviders(dataProviderContext, magicContext)\r\n\r\n    let data = evaluate(el, expression, { scope: dataProviderContext })\r\n\r\n    if (data === undefined || data === true) data = {}\r\n\r\n    injectMagics(data, el)\r\n\r\n    let reactiveData = reactive(data)\r\n\r\n    initInterceptors(reactiveData)\r\n\r\n    let undo = addScopeToNode(el, reactiveData)\r\n\r\n    reactiveData['init'] && evaluate(el, reactiveData['init'])\r\n\r\n    cleanup(() => {\r\n        reactiveData['destroy'] && evaluate(el, reactiveData['destroy'])\r\n\r\n        undo()\r\n    })\r\n}))\r\n","import { evaluateLater } from '../evaluator'\r\nimport { directive } from '../directives'\r\nimport { mutateDom } from '../mutation'\r\nimport { once } from '../utils/once'\r\n\r\ndirective('show', (el, { modifiers, expression }, { effect }) => {\r\n    let evaluate = evaluateLater(el, expression)\r\n\r\n    // We're going to set this function on the element directly so that\r\n    // other plugins like \"Collapse\" can overwrite them with their own logic.\r\n    if (! el._x_doHide) el._x_doHide = () => {\r\n        mutateDom(() => {\r\n            el.style.setProperty('display', 'none', modifiers.includes('important') ? 'important' : undefined)\r\n        })\r\n    }\r\n\r\n    if (! el._x_doShow) el._x_doShow = () => {\r\n        mutateDom(() => {\r\n            if (el.style.length === 1 && el.style.display === 'none') {\r\n                el.removeAttribute('style')\r\n            } else {\r\n                el.style.removeProperty('display')\r\n            }\r\n        })\r\n    }\r\n\r\n    let hide = () => {\r\n        el._x_doHide()\r\n        el._x_isShown = false\r\n    }\r\n\r\n    let show = () => {\r\n        el._x_doShow()\r\n        el._x_isShown = true\r\n    }\r\n\r\n    // We are wrapping this function in a setTimeout here to prevent\r\n    // a race condition from happening where elements that have a\r\n    // @click.away always view themselves as shown on the page.\r\n    let clickAwayCompatibleShow = () => setTimeout(show)\r\n\r\n    let toggle = once(\r\n        value => value ? show() : hide(),\r\n        value => {\r\n            if (typeof el._x_toggleAndCascadeWithTransitions === 'function') {\r\n                el._x_toggleAndCascadeWithTransitions(el, value, show, hide)\r\n            } else {\r\n                value ? clickAwayCompatibleShow() : hide()\r\n            }\r\n        }\r\n    )\r\n\r\n    let oldValue\r\n    let firstTime = true\r\n\r\n    effect(() => evaluate(value => {\r\n        // Let's make sure we only call this effect if the value changed.\r\n        // This prevents \"blip\" transitions. (1 tick out, then in)\r\n        if (! firstTime && value === oldValue) return\r\n\r\n        if (modifiers.includes('immediate')) value ? clickAwayCompatibleShow() : hide()\r\n\r\n        toggle(value)\r\n\r\n        oldValue = value\r\n        firstTime = false\r\n    }))\r\n})\r\n","import { evaluateLater } from '../evaluator'\r\nimport { addScopeToNode } from '../scope'\r\nimport { directive } from '../directives'\r\nimport { initTree } from '../lifecycle'\r\nimport { mutateDom } from '../mutation'\r\nimport { walk } from \"../utils/walk\"\r\nimport { dequeueJob } from '../scheduler'\r\n\r\ndirective('if', (el, { expression }, { effect, cleanup }) => {\r\n    let evaluate = evaluateLater(el, expression)\r\n\r\n    let show = () => {\r\n        if (el._x_currentIfEl) return el._x_currentIfEl\r\n\r\n        let clone = el.content.cloneNode(true).firstElementChild\r\n\r\n        addScopeToNode(clone, {}, el)\r\n\r\n        mutateDom(() => {\r\n            el.after(clone)\r\n\r\n            initTree(clone)\r\n        })\r\n\r\n        el._x_currentIfEl = clone\r\n\r\n        el._x_undoIf = () => {\r\n            walk(clone, (node) => {\r\n                if (!!node._x_effects) {\r\n                    node._x_effects.forEach(dequeueJob)\r\n                }\r\n            })\r\n            \r\n            clone.remove();\r\n\r\n            delete el._x_currentIfEl\r\n        }\r\n\r\n        return clone\r\n    }\r\n\r\n    let hide = () => {\r\n        if (! el._x_undoIf) return\r\n\r\n        el._x_undoIf()\r\n\r\n        delete el._x_undoIf\r\n    }\r\n\r\n    effect(() => evaluate(value => {\r\n        value ? show() : hide()\r\n    }))\r\n\r\n    cleanup(() => el._x_undoIf && el._x_undoIf())\r\n})\r\n","import { directive } from \"../directives\"\r\nimport { setIdRoot } from '../ids'\r\n\r\ndirective('id', (el, { expression }, { evaluate }) => {\r\n    let names = evaluate(expression)\r\n    \r\n    names.forEach(name => setIdRoot(el, name))\r\n})\r\n","import { directive, into, mapAttributes, prefix, startingWith } from '../directives'\r\nimport { evaluateLater } from '../evaluator'\r\nimport { skipDuringClone } from '../clone'\r\nimport on from '../utils/on'\r\n\r\nmapAttributes(startingWith('@', into(prefix('on:'))))\r\n\r\ndirective('on', skipDuringClone((el, { value, modifiers, expression }, { cleanup }) => {\r\n    let evaluate = expression ? evaluateLater(el, expression) : () => {}\r\n   \r\n    // Forward event listeners on portals.\r\n    if (el.tagName.toLowerCase() === 'template') {\r\n        if (! el._x_forwardEvents) el._x_forwardEvents = []\r\n        if (! el._x_forwardEvents.includes(value)) el._x_forwardEvents.push(value)\r\n    }\r\n\r\n    let removeListener = on(el, value, modifiers, e => {\r\n        evaluate(() => {}, { scope: { '$event': e }, params: [e] })\r\n    })\r\n\r\n    cleanup(() => removeListener())\r\n}))\r\n","/**\r\n *           _\r\n *     /\\   | |     (_)            (_)\r\n *    /  \\  | |_ __  _ _ __   ___   _ ___\r\n *   / /\\ \\ | | '_ \\| | '_ \\ / _ \\ | / __|\r\n *  / ____ \\| | |_) | | | | |  __/_| \\__ \\\r\n * /_/    \\_\\_| .__/|_|_| |_|\\___(_) |___/\r\n *            | |                 _/ |\r\n *            |_|                |__/\r\n *\r\n * Let's build Alpine together. It's easier than you think.\r\n * For starters, we'll import Alpine's core. This is the\r\n * object that will expose all of Alpine's public API.\r\n */\r\nimport Alpine from './alpine'\r\n\r\n/**\r\n * _______________________________________________________\r\n * The Evaluator\r\n * -------------------------------------------------------\r\n *\r\n * Now we're ready to bootstrap Alpine's evaluation system.\r\n * It's the function that converts raw JavaScript string\r\n * expressions like @click=\"toggle()\", into actual JS.\r\n */\r\nimport { normalEvaluator } from './evaluator'\r\n\r\nAlpine.setEvaluator(normalEvaluator)\r\n\r\n/**\r\n * _______________________________________________________\r\n * The Reactivity Engine\r\n * -------------------------------------------------------\r\n *\r\n * This is the reactivity core of Alpine. It's the part of\r\n * Alpine that triggers an element with x-text=\"message\"\r\n * to update its inner text when \"message\" is changed.\r\n */\r\nimport { reactive, effect, stop, toRaw } from '@vue/reactivity'\r\n\r\nAlpine.setReactivityEngine({ reactive, effect, release: stop, raw: toRaw })\r\n\r\n/**\r\n * _______________________________________________________\r\n * The Magics\r\n * -------------------------------------------------------\r\n *\r\n * Yeah, we're calling them magics here like they're nouns.\r\n * These are the properties that are magically available\r\n * to all the Alpine expressions, within your web app.\r\n */\r\nimport './magics/index'\r\n\r\n/**\r\n * _______________________________________________________\r\n * The Directives\r\n * -------------------------------------------------------\r\n *\r\n * Now that the core is all set up, we can register Alpine\r\n * directives like x-text or x-on that form the basis of\r\n * how Alpine adds behavior to an app's static markup.\r\n */\r\nimport './directives/index'\r\n\r\n/**\r\n * _______________________________________________________\r\n * The Alpine Global\r\n * -------------------------------------------------------\r\n *\r\n * Now that we have set everything up internally, anything\r\n * Alpine-related that will need to be accessed on-going\r\n * will be made available through the \"Alpine\" global.\r\n */\r\nexport default Alpine\r\n","import './lib/alpinejs/index';\r\n\r\nconst TableSetting = Object.freeze({\r\n    CurrentPage: 'currentPage',\r\n    PerPage: 'perPage',\r\n    SearchQuery: 'searchQuery',\r\n    Sort: 'sort',\r\n});\r\n\r\nconst SortOrder = Object.freeze({\r\n    Asc: 'asc',\r\n    Desc: 'desc',\r\n});\r\n\r\nconst alpineTable = (key, src) => ({\r\n    // from html placeholder for the table\r\n    key,\r\n    src,\r\n\r\n    // internal state\r\n    rows: undefined,\r\n    filteredRows: [],\r\n    filteredRowTotal: 0,\r\n    sortColumns: [],\r\n    currentPage: 0,\r\n    perPage: 10,\r\n    maxPage: 0,\r\n    searchQuery: '',\r\n\r\n    /**\r\n     * Retrieves value from sessionStorage.\r\n     * @param {string} name\r\n     * @returns {string | null} Value if found, or null.\r\n     */\r\n    fetchSetting(name) {\r\n        return sessionStorage.getItem(`${this.key}_${name}`);\r\n    },\r\n\r\n    saveSetting(name, value) {\r\n        sessionStorage.setItem(`${this.key}_${name}`, value.toString());\r\n    },\r\n\r\n    defaultCompare(a, b) {\r\n        if (a._index > b._index) {\r\n            return 1;\r\n        }\r\n        return a._index < b._index ? -1 : 0;\r\n    },\r\n\r\n    compare(a, b) {\r\n        let i = 0;\r\n        const len = this.length;\r\n        for (; i < len; i += 1) {\r\n            const sort = this[i];\r\n            const aa = a[sort.property];\r\n            const bb = b[sort.property];\r\n\r\n            if (aa === null) {\r\n                return 1;\r\n            }\r\n            if (bb === null) {\r\n                return -1;\r\n            }\r\n            if (aa < bb) {\r\n                return sort.sortOrder === SortOrder.Asc ? -1 : 1;\r\n            }\r\n            if (aa > bb) {\r\n                return sort.sortOrder === SortOrder.Asc ? 1 : -1;\r\n            }\r\n        }\r\n        return 0;\r\n    },\r\n\r\n    /**\r\n     * Filter an array of objects to find objects where value contains the value of `this`.\r\n     * @this {String} Value to search for\r\n     * @param {Object} obj - Object to search in.\r\n     * @returns {boolean} True if object contains `this`.\r\n     */\r\n    filterArray(obj) {\r\n        const tokens = (this || '').split(' ');\r\n        return Array.from(Object.values(obj)).some((x) => {\r\n            if (x.indexOf('_') < 0 && Object.prototype.hasOwnProperty.call(obj, x)) {\r\n                const objVal = (`${obj[x]}`).toLowerCase();\r\n                if (tokens.every((y) => objVal.indexOf(y) > -1)) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        });\r\n    },\r\n\r\n    filterData() {\r\n        // create a new array and filter by the search query\r\n        const filteredData = this.searchQuery ? (this.rows?.filter(this.filterArray.bind(this.searchQuery.toLowerCase())) ?? []) : [...(this.rows ?? [])];\r\n\r\n        // sort the new array\r\n        filteredData.sort(this.sortColumns?.length ? this.compare.bind(this.sortColumns) : this.defaultCompare);\r\n\r\n        // cache the total number of filtered records and max number of pages for paging\r\n        this.filteredRowTotal = filteredData.length;\r\n        this.maxPage = Math.max(Math.ceil(this.filteredRowTotal / this.perPage) - 1, 0);\r\n\r\n        // determine the correct slice of data for the current page, and reassign our array to trigger the update\r\n        this.filteredRows = filteredData.slice(this.perPage * this.currentPage, (this.perPage * this.currentPage) + this.perPage);\r\n\r\n        // after rendering, notify that the table has been updated\r\n        this.$nextTick(() => {\r\n            this.$root.dispatchEvent(new CustomEvent('alpine-table-updated', { bubbles: true, composed: true }));\r\n        });\r\n    },\r\n\r\n    onSearchQueryInput(event) {\r\n        const val = event?.target?.value;\r\n        if (this.debounceTimer) {\r\n            clearTimeout(this.debounceTimer);\r\n        }\r\n        this.debounceTimer = setTimeout(() => {\r\n            if (this.searchQuery !== val) {\r\n                this.currentPage = 0;\r\n                this.saveSetting(TableSetting.SearchQuery, val);\r\n            }\r\n            this.searchQuery = val;\r\n            this.filterData();\r\n        }, 250);\r\n    },\r\n\r\n    onPerPageInput(event) {\r\n        const newVal = parseInt(event?.target?.value ?? 10, 10) ?? 10;\r\n        if (this.perPage !== newVal) {\r\n            this.currentPage = 0;\r\n            this.saveSetting(TableSetting.PerPage, newVal);\r\n        }\r\n        this.perPage = newVal;\r\n\r\n        this.filterData();\r\n    },\r\n\r\n    onFirstPageClick() {\r\n        this.setPage(0);\r\n    },\r\n\r\n    onLastPageClick() {\r\n        this.setPage(this.maxPage);\r\n    },\r\n\r\n    onPreviousPageClick() {\r\n        this.setPage(Math.max(this.currentPage - 1, 0));\r\n    },\r\n\r\n    onNextPageClick() {\r\n        this.setPage(Math.min(this.currentPage + 1, this.maxPage));\r\n    },\r\n\r\n    setPage(page) {\r\n        this.currentPage = page;\r\n        this.saveSetting(TableSetting.CurrentPage, this.currentPage);\r\n        this.filterData();\r\n    },\r\n\r\n    onSortClick(property) {\r\n        if (!property) {\r\n            return;\r\n        }\r\n\r\n        const index = this.sortColumns.findIndex((x) => x.property === property);\r\n        if (index === -1) {\r\n            this.sortColumns.push({ property, sortOrder: SortOrder.Asc });\r\n        } else if (this.sortColumns[index].sortOrder === SortOrder.Asc) {\r\n            this.sortColumns[index].sortOrder = SortOrder.Desc;\r\n        } else {\r\n            this.sortColumns = this.sortColumns.filter((x) => x.property !== property);\r\n        }\r\n\r\n        this.saveSetting(TableSetting.Sort, JSON.stringify(this.sortColumns));\r\n\r\n        this.filterData();\r\n    },\r\n\r\n    sortClass(property) {\r\n        const index = property ? this.sortColumns.findIndex((x) => x.property === property) : -1;\r\n        if (index === -1) {\r\n            return '';\r\n        }\r\n        return this.sortColumns[index].sortOrder === SortOrder.Asc ? 'alpine-sort-asc' : 'alpine-sort-desc';\r\n    },\r\n\r\n    get startRowNumber() {\r\n        return this.filteredRowTotal ? (this.currentPage * this.perPage) + 1 : 0;\r\n    },\r\n\r\n    get endRowNumber() {\r\n        return this.filteredRowTotal ? Math.min((this.currentPage + 1) * this.perPage, this.filteredRowTotal) : 0;\r\n    },\r\n\r\n    get isFirstPage() {\r\n        return this.currentPage === 0;\r\n    },\r\n\r\n    get isLastPage() {\r\n        return this.currentPage === this.maxPage;\r\n    },\r\n\r\n    get is10PerPage() {\r\n        return this.perPage === 10;\r\n    },\r\n\r\n    get is20PerPage() {\r\n        return this.perPage === 20;\r\n    },\r\n\r\n    get is50PerPage() {\r\n        return this.perPage === 50;\r\n    },\r\n\r\n    get is100PerPage() {\r\n        return this.perPage === 100;\r\n    },\r\n\r\n    async fetchData() {\r\n        if (!this.src.length) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            this.rows = (await fetch(this.src, { headers: { 'X-Requested-With': 'XMLHttpRequest' } })\r\n                .then((res) => res.json()))\r\n                .map((x, index) => ({ ...x, _index: index })) ?? [];\r\n        } catch {\r\n            this.rows = [];\r\n        }\r\n\r\n        this.filterData();\r\n    },\r\n\r\n    async init() {\r\n        // check sessionStorage for saved settings\r\n        this.perPage = parseInt(this.fetchSetting(TableSetting.PerPage) ?? '10', 10);\r\n        this.currentPage = parseInt(this.fetchSetting(TableSetting.CurrentPage) ?? '0', 10);\r\n        this.searchQuery = this.fetchSetting(TableSetting.SearchQuery) ?? '';\r\n        this.sortColumns = JSON.parse(this.fetchSetting(TableSetting.Sort) ?? '[]');\r\n\r\n        await this.fetchData();\r\n    },\r\n});\r\n\r\nexport default alpineTable;\r\n","'use strict';\r\nvar template = \"\\n    <div data-dialog-backdrop tabindex=\\\"-1\\\" hidden>\\n        <div\\n            data-dialog=\\\"{type}\\\"\\n            tabindex=\\\"-1\\\"\\n            role=\\\"dialog\\\"\\n            aria-labelledby=\\\"{titleId}\\\"\\n            aria-describedby=\\\"{descriptionId}\\\"\\n            aria-modal=\\\"true\\\"\\n            aria-live=\\\"assertive\\\"\\n        >\\n            <form role=\\\"presentation\\\">\\n                <header role=\\\"presentation\\\">\\n                    <span id=\\\"{titleId}\\\">{title}</span>\\n                </header>\\n                <section class=\\\"message\\\">\\n                    <span id=\\\"{descriptionId}\\\">{message}</span>\\n                </section>\\n                <section class=\\\"prompt\\\" data-role=\\\"prompt-section\\\">\\n                    <input type=\\\"text\\\"\\n                        value=\\\"\\\"\\n                    >\\n                </section>\\n                <footer role=\\\"presentation\\\">\\n                    <button type=\\\"button\\\" data-role=\\\"cancel\\\">{cancelText}</button>\\n                    <button type=\\\"submit\\\" data-role=\\\"ok\\\">{okText}</button>\\n                </footer>\\n            </form>\\n        </div>\\n    </div>\\n\";\r\n;\r\n;\r\nvar makeDialog = function (type, message, options) {\r\n    var _a, _b, _c;\r\n    var dialogHTML = template;\r\n    var title = (_a = options.title) !== null && _a !== void 0 ? _a : null;\r\n    var cancelText = (_b = options.cancelText) !== null && _b !== void 0 ? _b : 'Cancel';\r\n    var okText = (_c = options.okText) !== null && _c !== void 0 ? _c : 'Ok';\r\n    var uniqueId = String(Date.now());\r\n    var titleId = \"dialog-\" + uniqueId + \"-title\";\r\n    var descriptionId = \"dialog-\" + uniqueId + \"-description\";\r\n    dialogHTML = dialogHTML.replace(/\\{titleId\\}/g, titleId);\r\n    dialogHTML = dialogHTML.replace(/\\{descriptionId\\}/g, descriptionId);\r\n    dialogHTML = dialogHTML.replace('{type}', type);\r\n    dialogHTML = dialogHTML.replace('{message}', message);\r\n    dialogHTML = dialogHTML.replace('{title}', title !== null && title !== void 0 ? title : '');\r\n    dialogHTML = dialogHTML.replace('{cancelText}', cancelText);\r\n    dialogHTML = dialogHTML.replace('{okText}', okText);\r\n    var div = document.createElement('div');\r\n    div.insertAdjacentHTML('afterbegin', dialogHTML);\r\n    if (title === null) {\r\n        (div.querySelector('header')).remove();\r\n        (div.querySelector('[aria-describedby]')).removeAttribute('aria-describedby');\r\n        (div.querySelector('[aria-labelledby]')).setAttribute('aria-labelledby', descriptionId);\r\n    }\r\n    return div.firstElementChild;\r\n};\r\nvar makeAlertDialog = function (message, options) {\r\n    var dialog = makeDialog('alert', message, options);\r\n    removeDialogInputSection(dialog);\r\n    removeDialogCancelButton(dialog);\r\n    return dialog;\r\n};\r\nvar makeConfirmDialog = function (message, options) {\r\n    var dialog = makeDialog('confirm', message, options);\r\n    removeDialogInputSection(dialog);\r\n    return dialog;\r\n};\r\nvar makePromptDialog = function (message, _default, options) {\r\n    var _a;\r\n    var dialog = makeDialog('prompt', message, options);\r\n    var inputField = getInputField(dialog);\r\n    inputField.value = _default;\r\n    var inputAttributes = (_a = options.input) !== null && _a !== void 0 ? _a : null;\r\n    if (inputAttributes !== null) {\r\n        updateInputFieldAttributes(inputField, inputAttributes);\r\n    }\r\n    return dialog;\r\n};\r\nvar updateInputFieldAttributes = function (inputField, inputAttributes) {\r\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q;\r\n    inputField.type = (_a = inputAttributes.type) !== null && _a !== void 0 ? _a : inputField.type;\r\n    if (((_b = inputAttributes.required) !== null && _b !== void 0 ? _b : null) !== null) {\r\n        inputField.required = inputAttributes.required;\r\n    }\r\n    if (((_c = inputAttributes.placeholder) !== null && _c !== void 0 ? _c : null) !== null) {\r\n        inputField.placeholder = inputAttributes.placeholder;\r\n    }\r\n    if (((_d = inputAttributes.multiple) !== null && _d !== void 0 ? _d : null) !== null) {\r\n        inputField.multiple = inputAttributes.multiple;\r\n    }\r\n    if (((_e = inputAttributes.minLength) !== null && _e !== void 0 ? _e : null) !== null) {\r\n        inputField.minLength = inputAttributes.minLength;\r\n    }\r\n    if (((_f = inputAttributes.maxLength) !== null && _f !== void 0 ? _f : null) !== null) {\r\n        inputField.maxLength = inputAttributes.maxLength;\r\n    }\r\n    if (((_g = inputAttributes.min) !== null && _g !== void 0 ? _g : null) !== null) {\r\n        inputField.min = String(inputAttributes.min);\r\n    }\r\n    if (((_h = inputAttributes.max) !== null && _h !== void 0 ? _h : null) !== null) {\r\n        inputField.max = String(inputAttributes.max);\r\n    }\r\n    if (((_j = inputAttributes.max) !== null && _j !== void 0 ? _j : null) !== null) {\r\n        inputField.max = String(inputAttributes.max);\r\n    }\r\n    if (((_k = inputAttributes.step) !== null && _k !== void 0 ? _k : null) !== null) {\r\n        inputField.step = String(inputAttributes.step);\r\n    }\r\n    if (((_l = inputAttributes.pattern) !== null && _l !== void 0 ? _l : null) !== null) {\r\n        inputField.pattern = inputAttributes.pattern;\r\n    }\r\n    if (((_m = inputAttributes.title) !== null && _m !== void 0 ? _m : null) !== null) {\r\n        inputField.title = inputAttributes.title;\r\n    }\r\n    if (((_o = inputAttributes.list) !== null && _o !== void 0 ? _o : null) !== null) {\r\n        inputField.setAttribute('list', inputAttributes.list);\r\n    }\r\n    if (((_p = inputAttributes.inputMode) !== null && _p !== void 0 ? _p : null) !== null) {\r\n        inputField.inputMode = inputAttributes.inputMode;\r\n    }\r\n    if (((_q = inputAttributes.spellcheck) !== null && _q !== void 0 ? _q : null) !== null) {\r\n        inputField.spellcheck = inputAttributes.spellcheck;\r\n    }\r\n};\r\nvar removeDialogInputSection = function (dialog) {\r\n    var _a;\r\n    (_a = dialog.querySelector('section[data-role=\"prompt-section\"]')) === null || _a === void 0 ? void 0 : _a.remove();\r\n};\r\nvar removeDialogCancelButton = function (dialog) {\r\n    var _a;\r\n    (_a = dialog.querySelector('footer > button[data-role=\"cancel\"]')) === null || _a === void 0 ? void 0 : _a.remove();\r\n};\r\nvar documentEventListeners = [];\r\nvar registerEventListeners = function (dialog, okCallback, cancelCallback) {\r\n    var backdrop = 'dialogBackdrop' in dialog.dataset\r\n        ? dialog\r\n        : dialog.querySelector('[data-dialog-backdrop]');\r\n    backdrop === null || backdrop === void 0 ? void 0 : backdrop.addEventListener('click', function (event) {\r\n        event.stopPropagation();\r\n        if (event.target !== backdrop) {\r\n            return;\r\n        }\r\n        cancelCallback.apply(null);\r\n    });\r\n    backdrop === null || backdrop === void 0 ? void 0 : backdrop.addEventListener('keydown', function (event) {\r\n        if (event.key !== 'Escape') {\r\n            return;\r\n        }\r\n        event.preventDefault();\r\n        cancelCallback.apply(null);\r\n    });\r\n    registerDocumentEventListener('keydown', function (event) {\r\n        if (event.key !== 'Escape') {\r\n            return;\r\n        }\r\n        cancelCallback.apply(null);\r\n    });\r\n    window.setTimeout(function () {\r\n        registerDocumentEventListener('click', function (event) {\r\n            cancelCallback.apply(null);\r\n        });\r\n    });\r\n    var form = dialog.querySelector('form');\r\n    var cancelButton = dialog.querySelector('[data-role=\"cancel\"]');\r\n    var okButton = dialog.querySelector('[data-role=\"ok\"]');\r\n    var inputField = getInputField(dialog);\r\n    cancelButton === null || cancelButton === void 0 ? void 0 : cancelButton.addEventListener('click', function (event) {\r\n        cancelCallback.apply(null);\r\n    });\r\n    form.addEventListener('submit', function (event) {\r\n        event.preventDefault();\r\n        okCallback.apply(null);\r\n    });\r\n    if (cancelButton !== null && okButton !== null) {\r\n        [cancelButton, okButton].forEach(function (button) {\r\n            button.addEventListener('keydown', function (event) {\r\n                var isLeftOrRightKey = event.key === 'ArrowLeft' || event.key === 'ArrowRight';\r\n                if (!isLeftOrRightKey) {\r\n                    return;\r\n                }\r\n                event.preventDefault();\r\n                (event.target === okButton ? cancelButton : okButton).focus();\r\n            });\r\n        });\r\n    }\r\n    registerTabTrap(dialog);\r\n};\r\nvar registerDocumentEventListener = function (type, listener) {\r\n    document.addEventListener(type, listener);\r\n    documentEventListeners.push({\r\n        type: type,\r\n        listener: listener\r\n    });\r\n};\r\nvar unregisterDocumentEventListeners = function () {\r\n    var eventListenerReference;\r\n    while (typeof (eventListenerReference = documentEventListeners.shift()) !== 'undefined') {\r\n        document.removeEventListener(eventListenerReference.type, eventListenerReference.listener);\r\n    }\r\n};\r\nvar registerTabTrap = function (dialog) {\r\n    var tabbableElements = Array.from(dialog.querySelectorAll('a, button, input'))\r\n        .filter(function (tabbableElement) {\r\n        var computedStyle = window.getComputedStyle(tabbableElement);\r\n        if (computedStyle.display === 'none') {\r\n            return false;\r\n        }\r\n        if (computedStyle.visibility === 'hidden') {\r\n            return false;\r\n        }\r\n        if (['button', 'input'].includes(tabbableElement.tagName) && tabbableElement.disabled === true) {\r\n            return false;\r\n        }\r\n        return true;\r\n    });\r\n    if (tabbableElements.length === 0) {\r\n        return;\r\n    }\r\n    var firstTabbableElement = tabbableElements[0];\r\n    var lastTabbableElement = tabbableElements[tabbableElements.length - 1];\r\n    registerDocumentEventListener('focusin', function (event) {\r\n        if (!dialog.contains(event.target)) {\r\n            event.preventDefault();\r\n            firstTabbableElement.focus();\r\n        }\r\n    });\r\n    firstTabbableElement.addEventListener('keydown', function (event) {\r\n        var shouldWrap = event.key === 'Tab' && event.shiftKey;\r\n        if (shouldWrap) {\r\n            event.preventDefault();\r\n            lastTabbableElement.focus();\r\n        }\r\n    });\r\n    lastTabbableElement.addEventListener('keydown', function (event) {\r\n        var shouldWrap = event.key === 'Tab' && !event.shiftKey;\r\n        if (shouldWrap) {\r\n            event.preventDefault();\r\n            firstTabbableElement.focus();\r\n        }\r\n    });\r\n};\r\nvar openDialog = function (dialog, options, callback) {\r\n    var _a;\r\n    ((_a = options.container) !== null && _a !== void 0 ? _a : getDialogContainer()).appendChild(dialog);\r\n    dialog.hidden = false;\r\n    dialog.firstElementChild.style.display = 'block';\r\n    callback.apply(null);\r\n};\r\nvar dialogContainer = null;\r\nvar getDialogContainer = function () {\r\n    if (dialogContainer === null) {\r\n        dialogContainer = document.createElement('div');\r\n    }\r\n    if (dialogContainer.parentElement === null) {\r\n        document.body.appendChild(dialogContainer);\r\n    }\r\n    return dialogContainer;\r\n};\r\nvar closeDialog = function (dialog) {\r\n    dialog.remove();\r\n    unregisterDocumentEventListeners();\r\n};\r\nvar focusOkButton = function (dialog) {\r\n    dialog.querySelector('button[data-role=\"ok\"]').focus();\r\n};\r\nvar focusCancelButton = function (dialog) {\r\n    dialog.querySelector('button[data-role=\"cancel\"]').focus();\r\n};\r\nvar getInputField = function (dialog) {\r\n    return dialog.querySelector('input');\r\n};\r\nvar getInputFieldValue = function (dialog) {\r\n    var _a, _b;\r\n    return (_b = (_a = getInputField(dialog)) === null || _a === void 0 ? void 0 : _a.value) !== null && _b !== void 0 ? _b : '';\r\n};\r\nvar alertDialog = function (message, options) {\r\n    if (options === void 0) { options = {}; }\r\n    return new Promise(function (resolve, reject) {\r\n        var dialog = makeAlertDialog(message !== null && message !== void 0 ? message : '', options);\r\n        registerEventListeners(dialog, function () {\r\n            closeDialog(dialog);\r\n            resolve();\r\n        }, function () {\r\n            closeDialog(dialog);\r\n            resolve();\r\n        });\r\n        openDialog(dialog, options, function () {\r\n            focusOkButton(dialog);\r\n        });\r\n    });\r\n};\r\nvar confirmDialog = function (message, options) {\r\n    if (options === void 0) { options = {}; }\r\n    return new Promise(function (resolve, reject) {\r\n        var dialog = makeConfirmDialog(message !== null && message !== void 0 ? message : '', options);\r\n        registerEventListeners(dialog, function () {\r\n            closeDialog(dialog);\r\n            resolve(true);\r\n        }, function () {\r\n            closeDialog(dialog);\r\n            resolve(false);\r\n        });\r\n        openDialog(dialog, options, function () {\r\n            if (options.focus === 'cancel') {\r\n                focusCancelButton(dialog);\r\n            }\r\n            else {\r\n                focusOkButton(dialog);\r\n            }\r\n        });\r\n    });\r\n};\r\nvar promptDialog = function (message, _default, options) {\r\n    if (options === void 0) { options = {}; }\r\n    return new Promise(function (resolve, reject) {\r\n        var dialog = makePromptDialog(message !== null && message !== void 0 ? message : '', _default !== null && _default !== void 0 ? _default : '', options);\r\n        registerEventListeners(dialog, function () {\r\n            closeDialog(dialog);\r\n            var value = getInputFieldValue(dialog);\r\n            resolve(value);\r\n        }, function () {\r\n            closeDialog(dialog);\r\n            resolve(null);\r\n        });\r\n        openDialog(dialog, options, function () {\r\n            var inputField = getInputField(dialog);\r\n            inputField.focus();\r\n            inputField.select();\r\n        });\r\n    });\r\n};\r\nvar dialog = {\r\n    'alert': alertDialog,\r\n    'confirm': confirmDialog,\r\n    'prompt': promptDialog\r\n};\r\nexport { dialog as default, dialog as dialog, };\r\n","import Alpine from './lib/alpinejs/index';\r\n\r\nimport alpineTable from './alpine-table';\r\nimport onHtmxConfirm from './eventHandlers/onHtmxConfirm';\r\nimport onTableUpdated from './eventHandlers/onTableUpdated';\r\nimport onSidebarToggled from './eventHandlers/onSidebarToggled';\r\n\r\ndocument.getElementById('sidebar-button').addEventListener('click', onSidebarToggled);\r\n\r\ndocument.body.addEventListener('alpine-table-updated', onTableUpdated);\r\n\r\ndocument.body.addEventListener('htmx:confirm', onHtmxConfirm);\r\n\r\nAlpine.data('table', alpineTable);\r\n\r\nAlpine.start();\r\n","/**\r\n * Open/close sidebar menu.\r\n */\r\nconst onSidebarToggled = () => {\r\n    document.body.classList.toggle('sidebar-toggled');\r\n};\r\n\r\nexport default onSidebarToggled;\r\n","import * as htmx from '../lib/htmx.org/htmx';\r\n\r\n/**\r\n * Listen for updates to alpine-table and process the table content with htmx.\r\n * @param {any} e\r\n */\r\nconst onTableUpdated = (e) => {\r\n    if (e?.target) {\r\n        htmx.process(e.target);\r\n    }\r\n};\r\nexport default onTableUpdated;\r\n","import { dialog } from '../../vendor/dialog/index';\r\n\r\n/**\r\n * Add custom behavior to htmx:confirm event.\r\n * @param {CustomEvent} e\r\n */\r\nconst onHtmxConfirm = async (e) => {\r\n    const { elt } = e.detail;\r\n\r\n    if (elt.hasAttribute('hx-confirm-content')) {\r\n        e.preventDefault();\r\n        const result = await dialog.confirm(elt.getAttribute('hx-confirm-content'), {\r\n            okText: elt.getAttribute('hx-confirm-ok') ?? 'Okay',\r\n            cancelText: elt.getAttribute('hx-confirm-cancel') ?? 'Cancel',\r\n            focus: 'cancel',\r\n        });\r\n        if (result) {\r\n            e.detail.issueRequest();\r\n        }\r\n    } else if (elt.hasAttribute('hx-alert-content')) {\r\n        e.preventDefault();\r\n        await dialog.alert(elt.getAttribute('hx-alert-content'));\r\n        elt.focus();\r\n    }\r\n};\r\n\r\nexport default onHtmxConfirm;\r\n"],"names":["factory","self","htmx","onLoad","onLoadHelper","process","processNode","on","addEventListenerImpl","off","removeEventListenerImpl","trigger","triggerEvent","ajax","ajaxHelper","find","findAll","closest","values","elt","type","getInputValues","remove","removeElement","addClass","addClassToElement","removeClass","removeClassFromElement","toggleClass","toggleClassOnElement","takeClass","takeClassForElement","defineExtension","removeExtension","logAll","logger","config","historyEnabled","historyCacheSize","refreshOnHistoryMiss","defaultSwapStyle","defaultSwapDelay","defaultSettleDelay","includeIndicatorStyles","indicatorClass","requestClass","addedClass","settlingClass","swappingClass","allowEval","inlineScriptNonce","attributesToSettle","withCredentials","timeout","wsReconnectDelay","wsBinaryType","disableSelector","useTemplateFragments","scrollBehavior","defaultFocusScroll","getCacheBusterParam","parseInterval","_","internalEval","createEventSource","url","EventSource","createWebSocket","sock","WebSocket","binaryType","version","internalAPI","addTriggerHandler","bodyContains","canAccessLocalStorage","filterValues","hasAttribute","getAttributeValue","getClosestMatch","getExpressionVars","getHeaders","getInternalData","getSwapSpecification","getTriggerSpecs","getTarget","makeFragment","mergeObjects","makeSettleInfo","oobSwap","selectAndSwap","settleImmediately","shouldCancel","triggerErrorEvent","withExtensions","VERBS","VERB_SELECTOR","map","verb","join","str","undefined","slice","parseFloat","getRawAttribute","name","getAttribute","qualifiedName","parentElt","parentElement","getDocument","document","condition","getAttributeValueWithDisinheritance","initialElement","ancestor","attributeName","attributeValue","disinherit","split","indexOf","getClosestAttributeValue","closestAttr","e","matches","selector","matchesFunction","matchesSelector","msMatchesSelector","mozMatchesSelector","webkitMatchesSelector","oMatchesSelector","call","getStartTag","match","exec","toLowerCase","parseHTML","resp","depth","responseNode","DOMParser","parseFromString","body","firstChild","createDocumentFragment","querySelector","content","maybeCall","func","isType","o","Object","prototype","toString","isFunction","isRawObject","dataProp","data","toArray","arr","returnArr","i","length","push","forEach","isScrolledIntoView","el","rect","getBoundingClientRect","elemTop","top","elemBottom","bottom","window","innerHeight","getRootNode","ShadowRoot","contains","host","splitOnWhitespace","trim","obj1","obj2","key","hasOwnProperty","parseJSON","jString","JSON","parse","error","logError","test","localStorage","setItem","removeItem","maybeEval","eval","callback","evt","detail","event","console","log","eltOrSelector","querySelectorAll","delay","resolveTarget","setTimeout","removeChild","clazz","classList","add","removeAttribute","toggle","children","child","querySelectorAllExt","substr","scanForwardQuery","scanBackwardsQuery","start","results","compareDocumentPosition","Node","DOCUMENT_POSITION_PRECEDING","DOCUMENT_POSITION_FOLLOWING","querySelectorExt","arg2","processEventArgs","arg1","arg3","target","listener","ready","eventArgs","addEventListener","removeEventListener","DUMMY_ELT","createElement","findAttributeTargets","attrName","attrTarget","findThisElement","result","attribute","targetStr","boosted","shouldSettleAttribute","cloneAttributes","mergeTo","mergeFrom","attributes","attr","setAttribute","value","isInlineSwap","swapStyle","extensions","getExtensions","extension","oobValue","oobElement","settleInfo","id","targets","fragment","oobElementClone","cloneNode","appendChild","beforeSwapDetails","shouldSwap","swap","elts","parentNode","handleOutOfBandSwaps","oobSelects","oobSelectValues","oobSelectValue","substring","handlePreservedElements","preservedElt","oldElt","getElementById","replaceChild","handleAttributes","newNode","normalizedId","replace","oldNode","tagName","newAttributes","tasks","makeAjaxLoadTask","processScripts","processFocus","autofocus","autoFocusedElt","focus","insertNodesBefore","insertBefore","childNodes","nodeType","TEXT_NODE","COMMENT_NODE","stringHash","string","hash","char","charCodeAt","attributeHash","deInitNode","element","internalData","webSocket","close","sseEventSource","listenerInfos","info","cleanUpElement","swapOuterHTML","swapInnerHTML","newElt","eltBeforeNewContent","previousSibling","nextSibling","replacedWith","ELEMENT_NODE","nextElementSibling","swapAfterBegin","swapBeforeBegin","swapBeforeEnd","swapAfterEnd","swapDelete","maybeSelectFromResponse","newFragment","node","ext","newElements","handleSwap","j","findTitle","responseText","title","handleTrigger","xhr","header","triggerBody","getResponseHeader","triggers","eventName","WHITESPACE","WHITESPACE_OR_COMMA","SYMBOL_START","SYMBOL_CONT","STRINGISH_START","NOT_WHITESPACE","tokenizeString","tokens","position","charAt","startPosition","startChar","symbol","isPossibleRelativeReference","token","last","paramName","maybeGenerateConditional","shift","bracketCount","conditionalSource","conditionFunction","Function","source","consumeUntil","INPUT_SELECTOR","explicitTrigger","triggerSpecs","initialLength","every","pollInterval","eventFilter","sseEvent","triggerSpec","changed","once","consume","from_arg","from","throttle","queue","cancelPolling","cancelled","processPolling","handler","spec","nodeData","maybeFilterEvent","makeEvent","isLocalLink","location","hostname","boostElement","path","rawAttribute","issueAjaxRequest","href","ignoreBoostedAnchorCtrlClick","ctrlKey","metaKey","explicitCancel","eltsToListenOn","elementData","lastValue","eltToListenOn","eventListener","preventDefault","eventData","handledFor","stopPropagation","triggeredOnce","delayed","clearTimeout","windowIsScrolling","scrollHandler","initScrollHandler","setInterval","maybeReveal","initHash","processWebSocketInfo","ensureWebSocket","processWebSocketSend","wssSource","retryCount","base_part","port","protocol","socket","onerror","maybeCloseWebSocketSource","onclose","code","getWebSocketReconnectDelay","onopen","response","transformResponse","webSocketSourceElt","parent","headers","errors","filteredParameters","send","stringify","exp","Math","min","pow","random","processSSEInfo","processSSESource","processSSESwap","sseSrc","maybeCloseSSESource","sseEventName","sseSourceElt","hasEventSource","sseListener","swapSpec","processSSETrigger","loadImmediately","load","loaded","processVerbs","explicitAction","observerOptions","root","threshold","IntersectionObserver","entries","isIntersecting","observe","polling","evalScript","script","newScript","textContent","async","nonce","hasChanceOfBeingBoosted","findElementsToProcess","boostedElts","initButtonTracking","form","maybeSetLastButtonClicked","lastButtonClicked","initNode","sseInfo","wsInfo","kebabEventName","CustomEvent","bubbles","cancelable","createEvent","initCustomEvent","ignoreEventForLogging","toDo","msg","errorInfo","eventResult","dispatchEvent","kebabName","kebabedEvent","onEvent","currentPathForHistory","pathname","search","getHistoryElement","saveToHistoryCache","scroll","historyCache","getItem","splice","newHistoryItem","item","cache","cause","getCachedHistory","cleanInnerHtmlForHistory","className","clone","innerHTML","saveCurrentPageToHistory","historyElt","scrollY","history","replaceState","pushUrlIntoHistory","endsWith","pushState","replaceUrlInHistory","task","loadHistoryFromServer","request","XMLHttpRequest","details","open","setRequestHeader","onload","this","status","historyElement","titleElt","cacheMiss","serverResponse","restoreHistory","cached","scrollTo","reload","addRequestIndicatorClasses","indicators","ic","requestCount","removeRequestIndicatorClasses","haveSeenNode","processed","isSameNode","shouldInclude","disabled","checked","processInputValue","validate","multiple","files","current","Array","isArray","concat","validateElement","elements","input","willValidate","checkValidity","message","validationMessage","validity","formValues","noValidate","formNoValidate","descendant","appendParam","returnStr","realValue","String","s","encodeURIComponent","urlEncode","v","makeFormData","formData","FormData","append","prompt","getValuesForElement","inputValues","paramsValue","newValues","isAnchorLink","swapInfoOverride","swapInfo","modifier","scrollVal","splitSpec","pop","selectorVal","showVal","focusScrollVal","usesFormData","encodeParamsForBody","encodedParameters","encodeParameters","updateScrollState","first","scrollTarget","scrollTop","scrollHeight","show","showTarget","scrollIntoView","block","behavior","evalAsDefault","varsValues","evaluateValue","toEval","defaultVal","getHXVarsForElement","expressionVars","getHXValsForElement","safelySetHeaderValue","headerValue","getPathFromResponse","responseURL","URL","hasHeader","regexp","getAllResponseHeaders","context","Element","targetOverride","returnPromise","swapOverride","hierarchyForElt","etc","confirmed","resolve","reject","Promise","promise","_resolve","_reject","responseHandler","handleAjaxResponse","triggeringEvent","issueRequest","syncElt","eltData","syncStrategy","queueStrategy","abortable","syncStrings","queuedRequests","endRequestLock","queuedRequest","promptQuestion","promptResponse","confirmQuestion","confirm","rawParameters","allParameters","requestAttrValues","eltIsBoosted","requestConfig","parameters","unfilteredParameters","credentials","splitPath","pathNoAnchor","anchor","finalPathForGet","keys","toUpperCase","overrideMimeType","noHeaders","responseInfo","pathInfo","requestPath","finalRequestPath","hierarchy","responsePath","secondaryTriggerElt","parentEltInHierarchy","onabort","ontimeout","upload","lengthComputable","total","determineHistoryUpdates","pathFromHeaders","typeFromHeaders","pushUrl","replaceUrl","elementIsBoosted","saveType","redirectPath","then","historyUpdate","isError","failed","successful","doSwap","activeElt","activeElement","selectionInfo","selectionStart","end","selectionEnd","newActiveElt","focusOptions","preventScroll","focusScroll","setSelectionRange","finalElt","doSettle","anchorTarget","settleDelay","swapDelay","extensionBase","init","api","text","extensionsToReturn","extensionsToIgnore","extensionsForElement","extensionName","fn","readyState","insertIndicatorStyles","head","insertAdjacentHTML","getMetaConfig","mergeMetaConfig","metaConfig","restoredElts","abort","onpopstate","state","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","g","globalThis","reactive","effect","release","raw","flushPending","flushing","lastFlushedIndex","dequeueJob","job","index","flushJobs","shouldSchedule","overrideEffect","override","elementBoundEffect","cleanup","effectReference","_x_effects","Set","_x_runEffects","delete","onAttributeAddeds","onElRemoveds","onElAddeds","onElRemoved","_x_cleanups","cleanupAttributes","names","_x_attributeCleanups","includes","observer","MutationObserver","onMutate","currentlyObserving","startObservingMutations","subtree","childList","attributeOldValue","stopObservingMutations","recordQueue","takeRecords","willProcessRecordQueue","queueMicrotask","disconnect","mutateDom","isCollecting","deferredMutations","mutations","addedNodes","removedNodes","addedAttributes","Map","removedAttributes","_x_ignoreMutationObserver","oldValue","has","set","get","attrs","_x_ignoreSelf","_x_ignore","isConnected","scope","mergeProxies","closestDataStack","addScopeToNode","referenceNode","_x_dataStack","filter","refreshScope","existingScope","objects","thisProxy","Proxy","ownKeys","flatMap","some","obj","descriptor","getOwnPropertyDescriptor","_x_alreadyBound","enumerable","getter","setter","property","bind","defineProperty","closestObjectWithKey","initInterceptors","recurse","basePath","getOwnPropertyDescriptors","val","_x_interceptor","initialize","interceptor","mutateObj","initialValue","reduce","carry","segment","innerValue","magics","magic","injectMagics","utilities","getElementBoundUtilities","tryCatch","expression","args","handleError","assign","warn","shouldAutoEvaluateFunctions","evaluate","extras","evaluateLater","theEvaluatorFunction","normalEvaluator","overriddenMagics","dataStack","evaluator","receiver","params","runIfTypeOfFunction","apply","generateEvaluatorFromFunction","evaluatorMemo","AsyncFunction","getPrototypeOf","constructor","rightSideSafeExpression","safeAsyncFunction","generateFunctionFromString","finished","completeScope","catch","finally","generateEvaluatorFromString","prefixAsString","prefix","subject","directiveHandlers","directive","before","pos","directiveOrder","directives","originalAttributeOverride","_x_virtualDirectives","vAttributes","staticAttributes","attributesOnly","transformedAttributeMap","toTransformedAttributes","newName","oldName","outNonAlpineAttributes","typeMatch","alpineAttributeRegex","valueMatch","modifiers","original","toParsedDirectives","sort","byPriority","onAttributeRemoved","fullHandler","inline","isDeferringHandlers","directiveHandlerStacks","currentHandlerStackKey","runCleanups","getDirectiveHandler","Symbol","cleanups","cleanupEffect","Alpine","startingWith","replacement","startsWith","newValue","attributeTransformers","transform","mapAttributes","RegExp","DEFAULT","a","b","typeA","typeB","dispatch","composed","walk","skip","firstElementChild","rootSelectorCallbacks","initSelectorCallbacks","rootSelectors","allSelectors","addRootSelector","selectorCallback","addInitSelector","closestRoot","includeInitSelectors","findClosest","_x_teleportBack","initTree","walker","intercept","flushHandlers","handle","deferHandlingDirectives","destroyTree","tickStack","isHolding","nextTick","releaseNextTicks","res","setClasses","setClassesFromString","classObject","classString","Boolean","forAdd","bool","forRemove","added","removed","setClassesFromObject","classes","missingClasses","setStyles","previousStyles","style","setProperty","setStylesFromObject","setStylesFromString","fallback","called","arguments","registerTransitionObject","setFunction","defaultValue","_x_transition","enter","during","leave","in","after","transition","out","closestHide","_x_hidePromise","_x_transitioning","cancel","undoStart","undoDuring","undoEnd","stages","interrupted","reachedBefore","reachedEnd","finish","beforeCancels","beforeCancel","requestAnimationFrame","duration","Number","getComputedStyle","transitionDuration","transitionDelay","animationDuration","performTransition","modifierValue","rawValue","isNaN","stage","registerTransitionsFromClassString","doesntSpecify","transitioningIn","transitioningOut","wantsAll","opacityValue","scaleValue","origin","durationIn","durationOut","easing","transformOrigin","transitionProperty","transitionTimingFunction","opacity","registerTransitionsFromHelper","_x_toggleAndCascadeWithTransitions","hide","visibilityState","clickAwayCompatibleShow","isFromCancelledTransition","_x_hideChildren","hideAfterChildren","all","isCloning","skipDuringClone","_x_bindings","fromModel","checkedAttrLooseCompare","isInteger","arrayWrappedValue","options","option","selected","updateSelect","bindInputValue","_x_undoAddedStyles","bindStyles","_x_undoAddedClasses","bindClasses","attributeShouldntBePreservedIfFalsy","isBooleanAttr","setIfChanged","bindAttribute","valueA","valueB","debounce","wait","limit","inThrottle","stores","isReactive","binds","applyBindingsObject","cleanupRunners","datas","flushAndStopDeferringMutations","dontAutoEvaluateFunctions","disableEffectScheduling","setReactivityEngine","engine","scheduler","onlyDuringClone","deferMutations","interceptInit","setEvaluator","newEvaluator","prefixed","newPrefix","plugin","store","oldEl","newEl","storedEffect","hasRunThroughFirstEl","isRoot","cloneTree","dontRegisterReactiveSideEffects","bound","$data","bindings","getBindings","makeMap","expectsLowerCase","create","list","EMPTY_OBJ","hasOwn","isMap","toTypeString","isSymbol","objectToString","isIntegerKey","parseInt","cacheStringFunction","camelizeRE","hyphenateRE","c","capitalize","targetMap","WeakMap","effectStack","activeEffect","ITERATE_KEY","MAP_KEY_ITERATE_KEY","uid","deps","shouldTrack","trackStack","resetTracking","track","depsMap","dep","oldTarget","effects","effectsToAdd","allowRecurse","isNonTrackableKeys","builtInSymbols","getOwnPropertyNames","createGetter","readonlyGet","arrayInstrumentations","createArrayInstrumentations","instrumentations","toRaw","l","isReadonly","shallow","shallowReadonlyMap","readonlyMap","shallowReactiveMap","reactiveMap","targetIsArray","Reflect","isRef","readonly","createSetter","hadKey","mutableHandlers","deleteProperty","readonlyHandlers","toReactive","toReadonly","toShallow","getProto","get$1","isShallow","rawTarget","rawKey","wrap","has$1","size","set$1","deleteEntry","clear","hadItems","createForEach","thisArg","observed","createIterableMethod","method","targetIsMap","isPair","iterator","isKeyOnly","innerIterator","next","done","createReadonlyMethod","createInstrumentations","mutableInstrumentations","shallowInstrumentations","readonlyInstrumentations","shallowReadonlyInstrumentations","createInstrumentationGetter","mutableCollectionHandlers","readonlyCollectionHandlers","createReactiveObject","baseHandlers","collectionHandlers","proxyMap","existingProxy","targetType","isExtensible","rawType","targetTypeMap","proxy","r","__v_isRef","firstTime","_x_refs_proxy","refObjects","currentEl","_x_refs","getArrayOfRefObject","globalIdMemo","findAndIncrementId","warnMissingPluginMagic","magicName","slug","directiveName","entangle","outerGet","outerSet","innerGet","innerSet","outerHash","innerHash","outerHashLatest","innerHashLatest","firstRun","reference","outer","inner","_x_ids","closestIdRoot","evaluateInnerSet","_x_model","_x_removeModelListeners","releaseEntanglement","teleportContainerDuringClone","_x_teleport","_x_forwardEvents","listenerTarget","wrapHandler","wrapper","passive","capture","offsetWidth","offsetHeight","_x_isShown","isKeyEvent","keyModifiers","debounceIndex","isNumeric","keyToModifiers","selectedSystemKeyModifiers","isListeningForASpecificKeyThatHasntBeenPressed","nextModifier","modifierToKeyMap","safeParseNumber","number","isGetterSetter","getIterationScopeVariables","iteratorNames","items","scopeVariables","collection","warnMissingPluginDirective","scopeTarget","evaluateSet","evaluateGet","getValue","setValue","removeListener","currentValue","selectedOptions","getInputValue","removeResetListener","_x_forceModelUpdate","bindingProviders","_x_keyExpression","storeKeyForXFor","magicContext","dataProviderContext","reactiveData","undo","_x_doHide","_x_doShow","display","removeProperty","forIteratorRE","inMatch","iteratorMatch","parseForExpression","evaluateItems","evaluateKey","_x_prevKeys","_x_lookup","templateEl","lookup","prevKeys","scopes","adds","moves","removes","sames","lastKey","prevIndex","keyInSpot","keyForSpot","elInSpot","elForSpot","marker","_x_currentIfEl","lastEl","importNode","loop","_x_undoIf","setIdRoot","_isEffect","isEffect","active","createReactiveEffect","lazy","onStop","TableSetting","freeze","CurrentPage","PerPage","SearchQuery","Sort","SortOrder","Asc","Desc","makeDialog","_a","_b","_c","dialogHTML","cancelText","okText","uniqueId","Date","now","titleId","descriptionId","div","removeDialogInputSection","dialog","documentEventListeners","registerEventListeners","okCallback","cancelCallback","backdrop","dataset","registerDocumentEventListener","cancelButton","okButton","getInputField","button","registerTabTrap","tabbableElements","tabbableElement","computedStyle","visibility","firstTabbableElement","lastTabbableElement","shiftKey","openDialog","container","getDialogContainer","hidden","dialogContainer","closeDialog","eventListenerReference","unregisterDocumentEventListeners","focusOkButton","makeConfirmDialog","focusCancelButton","removeDialogCancelButton","makeAlertDialog","src","rows","filteredRows","filteredRowTotal","sortColumns","currentPage","perPage","maxPage","searchQuery","fetchSetting","sessionStorage","saveSetting","defaultCompare","_index","compare","len","aa","bb","sortOrder","filterArray","x","objVal","y","filterData","filteredData","max","ceil","$nextTick","$root","onSearchQueryInput","debounceTimer","onPerPageInput","newVal","onFirstPageClick","setPage","onLastPageClick","onPreviousPageClick","onNextPageClick","page","onSortClick","findIndex","sortClass","startRowNumber","endRowNumber","isFirstPage","isLastPage","is10PerPage","is20PerPage","is50PerPage","is100PerPage","fetch","json","fetchData"],"sourceRoot":""}