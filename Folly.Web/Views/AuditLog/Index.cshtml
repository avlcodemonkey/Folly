@using Folly.Constants
@using Folly.Extensions
@using Folly.Resources
@using Folly.Utils

<content>
    <breadcrumb>
        <breadcrumb-item label="@AuditLogs.ViewAll" controller="AuditLog" action="Index" active="true" />
    </breadcrumb>

    <partial name="_Alerts" />

    <data-table key="auditLogs" src="@Url.Action("List", "AuditLog")">
        <data-head>
            <th width="@Html.Width(ColumnWidth.SingleIcon)"></th>
            <th data-property="universalDate">@AuditLogs.Date</th>
            <th data-property="userFullName">@AuditLogs.User</th>
            <th data-property="stateDesc">@AuditLogs.State</th>
            <th data-property="entity">@AuditLogs.Entity</th>
            <th data-property="batchId">@AuditLogs.Batch</th>
        </data-head>
        <data-body colspan="6">
            <td>
                <a authorize-roles="auditlog.view" href="@Url.ActionForMustache("View")" class="button primary">
                    <icon name="Search" label="@AuditLogs.ViewAuditLog" />
                </a>
            </td>
            @* @todo replace this date-format when a user setting is added*@
            <td><nilla-date data-date-format="MM/DD/YYYY hh:mm:ss A">{{universalDate}}</nilla-date></td>
            <td>{{userFullName}}</td>
            <td>{{stateDesc}}</td>
            <td>{{entity}}</td>
            <td>{{batchId}}</td>
        </data-body>
    </data-table>
</content>
